{"ast":null,"code":"var _jsxFileName = \"E:\\\\infyle\\\\Grocerry_final\\\\frontend\\\\src\\\\pages\\\\admin\\\\PriceAnalytics.jsx\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState } from \"react\";\n// import axios from \"axios\";\n// import {\n//   Chart as ChartJS,\n//   CategoryScale,\n//   LinearScale,\n//   PointElement,\n//   LineElement,\n//   Title,\n//   Tooltip,\n//   Legend,\n// } from \"chart.js\";\n// import { Line } from \"react-chartjs-2\";\n// import \"./PriceAnalytics.css\";\n\n// ChartJS.register(\n//   CategoryScale,\n//   LinearScale,\n//   PointElement,\n//   LineElement,\n//   Title,\n//   Tooltip,\n//   Legend\n// );\n\n// const API_BASE = \"https://grocerrybackend.vercel.app/api\";\n\n// const PriceAnalytics = () => {\n//   const [loading, setLoading] = useState(true);\n//   const [productList, setProductList] = useState([]);\n//   const [categoryList, setCategoryList] = useState([]);\n//   const [selectedProduct, setSelectedProduct] = useState(\"\");\n//   const [selectedCategory, setSelectedCategory] = useState(\"\");\n//   const [startDate, setStartDate] = useState(\"\");\n//   const [endDate, setEndDate] = useState(\"\");\n//   const [chartData, setChartData] = useState(null);\n\n//   // üîπ Fetch dropdowns\n//   useEffect(() => {\n//     const fetchDropdowns = async () => {\n//       try {\n//         const [products, categories] = await Promise.all([\n//           axios.get(`${API_BASE}/prices`),\n//           axios.get(`${API_BASE}/categories`),\n//         ]);\n//         setProductList(products.data.data || []);\n//         setCategoryList(categories.data.categories || []);\n//       } catch (err) {\n//         console.error(\"Dropdown fetch error:\", err);\n//       }\n//     };\n//     fetchDropdowns();\n//   }, []);\n\n//   // üîπ Fetch chart data with date filter\n//   const fetchChart = async () => {\n//     setLoading(true);\n//     try {\n//       const res = await axios.get(`${API_BASE}/prices`);\n//       const allPrices = res.data.data || [];\n\n//       // ‚úÖ Filter by Product / Category\n//       let filtered = allPrices;\n//       if (selectedProduct)\n//         filtered = filtered.filter((p) => p.name === selectedProduct);\n//       if (selectedCategory)\n//         filtered = filtered.filter(\n//           (p) => p.category?.name === selectedCategory\n//         );\n\n//       // ‚úÖ Filter by Date Range\n//       if (startDate && endDate) {\n//         const start = new Date(startDate);\n//         const end = new Date(endDate);\n\n//         filtered = filtered.filter((item) => {\n//           const date = new Date(item.validTill || item.createdAt);\n//           return date >= start && date <= end;\n//         });\n//       }\n\n//       // ‚úÖ Group by Date\n//       const groupedByDate = {};\n//       filtered.forEach((item) => {\n//         const dateKey = new Date(\n//           item.validTill || item.createdAt\n//         ).toLocaleDateString(\"en-IN\");\n\n//         if (!groupedByDate[dateKey]) groupedByDate[dateKey] = [];\n//         groupedByDate[dateKey].push(item);\n//       });\n\n//       const labels = Object.keys(groupedByDate);\n\n//       const avgBasePrice = labels.map((d) => {\n//         const dayData = groupedByDate[d];\n//         return (\n//           dayData.reduce((sum, i) => sum + Number(i.basePrice || 0), 0) /\n//           dayData.length\n//         );\n//       });\n\n//       const avgDiff = labels.map((d) => {\n//         const dayData = groupedByDate[d];\n//         return (\n//           dayData.reduce((sum, i) => sum + Number(i.difference || 0), 0) /\n//           dayData.length\n//         );\n//       });\n\n//       const totalCount = labels.map((d) => groupedByDate[d].length);\n\n//       // üîπ Multiple Line Datasets\n//       setChartData({\n//         labels,\n//         datasets: [\n//           {\n//             label: \"Average Base Price (‚Çπ)\",\n//             data: avgBasePrice,\n//             borderColor: \"#007bff\",\n//             backgroundColor: \"rgba(0,123,255,0.3)\",\n//             tension: 0.3,\n//             fill: false,\n//           },\n//           {\n//             label: \"Average Difference (‚Çπ)\",\n//             data: avgDiff,\n//             borderColor: \"#ffc107\",\n//             backgroundColor: \"rgba(255,193,7,0.3)\",\n//             tension: 0.3,\n//             fill: false,\n//           },\n//           {\n//             label: \"Total Products Count\",\n//             data: totalCount,\n//             borderColor: \"#28a745\",\n//             backgroundColor: \"rgba(40,167,69,0.3)\",\n//             tension: 0.3,\n//             fill: false,\n//           },\n//         ],\n//       });\n//     } catch (err) {\n//       console.error(\"Chart fetch error:\", err);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchChart();\n//   }, [selectedProduct, selectedCategory, startDate, endDate]);\n\n//   return (\n//     <div className=\"analytics-container\">\n//       <h2 className=\"analytics-title\">üìÖ Price History & Analytics</h2>\n//       <p className=\"analytics-subtitle\">\n//         Track your product & category price trends over time\n//       </p>\n\n//       {/* Filters */}\n//       <div className=\"filter-section\">\n//         <div className=\"filter-group\">\n//           <label>üßÉ Product:</label>\n//           <select value={selectedProduct} onChange={(e) => setSelectedProduct(e.target.value)}>\n//             <option value=\"\">All Products</option>\n//             {productList.map((p) => (\n//               <option key={p._id} value={p.name}>{p.name}</option>\n//             ))}\n//           </select>\n//         </div>\n\n//         <div className=\"filter-group\">\n//           <label>üóÇÔ∏è Category:</label>\n//           <select value={selectedCategory} onChange={(e) => setSelectedCategory(e.target.value)}>\n//             <option value=\"\">All Categories</option>\n//             {categoryList.map((c) => (\n//               <option key={c._id} value={c.name}>{c.name}</option>\n//             ))}\n//           </select>\n//         </div>\n\n//         <div className=\"filter-group\">\n//           <label>üìÜ From:</label>\n//           <input type=\"date\" value={startDate} onChange={(e) => setStartDate(e.target.value)} />\n//         </div>\n\n//         <div className=\"filter-group\">\n//           <label>‚û° To:</label>\n//           <input type=\"date\" value={endDate} onChange={(e) => setEndDate(e.target.value)} />\n//         </div>\n\n//         <button className=\"btn refresh\" onClick={fetchChart}>üîÑ Apply</button>\n//       </div>\n\n//       {/* Chart */}\n//       <div className=\"chart-wrapper\">\n//         {loading ? (\n//           <div className=\"loading\">Loading chart...</div>\n//         ) : chartData ? (\n//           <Line\n//             data={chartData}\n//             options={{\n//               responsive: true,\n//               maintainAspectRatio: false,\n//               plugins: {\n//                 legend: { position: \"bottom\" },\n//               },\n//               scales: {\n//                 y: { beginAtZero: true },\n//               },\n//             }}\n//           />\n//         ) : (\n//           <div className=\"no-data\">No data found.</div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default PriceAnalytics;\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from \"chart.js\";\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\nimport { Line } from \"react-chartjs-2\";\nimport \"./PriceAnalytics.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, ChartDataLabels);\nconst API_BASE = \"https://grocerrybackend.vercel.app/api\";\nconst PriceAnalytics = () => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [productList, setProductList] = useState([]);\n  const [categoryList, setCategoryList] = useState([]);\n  const [selectedProduct, setSelectedProduct] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [rangeType, setRangeType] = useState(\"daily\"); // daily | weekly | monthly | yearly\n\n  const [chartData, setChartData] = useState(null);\n\n  // üîπ Fetch dropdown data\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [p, c] = await Promise.all([axios.get(`${API_BASE}/prices`), axios.get(`${API_BASE}/categories`)]);\n        setProductList(p.data.data || []);\n        setCategoryList(c.data.categories || []);\n      } catch (err) {\n        console.log(\"Error:\", err);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // üî• Date Grouping Function\n  const groupByRange = date => {\n    const d = new Date(date);\n    if (rangeType === \"daily\") return d.toLocaleDateString(\"en-IN\");\n    if (rangeType === \"weekly\") {\n      const week = Math.ceil(d.getDate() / 7);\n      return `${d.toLocaleString(\"default\", {\n        month: \"short\"\n      })} - Week ${week}`;\n    }\n    if (rangeType === \"monthly\") {\n      return `${d.toLocaleString(\"default\", {\n        month: \"short\"\n      })} ${d.getFullYear()}`;\n    }\n    if (rangeType === \"yearly\") {\n      return d.getFullYear();\n    }\n  };\n\n  // üîπ Fetch Chart with filters\n  const fetchChart = async () => {\n    setLoading(true);\n    try {\n      const res = await axios.get(`${API_BASE}/prices`);\n      let all = res.data.data || [];\n\n      // Filter by product\n      if (selectedProduct) {\n        all = all.filter(p => p.name === selectedProduct);\n      }\n\n      // Filter by category\n      if (selectedCategory) {\n        all = all.filter(p => {\n          var _p$category;\n          return ((_p$category = p.category) === null || _p$category === void 0 ? void 0 : _p$category.name) === selectedCategory;\n        });\n      }\n\n      // Grouping\n      const grouped = {};\n      all.forEach(p => {\n        const key = groupByRange(p.validTill || p.createdAt);\n        if (!grouped[key]) grouped[key] = [];\n        grouped[key].push(p);\n      });\n      const labels = Object.keys(grouped);\n\n      // Avg base price\n      const basePrice = labels.map(d => {\n        const arr = grouped[d];\n        return arr.reduce((s, x) => s + Number(x.basePrice || 0), 0) / arr.length;\n      });\n\n      // Avg difference\n      const diff = labels.map(d => {\n        const arr = grouped[d];\n        return arr.reduce((s, x) => s + Number(x.difference || 0), 0) / arr.length;\n      });\n\n      // Final Price\n      const finalPrice = labels.map(d => {\n        const arr = grouped[d];\n        return arr.reduce((s, x) => s + (Number(x.basePrice || 0) + Number(x.difference || 0)), 0) / arr.length;\n      });\n      setChartData({\n        labels,\n        datasets: [{\n          label: \"Final Price (‚Çπ)\",\n          data: finalPrice,\n          borderColor: \"#007bff\",\n          backgroundColor: \"rgba(0,123,255,0.3)\",\n          tension: 0.4\n        }, {\n          label: \"Base Price (‚Çπ)\",\n          data: basePrice,\n          borderColor: \"#28a745\",\n          backgroundColor: \"rgba(40,167,69,0.3)\",\n          tension: 0.4\n        }, {\n          label: \"Difference (‚Çπ)\",\n          data: diff,\n          borderColor: \"#ffc107\",\n          backgroundColor: \"rgba(255,193,7,0.3)\",\n          tension: 0.4\n        }]\n      });\n    } catch (e) {\n      console.log(\"Chart Error:\", e);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchChart();\n  }, [selectedProduct, selectedCategory, rangeType]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"analytics-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"analytics-title\",\n      children: \"\\uD83D\\uDCCA Price History & Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedProduct,\n        onChange: e => setSelectedProduct(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), productList.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: p.name,\n          children: p.name\n        }, p._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedCategory,\n        onChange: e => setSelectedCategory(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), categoryList.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c.name,\n          children: c.name\n        }, c._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: rangeType,\n        onChange: e => setRangeType(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"daily\",\n          children: \"Daily\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"weekly\",\n          children: \"Weekly\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"monthly\",\n          children: \"Monthly\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"yearly\",\n          children: \"Yearly\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn refresh\",\n        onClick: fetchChart,\n        children: \"\\uD83D\\uDD04 Apply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-wrapper\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Line, {\n        data: chartData,\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: \"bottom\"\n            },\n            // ‚≠ê Always Visible Labels ‚≠ê\n            datalabels: {\n              color: \"#000\",\n              anchor: \"end\",\n              align: \"top\",\n              formatter: v => `‚Çπ${v}`,\n              font: {\n                size: 12,\n                weight: \"bold\"\n              }\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 5\n  }, this);\n};\n_s(PriceAnalytics, \"Is9g4lcN0ghwZZoka5Sa8tRXNd8=\");\n_c = PriceAnalytics;\nexport default PriceAnalytics;\nvar _c;\n$RefreshReg$(_c, \"PriceAnalytics\");","map":{"version":3,"names":["React","useEffect","useState","axios","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","ChartDataLabels","Line","jsxDEV","_jsxDEV","register","API_BASE","PriceAnalytics","_s","loading","setLoading","productList","setProductList","categoryList","setCategoryList","selectedProduct","setSelectedProduct","selectedCategory","setSelectedCategory","rangeType","setRangeType","chartData","setChartData","fetchData","p","c","Promise","all","get","data","categories","err","console","log","groupByRange","date","d","Date","toLocaleDateString","week","Math","ceil","getDate","toLocaleString","month","getFullYear","fetchChart","res","filter","name","_p$category","category","grouped","forEach","key","validTill","createdAt","push","labels","Object","keys","basePrice","map","arr","reduce","s","x","Number","length","diff","difference","finalPrice","datasets","label","borderColor","backgroundColor","tension","e","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","_id","onClick","options","responsive","plugins","legend","position","datalabels","color","anchor","align","formatter","v","font","size","weight","_c","$RefreshReg$"],"sources":["E:/infyle/Grocerry_final/frontend/src/pages/admin/PriceAnalytics.jsx"],"sourcesContent":["\r\n\r\n// import React, { useEffect, useState } from \"react\";\r\n// import axios from \"axios\";\r\n// import {\r\n//   Chart as ChartJS,\r\n//   CategoryScale,\r\n//   LinearScale,\r\n//   PointElement,\r\n//   LineElement,\r\n//   Title,\r\n//   Tooltip,\r\n//   Legend,\r\n// } from \"chart.js\";\r\n// import { Line } from \"react-chartjs-2\";\r\n// import \"./PriceAnalytics.css\";\r\n\r\n// ChartJS.register(\r\n//   CategoryScale,\r\n//   LinearScale,\r\n//   PointElement,\r\n//   LineElement,\r\n//   Title,\r\n//   Tooltip,\r\n//   Legend\r\n// );\r\n\r\n// const API_BASE = \"https://grocerrybackend.vercel.app/api\";\r\n\r\n// const PriceAnalytics = () => {\r\n//   const [loading, setLoading] = useState(true);\r\n//   const [productList, setProductList] = useState([]);\r\n//   const [categoryList, setCategoryList] = useState([]);\r\n//   const [selectedProduct, setSelectedProduct] = useState(\"\");\r\n//   const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n//   const [startDate, setStartDate] = useState(\"\");\r\n//   const [endDate, setEndDate] = useState(\"\");\r\n//   const [chartData, setChartData] = useState(null);\r\n\r\n//   // üîπ Fetch dropdowns\r\n//   useEffect(() => {\r\n//     const fetchDropdowns = async () => {\r\n//       try {\r\n//         const [products, categories] = await Promise.all([\r\n//           axios.get(`${API_BASE}/prices`),\r\n//           axios.get(`${API_BASE}/categories`),\r\n//         ]);\r\n//         setProductList(products.data.data || []);\r\n//         setCategoryList(categories.data.categories || []);\r\n//       } catch (err) {\r\n//         console.error(\"Dropdown fetch error:\", err);\r\n//       }\r\n//     };\r\n//     fetchDropdowns();\r\n//   }, []);\r\n\r\n//   // üîπ Fetch chart data with date filter\r\n//   const fetchChart = async () => {\r\n//     setLoading(true);\r\n//     try {\r\n//       const res = await axios.get(`${API_BASE}/prices`);\r\n//       const allPrices = res.data.data || [];\r\n\r\n//       // ‚úÖ Filter by Product / Category\r\n//       let filtered = allPrices;\r\n//       if (selectedProduct)\r\n//         filtered = filtered.filter((p) => p.name === selectedProduct);\r\n//       if (selectedCategory)\r\n//         filtered = filtered.filter(\r\n//           (p) => p.category?.name === selectedCategory\r\n//         );\r\n\r\n//       // ‚úÖ Filter by Date Range\r\n//       if (startDate && endDate) {\r\n//         const start = new Date(startDate);\r\n//         const end = new Date(endDate);\r\n\r\n//         filtered = filtered.filter((item) => {\r\n//           const date = new Date(item.validTill || item.createdAt);\r\n//           return date >= start && date <= end;\r\n//         });\r\n//       }\r\n\r\n//       // ‚úÖ Group by Date\r\n//       const groupedByDate = {};\r\n//       filtered.forEach((item) => {\r\n//         const dateKey = new Date(\r\n//           item.validTill || item.createdAt\r\n//         ).toLocaleDateString(\"en-IN\");\r\n\r\n//         if (!groupedByDate[dateKey]) groupedByDate[dateKey] = [];\r\n//         groupedByDate[dateKey].push(item);\r\n//       });\r\n\r\n//       const labels = Object.keys(groupedByDate);\r\n\r\n//       const avgBasePrice = labels.map((d) => {\r\n//         const dayData = groupedByDate[d];\r\n//         return (\r\n//           dayData.reduce((sum, i) => sum + Number(i.basePrice || 0), 0) /\r\n//           dayData.length\r\n//         );\r\n//       });\r\n\r\n//       const avgDiff = labels.map((d) => {\r\n//         const dayData = groupedByDate[d];\r\n//         return (\r\n//           dayData.reduce((sum, i) => sum + Number(i.difference || 0), 0) /\r\n//           dayData.length\r\n//         );\r\n//       });\r\n\r\n//       const totalCount = labels.map((d) => groupedByDate[d].length);\r\n\r\n//       // üîπ Multiple Line Datasets\r\n//       setChartData({\r\n//         labels,\r\n//         datasets: [\r\n//           {\r\n//             label: \"Average Base Price (‚Çπ)\",\r\n//             data: avgBasePrice,\r\n//             borderColor: \"#007bff\",\r\n//             backgroundColor: \"rgba(0,123,255,0.3)\",\r\n//             tension: 0.3,\r\n//             fill: false,\r\n//           },\r\n//           {\r\n//             label: \"Average Difference (‚Çπ)\",\r\n//             data: avgDiff,\r\n//             borderColor: \"#ffc107\",\r\n//             backgroundColor: \"rgba(255,193,7,0.3)\",\r\n//             tension: 0.3,\r\n//             fill: false,\r\n//           },\r\n//           {\r\n//             label: \"Total Products Count\",\r\n//             data: totalCount,\r\n//             borderColor: \"#28a745\",\r\n//             backgroundColor: \"rgba(40,167,69,0.3)\",\r\n//             tension: 0.3,\r\n//             fill: false,\r\n//           },\r\n//         ],\r\n//       });\r\n//     } catch (err) {\r\n//       console.error(\"Chart fetch error:\", err);\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchChart();\r\n//   }, [selectedProduct, selectedCategory, startDate, endDate]);\r\n\r\n//   return (\r\n//     <div className=\"analytics-container\">\r\n//       <h2 className=\"analytics-title\">üìÖ Price History & Analytics</h2>\r\n//       <p className=\"analytics-subtitle\">\r\n//         Track your product & category price trends over time\r\n//       </p>\r\n\r\n//       {/* Filters */}\r\n//       <div className=\"filter-section\">\r\n//         <div className=\"filter-group\">\r\n//           <label>üßÉ Product:</label>\r\n//           <select value={selectedProduct} onChange={(e) => setSelectedProduct(e.target.value)}>\r\n//             <option value=\"\">All Products</option>\r\n//             {productList.map((p) => (\r\n//               <option key={p._id} value={p.name}>{p.name}</option>\r\n//             ))}\r\n//           </select>\r\n//         </div>\r\n\r\n//         <div className=\"filter-group\">\r\n//           <label>üóÇÔ∏è Category:</label>\r\n//           <select value={selectedCategory} onChange={(e) => setSelectedCategory(e.target.value)}>\r\n//             <option value=\"\">All Categories</option>\r\n//             {categoryList.map((c) => (\r\n//               <option key={c._id} value={c.name}>{c.name}</option>\r\n//             ))}\r\n//           </select>\r\n//         </div>\r\n\r\n//         <div className=\"filter-group\">\r\n//           <label>üìÜ From:</label>\r\n//           <input type=\"date\" value={startDate} onChange={(e) => setStartDate(e.target.value)} />\r\n//         </div>\r\n\r\n//         <div className=\"filter-group\">\r\n//           <label>‚û° To:</label>\r\n//           <input type=\"date\" value={endDate} onChange={(e) => setEndDate(e.target.value)} />\r\n//         </div>\r\n\r\n//         <button className=\"btn refresh\" onClick={fetchChart}>üîÑ Apply</button>\r\n//       </div>\r\n\r\n//       {/* Chart */}\r\n//       <div className=\"chart-wrapper\">\r\n//         {loading ? (\r\n//           <div className=\"loading\">Loading chart...</div>\r\n//         ) : chartData ? (\r\n//           <Line\r\n//             data={chartData}\r\n//             options={{\r\n//               responsive: true,\r\n//               maintainAspectRatio: false,\r\n//               plugins: {\r\n//                 legend: { position: \"bottom\" },\r\n//               },\r\n//               scales: {\r\n//                 y: { beginAtZero: true },\r\n//               },\r\n//             }}\r\n//           />\r\n//         ) : (\r\n//           <div className=\"no-data\">No data found.</div>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default PriceAnalytics;\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport \"./PriceAnalytics.css\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ChartDataLabels\r\n);\r\n\r\nconst API_BASE = \"https://grocerrybackend.vercel.app/api\";\r\n\r\nconst PriceAnalytics = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [productList, setProductList] = useState([]);\r\n  const [categoryList, setCategoryList] = useState([]);\r\n\r\n  const [selectedProduct, setSelectedProduct] = useState(\"\");\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  const [rangeType, setRangeType] = useState(\"daily\"); // daily | weekly | monthly | yearly\r\n\r\n  const [chartData, setChartData] = useState(null);\r\n\r\n  // üîπ Fetch dropdown data\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [p, c] = await Promise.all([\r\n          axios.get(`${API_BASE}/prices`),\r\n          axios.get(`${API_BASE}/categories`),\r\n        ]);\r\n\r\n        setProductList(p.data.data || []);\r\n        setCategoryList(c.data.categories || []);\r\n      } catch (err) {\r\n        console.log(\"Error:\", err);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // üî• Date Grouping Function\r\n  const groupByRange = (date) => {\r\n    const d = new Date(date);\r\n\r\n    if (rangeType === \"daily\")\r\n      return d.toLocaleDateString(\"en-IN\");\r\n\r\n    if (rangeType === \"weekly\") {\r\n      const week = Math.ceil(d.getDate() / 7);\r\n      return `${d.toLocaleString(\"default\", { month: \"short\" })} - Week ${week}`;\r\n    }\r\n\r\n    if (rangeType === \"monthly\") {\r\n      return `${d.toLocaleString(\"default\", { month: \"short\" })} ${d.getFullYear()}`;\r\n    }\r\n\r\n    if (rangeType === \"yearly\") {\r\n      return d.getFullYear();\r\n    }\r\n  };\r\n\r\n  // üîπ Fetch Chart with filters\r\n  const fetchChart = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.get(`${API_BASE}/prices`);\r\n      let all = res.data.data || [];\r\n\r\n      // Filter by product\r\n      if (selectedProduct) {\r\n        all = all.filter((p) => p.name === selectedProduct);\r\n      }\r\n\r\n      // Filter by category\r\n      if (selectedCategory) {\r\n        all = all.filter((p) => p.category?.name === selectedCategory);\r\n      }\r\n\r\n      // Grouping\r\n      const grouped = {};\r\n      all.forEach((p) => {\r\n        const key = groupByRange(p.validTill || p.createdAt);\r\n        if (!grouped[key]) grouped[key] = [];\r\n        grouped[key].push(p);\r\n      });\r\n\r\n      const labels = Object.keys(grouped);\r\n\r\n      // Avg base price\r\n      const basePrice = labels.map((d) => {\r\n        const arr = grouped[d];\r\n        return arr.reduce((s, x) => s + Number(x.basePrice || 0), 0) / arr.length;\r\n      });\r\n\r\n      // Avg difference\r\n      const diff = labels.map((d) => {\r\n        const arr = grouped[d];\r\n        return arr.reduce((s, x) => s + Number(x.difference || 0), 0) / arr.length;\r\n      });\r\n\r\n      // Final Price\r\n      const finalPrice = labels.map((d) => {\r\n        const arr = grouped[d];\r\n        return arr.reduce(\r\n          (s, x) => s + (Number(x.basePrice || 0) + Number(x.difference || 0)),\r\n          0\r\n        ) / arr.length;\r\n      });\r\n\r\n      setChartData({\r\n        labels,\r\n        datasets: [\r\n          {\r\n            label: \"Final Price (‚Çπ)\",\r\n            data: finalPrice,\r\n            borderColor: \"#007bff\",\r\n            backgroundColor: \"rgba(0,123,255,0.3)\",\r\n            tension: 0.4,\r\n          },\r\n          {\r\n            label: \"Base Price (‚Çπ)\",\r\n            data: basePrice,\r\n            borderColor: \"#28a745\",\r\n            backgroundColor: \"rgba(40,167,69,0.3)\",\r\n            tension: 0.4,\r\n          },\r\n          {\r\n            label: \"Difference (‚Çπ)\",\r\n            data: diff,\r\n            borderColor: \"#ffc107\",\r\n            backgroundColor: \"rgba(255,193,7,0.3)\",\r\n            tension: 0.4,\r\n          },\r\n        ],\r\n      });\r\n    } catch (e) {\r\n      console.log(\"Chart Error:\", e);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchChart();\r\n  }, [selectedProduct, selectedCategory, rangeType]);\r\n\r\n  return (\r\n    <div className=\"analytics-container\">\r\n      <h2 className=\"analytics-title\">üìä Price History & Analytics</h2>\r\n\r\n      {/* Filters */}\r\n      <div className=\"filter-section\">\r\n\r\n        <select value={selectedProduct} onChange={(e) => setSelectedProduct(e.target.value)}>\r\n          <option value=\"\">All Products</option>\r\n          {productList.map((p) => (\r\n            <option key={p._id} value={p.name}>{p.name}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <select value={selectedCategory} onChange={(e) => setSelectedCategory(e.target.value)}>\r\n          <option value=\"\">All Categories</option>\r\n          {categoryList.map((c) => (\r\n            <option key={c._id} value={c.name}>{c.name}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <select value={rangeType} onChange={(e) => setRangeType(e.target.value)}>\r\n          <option value=\"daily\">Daily</option>\r\n          <option value=\"weekly\">Weekly</option>\r\n          <option value=\"monthly\">Monthly</option>\r\n          <option value=\"yearly\">Yearly</option>\r\n        </select>\r\n\r\n        <button className=\"btn refresh\" onClick={fetchChart}>üîÑ Apply</button>\r\n      </div>\r\n\r\n      {/* Chart */}\r\n      <div className=\"chart-wrapper\">\r\n        {loading ? (\r\n          <div className=\"loading\">Loading...</div>\r\n        ) : (\r\n          <Line\r\n            data={chartData}\r\n            options={{\r\n              responsive: true,\r\n              plugins: {\r\n                legend: { position: \"bottom\" },\r\n\r\n                // ‚≠ê Always Visible Labels ‚≠ê\r\n                datalabels: {\r\n                  color: \"#000\",\r\n                  anchor: \"end\",\r\n                  align: \"top\",\r\n                  formatter: (v) => `‚Çπ${v}`,\r\n                  font: { size: 12, weight: \"bold\" },\r\n                },\r\n              },\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PriceAnalytics;\r\n"],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SACEC,KAAK,IAAIC,OAAO,EAChBC,aAAa,EACbC,WAAW,EACXC,YAAY,EACZC,WAAW,EACXC,KAAK,EACLC,OAAO,EACPC,MAAM,QAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}