{"ast":null,"code":"var _jsxFileName = \"E:\\\\infyle\\\\Grocerry_final\\\\frontend\\\\src\\\\pages\\\\PriceList.jsx\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n\n// const API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\n// const CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\n\n// export default function PriceList() {\n//   const [items, setItems] = useState([]);\n//   const [categories, setCategories] = useState([]);\n//   const [subcategories, setSubcategories] = useState([]);\n//   const [search, setSearch] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n\n//   const [form, setForm] = useState({\n//     name: \"\",\n//     category: \"\",\n//     subcategory: \"\",\n//     description: \"\",\n//     basePrice: \"\",\n//     profitLoss: \"\",\n//     validTill: \"\",\n//     file: null,\n//     status: \"inactive\",\n//   });\n\n//   const [editId, setEditId] = useState(null);\n//   const [showForm, setShowForm] = useState(false);\n//   const [showModal, setShowModal] = useState(false);\n//   const [activeMenu, setActiveMenu] = useState(null);\n\n//   const [selectedItems, setSelectedItems] = useState([]);\n//   const [bulkMode, setBulkMode] = useState(false);\n\n//   const [currentPage, setCurrentPage] = useState(1);\n//   const itemsPerPage = 30;\n\n//   const [filterCategory, setFilterCategory] = useState(\"\");\n//   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\n//   const [filterSubs, setFilterSubs] = useState([]);\n\n//   // Quick edit states for inline editing\n//   const [quickBasePrices, setQuickBasePrices] = useState({});\n//   const [quickProfitLoss, setQuickProfitLoss] = useState({});\n\n//   useEffect(() => {\n//     fetchCategories();\n//   }, []);\n\n//   useEffect(() => {\n//     if (categories.length > 0) fetchItems();\n//   }, [categories]);\n\n//   useEffect(() => {\n//     if (!filterCategory) {\n//       setFilterSubs([]);\n//       setFilterSubcategory(\"\");\n//       return;\n//     }\n//     const cat = categories.find((c) => c._id === filterCategory);\n//     setFilterSubs(cat?.subcategories || []);\n//     setFilterSubcategory(\"\");\n//   }, [filterCategory, categories]);\n\n//   useEffect(() => {\n//     if (!form.category) {\n//       setSubcategories([]);\n//       setForm((prev) => ({ ...prev, subcategory: \"\" }));\n//       return;\n//     }\n//     const cat = categories.find((c) => c._id === form.category);\n//     setSubcategories(cat?.subcategories || []);\n//   }, [form.category, categories]);\n\n//   const fetchCategories = async () => {\n//     try {\n//       const res = await axios.get(CATEGORY_URL);\n//       if (res.data?.success) setCategories(res.data.categories || []);\n//     } catch (err) {\n//       console.error(\"Fetch categories error\", err);\n//       alert(\"Could not fetch categories\");\n//     }\n//   };\n\n//   const fetchItems = async () => {\n//     try {\n//       setLoading(true);\n//       const res = await axios.get(API_URL);\n//       if (res.data?.success) {\n//         const raw = res.data.data || [];\n//         // const enriched = raw.map((item) => {\n//         //   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\n//         //   const subObj = catObj?.subcategories?.find((s) => s._id === (item.subcategory?.id || item.subcategory?._id));\n\n//         //   return {\n//         //     ...item,\n//         //     basePrice: item.basePrice || 0,\n//         //     profitLoss: item.profitLoss || 0,\n//         //     salePrice: item.salePrice || 0,\n//         //     lockedPrice: item.lockedPrice || 0,\n//         //     yesterdayLock: item.yesterdayLock || 0,\n//         //     brokerDisplay: item.brokerDisplay || 0,\n//         //     category: catObj ? { _id: catObj._id, name: catObj.name } : item.category,\n//         //     subcategory: subObj ? { _id: subObj._id, name: subObj.name } : item.subcategory,\n//         //   };\n//         // });\n//         const enriched = raw.map((item) => {\n//   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\n\n//   const subObj = catObj?.subcategories?.find(\n//     (s) => s._id === item.subcategory?.id\n//   );\n\n//   return {\n//     ...item,\n//     category: catObj ? { _id: catObj._id, name: catObj.name } : null,\n//     subcategory: subObj\n//       ? { _id: subObj._id, name: subObj.name }\n//       : item.subcategory?.id\n//       ? { _id: item.subcategory.id, name: item.subcategory.name }\n//       : null,\n//   };\n// });\n\n//         setItems(enriched);\n//       }\n//     } catch (err) {\n//       console.error(\"Fetch items error\", err);\n//       alert(\"Could not fetch items\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleChange = (e) => {\n//     const { name, value, files } = e.target;\n//     if (files?.length) {\n//       setForm((p) => ({ ...p, file: files[0] }));\n//     } else {\n//       setForm((p) => ({ ...p, [name]: value }));\n//     }\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n\n//     try {\n//       if (!form.name || !form.category || !form.basePrice) {\n//         alert(\"Name, category & base price are required\");\n//         setLoading(false);\n//         return;\n//       }\n\n//       const fd = new FormData();\n//       fd.append(\"name\", form.name);\n//       fd.append(\"category\", form.category);\n//       // if (form.subcategory) fd.append(\"subcategory\", form.subcategory);\n//       if (form.subcategory) {\n//   const sub = subcategories.find((s) => s._id === form.subcategory);\n//   fd.append(\"subcategory[id]\", sub._id);\n//   fd.append(\"subcategory[name]\", sub.name);\n//   fd.append(\"subcategory[image]\", sub.image || \"\");\n// }\n\n//       fd.append(\"basePrice\", form.basePrice);\n//       fd.append(\"profitLoss\", form.profitLoss || 0);\n//       if (form.description) fd.append(\"description\", form.description);\n//       if (form.validTill) fd.append(\"validTill\", form.validTill);\n//       fd.append(\"status\", form.status);\n//       if (form.file) fd.append(\"file\", form.file);\n\n//       if (editId) {\n//         await axios.put(`${API_URL}/${editId}`, fd);\n//         alert(\"Updated successfully\");\n//       } else {\n//         await axios.post(API_URL, fd);\n//         alert(\"Added successfully\");\n//       }\n\n//       await fetchItems();\n//       resetForm();\n//     } catch (err) {\n//       console.error(\"Save error\", err);\n//       alert(\"Save failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const resetForm = () => {\n//     setForm({\n//       name: \"\",\n//       category: \"\",\n//       subcategory: \"\",\n//       description: \"\",\n//       basePrice: \"\",\n//       profitLoss: \"\",\n//       validTill: \"\",\n//       file: null,\n//       status: \"inactive\",\n//     });\n//     setEditId(null);\n//     setShowModal(false);\n//     setShowForm(false);\n//   };\n\n//   const handleEdit = (item) => {\n//     setForm({\n//       name: item.name || \"\",\n//       category: item.category?._id?.toString() || \"\",\n//       // subcategory: item.subcategory?.id?.toString() || \"\",\n//       subcategory: item.subcategory?._id || \"\",\n\n//       description: item.description || \"\",\n//       basePrice: item.basePrice || \"\",\n//       profitLoss: item.profitLoss || 0,\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\n//       file: null,\n//       status: item.status || \"inactive\",\n//     });\n\n//     const cat = categories.find((c) => c._id === item.category?._id);\n//     setSubcategories(cat?.subcategories || []);\n\n//     setEditId(item._id);\n//     setShowModal(true);\n//     setActiveMenu(null);\n//   };\n\n//   const handleDelete = async (id) => {\n//     if (!window.confirm(\"Delete this item?\")) return;\n//     try {\n//       await axios.delete(`${API_URL}/${id}`);\n//       setItems((prev) => prev.filter((x) => x._id !== id));\n//       setSelectedItems((prev) => prev.filter((x) => x !== id));\n//       setActiveMenu(null);\n//     } catch (err) {\n//       console.error(\"Delete error\", err);\n//       alert(\"Delete failed\");\n//     }\n//   };\n\n//   const handleStatusToggle = async (item) => {\n//     try {\n//       const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\n//       await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\n//       setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\n//     } catch (err) {\n//       console.error(\"Status toggle error\", err);\n//       alert(\"Status update failed\");\n//     }\n//   };\n\n//   const updateLocalItemField = (id, key, value) => {\n//     setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\n//   };\n\n//   const handleBulkSave = async () => {\n//     if (!selectedItems.length) return alert(\"No items selected\");\n\n//     const updates = items\n//       .filter((x) => selectedItems.includes(x._id))\n//       .map((x) => ({\n//         id: x._id,\n//         basePrice: Number(x.basePrice),\n//         profitLoss: Number(x.profitLoss),\n//         status: x.status,\n//       }));\n\n//     try {\n//       await axios.post(`${API_URL}/bulk-update`, { products: updates });\n//       alert(\"Bulk save successful\");\n//       setBulkMode(false);\n//       setSelectedItems([]);\n//       fetchItems();\n//     } catch (err) {\n//       console.error(\"Bulk save error\", err);\n//       alert(\"Bulk save failed\");\n//     }\n//   };\n\n//   const handleBulkDelete = async () => {\n//     if (!selectedItems.length) return alert(\"No items selected\");\n//     if (!window.confirm(\"Delete selected items?\")) return;\n\n//     try {\n//       await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\n//       setSelectedItems([]);\n//       fetchItems();\n//       setBulkMode(false);\n//     } catch (err) {\n//       console.error(\"Bulk delete error\", err);\n//       alert(\"Bulk delete failed\");\n//     }\n//   };\n\n//   // Update Base Price inline\n//   const updateBasePrice = async (item) => {\n//     const newBase = Number(quickBasePrices[item._id] ?? item.basePrice);\n//     if (isNaN(newBase)) return alert(\"Invalid Base Price\");\n\n//     try {\n//       setLoading(true);\n//       const fd = new FormData();\n//       fd.append(\"name\", item.name);\n//       fd.append(\"category\", item.category?._id);\n//       if (item.subcategory?.id) fd.append(\"subcategory\", item.subcategory.id);\n//       fd.append(\"description\", item.description || \"\");\n//       fd.append(\"basePrice\", newBase);\n//       fd.append(\"profitLoss\", item.profitLoss);\n//       fd.append(\"status\", item.status);\n\n//       const res = await axios.put(`${API_URL}/${item._id}`, fd);\n//       if (res.data.success) {\n//         await fetchItems();\n//         setQuickBasePrices((p) => ({ ...p, [item._id]: undefined }));\n//         alert(\"Base price updated\");\n//       }\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Update failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   // Update Profit/Loss inline using updateDiff\n//   const updateProfitLoss = async (item) => {\n//     const diff = Number(quickProfitLoss[item._id] ?? 0);\n//     if (isNaN(diff)) return alert(\"Invalid Profit/Loss\");\n\n//     try {\n//       setLoading(true);\n//       const res = await axios.put(`${API_URL}/updateDiff/${item._id}`, { diff });\n//       if (res.data.success) {\n//         await fetchItems();\n//         setQuickProfitLoss((p) => ({ ...p, [item._id]: undefined }));\n//         alert(\"Profit/Loss updated\");\n//       }\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Update failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const filteredItems = items.filter((item) => {\n//     const t = search.toLowerCase();\n//     const matchText =\n//       (item.name || \"\").toLowerCase().includes(t) ||\n//       (item.category?.name || \"\").toLowerCase().includes(t) ||\n//       (item.subcategory?.name || \"\").toLowerCase().includes(t);\n\n//     const matchCategory = !filterCategory || item.category?._id === filterCategory;\n//     const matchSub = !filterSubcategory || item.subcategory?._id === filterSubcategory;\n\n//     return matchText && matchCategory && matchSub;\n//   });\n\n//   const indexOfLast = currentPage * itemsPerPage;\n//   const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\n//   const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\n\n//   return (\n//     <div className=\"container\" style={styles.container}>\n//       <div style={styles.header}>\n//         <h1 style={styles.title}>Product Management</h1>\n//       </div>\n\n//       <div style={{ marginBottom: 12, display: \"flex\", gap: 12, flexWrap: \"wrap\" }}>\n//         <input\n//           type=\"text\"\n//           placeholder=\"Search product, category or subcategory...\"\n//           value={search}\n//           onChange={(e) => {\n//             setSearch(e.target.value);\n//             setCurrentPage(1);\n//           }}\n//           style={styles.searchInput}\n//         />\n\n//         <button\n//           style={styles.addButton}\n//           onClick={() => {\n//             setShowForm(!showForm);\n//             setEditId(null);\n//           }}\n//         >\n//           {showForm ? \"‚úñ Close\" : \"‚ûï Add Product\"}\n//         </button>\n//       </div>\n// <button\n//   style={styles.addButton}\n//   onClick={() => window.open(`${API_URL}/export`, \"_blank\")}\n// >\n//   ‚¨á Export CSV\n// </button>\n\n// <label style={{ cursor: \"pointer\" }}>\n//   <input\n//     type=\"file\"\n//     accept=\".csv\"\n//     style={{ display: \"none\" }}\n//     onChange={async (e) => {\n//       try {\n//         const fd = new FormData();\n//         fd.append(\"file\", e.target.files[0]);\n//         await axios.post(`${API_URL}/import`, fd);\n//         alert(\"Imported successfully\");\n//         fetchItems();\n//       } catch (err) {\n//         alert(\"Import failed\");\n//       }\n//     }}\n//   />\n//   <span style={styles.addButton}>üì§ Import CSV</span>\n// </label>\n\n//       <div style={{ display: \"flex\", gap: 10, marginBottom: 12, flexWrap: \"wrap\" }}>\n//         <select\n//           value={filterCategory}\n//           onChange={(e) => setFilterCategory(e.target.value)}\n//           style={styles.select}\n//         >\n//           <option value=\"\">Filter by Category</option>\n//           {categories.map((c) => (\n//             <option key={c._id} value={c._id}>\n//               {c.name}\n//             </option>\n//           ))}\n//         </select>\n\n//         <select\n//           value={filterSubcategory}\n//           onChange={(e) => setFilterSubcategory(e.target.value)}\n//           disabled={!filterSubs.length}\n//           style={styles.select}\n//         >\n//           <option value=\"\">Filter by Subcategory</option>\n//           {filterSubs.map((s) => (\n//             <option key={s._id} value={s._id}>\n//               {s.name}\n//             </option>\n//           ))}\n//         </select>\n//       </div>\n\n//       {selectedItems.length > 0 && (\n//         <div style={styles.bulkBar}>\n//           {!bulkMode ? (\n//             <div style={{ display: \"flex\", gap: 8 }}>\n//               <button style={styles.btnDelete} onClick={handleBulkDelete}>\n//                 üóë Bulk Delete\n//               </button>\n//               <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\n//                 ‚úè Bulk Edit\n//               </button>\n//             </div>\n//           ) : (\n//             <div style={styles.bulkPanel}>\n//               <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\n\n//               {items\n//                 .filter((item) => selectedItems.includes(item._id))\n//                 .map((item) => (\n//                   <div key={item._id} style={styles.bulkItemBox}>\n//                     <h4 style={styles.bulkItemTitle}>{item.name}</h4>\n\n//                     <div style={styles.formGrid}>\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Base Price</label>\n//                         <input\n//                           type=\"number\"\n//                           value={item.basePrice}\n//                           onChange={(e) => updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))}\n//                           style={styles.input}\n//                         />\n//                       </div>\n\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Profit/Loss</label>\n//                         <input\n//                           type=\"number\"\n//                           value={item.profitLoss}\n//                           onChange={(e) => updateLocalItemField(item._id, \"profitLoss\", Number(e.target.value))}\n//                           style={styles.input}\n//                         />\n//                       </div>\n\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Status</label>\n//                         <select\n//                           value={item.status}\n//                           onChange={(e) => updateLocalItemField(item._id, \"status\", e.target.value)}\n//                           style={styles.select}\n//                         >\n//                           <option value=\"active\">active</option>\n//                           <option value=\"inactive\">inactive</option>\n//                         </select>\n//                       </div>\n//                     </div>\n//                   </div>\n//                 ))}\n\n//               {/* <div style={{ display: \"flex\", gap: 10, marginTop: 12 }}>\n//                 <button style={styles.btnPrimary} onClick={handleBulkSave}>\n//                   ‚úî Save All\n//                 </button>\n//                 <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\n//                   ‚úñ Cancel\n//                 </button>\n//               </div> */}\n//               <div style={{ display: \"flex\", gap: 10, marginTop: 12, flexWrap: 'wrap' }}>\n\n//   <button style={styles.btnPrimary} onClick={handleBulkSave}>\n//     ‚úî Save All\n//   </button>\n\n//   <button\n//     style={styles.btnPrimary}\n//     onClick={async () => {\n//       if (!selectedItems.length) return alert(\"No items selected\");\n\n//       for (let id of selectedItems) await axios.post(`${API_URL}/copy/${id}`);\n\n//       alert(\"Selected copied\");\n//       fetchItems();\n//     }}\n//   >\n//     üìÑ Copy Selected\n//   </button>\n\n//   <button\n//     style={styles.btnPrimary}\n//     onClick={async () => {\n//       if (!selectedItems.length) return alert(\"No items selected\");\n\n//       const res = await axios.post(\n//         `${API_URL}/export-selected`,\n//         { ids: selectedItems },\n//         { responseType: \"blob\" }\n//       );\n\n//       const url = window.URL.createObjectURL(new Blob([res.data]));\n//       const a = document.createElement(\"a\");\n//       a.href = url;\n//       a.download = \"selected.csv\";\n//       a.click();\n//     }}\n//   >\n//     ‚¨á Export Selected\n//   </button>\n\n//   <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\n//     ‚úñ Cancel\n//   </button>\n// </div>\n\n//             </div>\n//           )}\n//         </div>\n//       )}\n\n//       {showForm && (\n//         <div style={styles.formCard}>\n//           <h2 style={styles.formTitle}>‚ûï Add / Edit Product</h2>\n\n//           <form onSubmit={handleSubmit}>\n//             <div style={styles.formGrid}>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Product Name *</label>\n//                 <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Category *</label>\n//                 <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\n//                   <option value=\"\">Select Category</option>\n//                   {categories.map((c) => (\n//                     <option value={c._id} key={c._id}>\n//                       {c.name}\n//                     </option>\n//                   ))}\n//                 </select>\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Subcategory</label>\n//                 <select\n//                   name=\"subcategory\"\n//                   value={form.subcategory}\n//                   onChange={handleChange}\n//                   disabled={!subcategories.length}\n//                   style={styles.select}\n//                 >\n//                   <option value=\"\">Select Subcategory</option>\n//                   {subcategories.map((s) => (\n//                     // <option value={s._id} key={s._id}>\n//                     //   {s.name}\n//                     // </option>\n//                     <option value={s._id}>{s.name}</option>\n\n//                   ))}\n//                 </select>\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Base Price *</label>\n//                 <input\n//                   type=\"number\"\n//                   required\n//                   name=\"basePrice\"\n//                   value={form.basePrice}\n//                   onChange={handleChange}\n//                   style={styles.input}\n//                 />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Profit/Loss</label>\n//                 <input\n//                   type=\"number\"\n//                   name=\"profitLoss\"\n//                   value={form.profitLoss}\n//                   onChange={handleChange}\n//                   style={styles.input}\n//                 />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Valid Till</label>\n//                 <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Image</label>\n//                 <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Status</label>\n//                 <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\n//                   <option value=\"active\">Active</option>\n//                   <option value=\"inactive\">Inactive</option>\n//                 </select>\n//               </div>\n//             </div>\n\n//             <div style={styles.formGroup}>\n//               <label style={styles.label}>Description</label>\n//               <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\n//             </div>\n\n//             <div style={styles.formActions}>\n//               <button style={styles.btnPrimary} disabled={loading}>\n//                 {loading ? \"Saving...\" : editId ? \"Update Product\" : \"Add Product\"}\n//               </button>\n\n//               <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\n//                 Cancel\n//               </button>\n//             </div>\n//           </form>\n//         </div>\n//       )}\n\n//       <div style={styles.tableCard}>\n//         <div style={styles.tableHeader}>\n//           <h2 style={styles.tableTitle}>Items</h2>\n//           <span style={styles.totalCount}>Total: {filteredItems.length}</span>\n//         </div>\n\n//         <div style={styles.tableWrapper}>\n//           <table style={styles.table}>\n//             <thead>\n//               <tr>\n//                 <th style={styles.th}>\n//                   <input\n//                     type=\"checkbox\"\n//                     checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\n//                     onChange={() => {\n//                       if (selectedItems.length === filteredItems.length) setSelectedItems([]);\n//                       else setSelectedItems(filteredItems.map((x) => x._id));\n//                     }}\n//                   />\n//                 </th>\n//                 <th style={styles.th}>Sr</th>\n//                 <th style={styles.th}>Image</th>\n//                 <th style={styles.th}>Name</th>\n//                 <th style={styles.th}>Category</th>\n//                 <th style={styles.th}>Subcategory</th>\n//                 <th style={styles.th}>Base Price</th>\n//                 <th style={styles.th}>Profit/Loss</th>\n//                 <th style={styles.th}>Sale Price</th>\n//                 <th style={styles.th}>Price Lock</th>\n//                 <th style={styles.th}>Teji/Maddi</th>\n//                 <th style={styles.th}>Status</th>\n//                 <th style={styles.th}>Actions</th>\n//               </tr>\n//             </thead>\n\n//             <tbody>\n//               {currentItems.map((item, i) => (\n//                 <tr key={item._id} style={styles.tr}>\n//                   <td style={styles.td}>\n//                     <input\n//                       type=\"checkbox\"\n//                       checked={selectedItems.includes(item._id)}\n//                       onChange={() =>\n//                         setSelectedItems((prev) =>\n//                           prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]\n//                         )\n//                       }\n//                     />\n//                   </td>\n\n//                   <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\n\n//                   <td style={styles.td}>\n//                     {item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}\n//                   </td>\n\n//                   <td style={styles.td}>{item.name}</td>\n//                   <td style={styles.td}>{item.category?.name || \"-\"}</td>\n//                   {/* <td style={styles.td}>{item.subcategory?.name || \"-\"}</td> */}\n//                   <td>{item.subcategory?.name || \"-\"}</td>\n\n//                   {/* BASE PRICE - Editable */}\n//                   <td style={styles.td}>\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n//                       <input\n//                         type=\"number\"\n//                         value={quickBasePrices[item._id] !== undefined ? quickBasePrices[item._id] : item.basePrice}\n//                         onChange={(e) => setQuickBasePrices((p) => ({ ...p, [item._id]: e.target.value }))}\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\n//                       />\n//                       <button style={styles.btnSmall} onClick={() => updateBasePrice(item)}>\n//                         ‚úî\n//                       </button>\n//                     </div>\n//                     <small style={{ color: \"#28a745\", display: \"block\", marginTop: 4 }}>Saved: ‚Çπ{item.basePrice}</small>\n//                   </td>\n\n//                   {/* PROFIT/LOSS - Editable */}\n//                   <td style={styles.td}>\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n//                       <input\n//                         type=\"number\"\n//                         placeholder=\"change\"\n//                         value={quickProfitLoss[item._id] ?? \"\"}\n//                         onChange={(e) => setQuickProfitLoss((p) => ({ ...p, [item._id]: e.target.value }))}\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\n//                       />\n//                       <button style={styles.btnSmall} onClick={() => updateProfitLoss(item)}>\n//                         ‚úî\n//                       </button>\n//                     </div>\n//                     <small style={{ color: \"#666\", display: \"block\", marginTop: 4 }}>Current: {item.profitLoss}</small>\n//                   </td>\n\n//                   {/* SALE PRICE */}\n//                   <td style={styles.td}>‚Çπ{item.salePrice}</td>\n\n//                   {/* PRICE LOCK */}\n//                   <td style={styles.td}>‚Çπ{item.lockedPrice}</td>\n\n//                   {/* TEJI/MADDI */}\n//                   {/* <td style={styles.td}>\n//   {(() => {\n//     const teji = item.salePrice - item.lockedPrice;\n//     return (\n//       <span\n//         style={{\n//           color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\n//           fontWeight: \"600\",\n//         }}\n//       >\n//         {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\n//       </span>\n//     );\n//   })()}\n// </td> */}\n// <td style={styles.td}>\n//   {item.lockedPrice === 0 ? (\n//     <span style={{ color: \"#6c757d\", fontWeight: \"600\" }}>0</span>\n//   ) : (\n//     (() => {\n//       const teji = item.salePrice - item.lockedPrice;\n//       return (\n//         <span\n//           style={{\n//             color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\n//             fontWeight: \"600\",\n//           }}\n//         >\n//           {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\n//         </span>\n//       );\n//     })()\n//   )}\n// </td>\n\n//                   {/* STATUS */}\n//                   <td style={styles.td}>\n//                     <button\n//                       style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\n//                       onClick={() => handleStatusToggle(item)}\n//                     >\n//                       {item.status === \"active\" ? \"Active\" : \"Inactive\"}\n//                     </button>\n//                   </td>\n\n//                   {/* ACTIONS */}\n//                   <td style={styles.td}>\n//                     <div style={{ position: \"relative\" }}>\n//                       <button\n//                         style={styles.menuButton}\n//                         onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\n//                       >\n//                         ‚ãÆ\n//                       </button>\n\n//                       {activeMenu === item._id && (\n//                         <div style={styles.dropdown}>\n//                           {/* <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\n//                             ‚úè Edit\n//                           </button>\n//                           <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\n//                             üóë Delete\n//                           </button> */}\n//                           <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\n//   ‚úè Edit\n// </button>\n\n// <button\n//   style={styles.dropdownItem}\n//   onClick={async () => {\n//     await axios.post(`${API_URL}/copy/${item._id}`);\n//     alert(\"Copied successfully\");\n//     fetchItems();\n//   }}\n// >\n//   üìÑ Copy\n// </button>\n\n// <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\n//   üóë Delete\n// </button>\n\n//                         </div>\n//                       )}\n//                     </div>\n//                   </td>\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//         </div>\n\n//         <div style={styles.pagination}>\n//           <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\n//             Previous\n//           </button>\n\n//           {Array.from({ length: totalPages }, (_, i) => (\n//             <button\n//               key={i}\n//               style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\n//               onClick={() => setCurrentPage(i + 1)}\n//             >\n//               {i + 1}\n//             </button>\n//           ))}\n\n//           <button\n//             style={styles.paginationBtn}\n//             disabled={currentPage === totalPages}\n//             onClick={() => setCurrentPage((p) => p + 1)}\n//           >\n//             Next\n//           </button>\n//         </div>\n//       </div>\n\n//       {showModal && (\n//         <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\n//           <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\n//             <h2 style={styles.modalTitle}>‚úè Edit Product</h2>\n\n//             <form onSubmit={handleSubmit}>\n//               <div style={styles.formGrid}>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Product Name *</label>\n//                   <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Category *</label>\n//                   <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\n//                     <option value=\"\">Select Category</option>\n//                     {categories.map((c) => (\n//                       <option value={c._id} key={c._id}>\n//                         {c.name}\n//                       </option>\n//                     ))}\n//                   </select>\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Subcategory</label>\n//                   <select\n//                     name=\"subcategory\"\n//                     value={form.subcategory}\n//                     onChange={handleChange}\n//                     disabled={!subcategories.length}\n//                     style={styles.select}\n//                   >\n//                     <option value=\"\">Select Subcategory</option>\n//                     {subcategories.map((s) => (\n//                       <option value={s._id} key={s._id}>\n//                         {s.name}\n//                       </option>\n//                     ))}\n//                   </select>\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Base Price *</label>\n//                   <input\n//                     type=\"number\"\n//                     required\n//                     name=\"basePrice\"\n//                     value={form.basePrice}\n//                     onChange={handleChange}\n//                     style={styles.input}\n//                   />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Profit/Loss</label>\n//                   <input\n//                     type=\"number\"\n//                     name=\"profitLoss\"\n//                     value={form.profitLoss}\n//                     onChange={handleChange}\n//                     style={styles.input}\n//                   />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Valid Till</label>\n//                   <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Image</label>\n//                   <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Status</label>\n//                   <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\n//                     <option value=\"active\">Active</option>\n//                     <option value=\"inactive\">Inactive</option>\n//                   </select>\n//                 </div>\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Description</label>\n//                 <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\n//               </div>\n\n//               <div style={styles.formActions}>\n//                 <button style={styles.btnPrimary} disabled={loading}>\n//                   {loading ? \"Saving...\" : \"Update\"}\n//                 </button>\n\n//                 <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\n//                   Cancel\n//                 </button>\n//               </div>\n//             </form>\n//           </div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n// const styles = {\n//   container: { padding: 16, fontFamily: \"Arial, sans-serif\" },\n//   header: { marginBottom: 8 },\n//   title: {\n//     fontSize: \"24px\",\n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//     marginBottom: \"8px\",\n//   },\n//   searchInput: {\n//     flex: \"1\",\n//     minWidth: \"250px\",\n//     padding: \"10px 12px\",\n//     borderRadius: \"10px\",\n//     border: \"1px solid #ced4da\",\n//     background: \"#f9fbfc\",\n//     fontSize: \"14px\",\n//     outline: \"none\",\n//   },\n//   addButton: {\n//     background: \"#007bff\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"10px\",\n//     padding: \"10px 16px\",\n//     fontSize: \"14px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//   },\n//   select: {\n//     padding: \"8px 12px\",\n//     borderRadius: \"8px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     fontSize: \"13px\",\n//     minWidth: \"150px\",\n//   },\n//   bulkBar: {\n//     background: \"#e9f2ff\",\n//     border: \"1px solid #c4d9ff\",\n//     borderRadius: \"10px\",\n//     padding: \"12px\",\n//     marginBottom: \"12px\",\n//   },\n//   bulkPanel: {\n//     width: \"100%\",\n//     background: \"#f7faff\",\n//     border: \"1px solid #cfe2ff\",\n//     padding: \"12px\",\n//     borderRadius: \"10px\",\n//   },\n//   bulkPanelTitle: {\n//     textAlign: \"center\",\n//     fontSize: \"16px\",\n//     fontWeight: \"700\",\n//     marginBottom: \"10px\",\n//     color: \"#0d3b66\",\n//   },\n//   bulkItemBox: {\n//     background: \"#fff\",\n//     border: \"1px solid #dbe5f5\",\n//     padding: \"12px\",\n//     borderRadius: \"8px\",\n//     marginBottom: \"10px\",\n//   },\n//   bulkItemTitle: {\n//     fontSize: \"14px\",\n//     fontWeight: \"600\",\n//     marginBottom: \"8px\",\n//     color: \"#233142\",\n//   },\n//   formCard: {\n//     borderRadius: \"12px\",\n//     padding: \"20px\",\n//     marginBottom: \"18px\",\n//     background: \"#ffffff\",\n//     border: \"1px solid #eef2f7\",\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\n//   },\n//   formTitle: { \n//     fontSize: \"18px\", \n//     fontWeight: \"700\", \n//     marginBottom: 16,\n//     color: \"#0d3b66\",\n//   },\n//   formGrid: {\n//     display: \"grid\",\n//     gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\n//     gap: \"12px\",\n//   },\n//   formGroup: { \n//     display: \"flex\", \n//     flexDirection: \"column\", \n//     gap: \"6px\" \n//   },\n//   label: { \n//     fontWeight: \"600\", \n//     fontSize: \"13px\", \n//     color: \"#233142\" \n//   },\n//   input: {\n//     padding: \"10px\",\n//     borderRadius: \"8px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     fontSize: \"13px\",\n//     outline: \"none\",\n//   },\n//   textarea: {\n//     padding: \"10px\",\n//     borderRadius: \"8px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     minHeight: 80,\n//     fontSize: \"13px\",\n//     outline: \"none\",\n//     resize: \"vertical\",\n//   },\n//   fileInput: { \n//     padding: \"6px\",\n//     fontSize: \"13px\",\n//   },\n//   formActions: { \n//     marginTop: 16, \n//     display: \"flex\", \n//     gap: 10 \n//   },\n//   btnPrimary: {\n//     background: \"#007bff\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"8px\",\n//     padding: \"10px 20px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//   },\n//   btnSmall: {\n//     background: \"#28a745\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"6px\",\n//     padding: \"6px 12px\",\n//     cursor: \"pointer\",\n//     fontSize: \"12px\",\n//     fontWeight: \"600\",\n//   },\n//   btnDelete: {\n//     background: \"#dc3545\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"8px\",\n//     padding: \"8px 14px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//   },\n//   btnCancel: {\n//     background: \"#6c757d\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"8px\",\n//     padding: \"10px 20px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//   },\n//   tableCard: { \n//     marginTop: 16,\n//     background: \"#fff\",\n//     borderRadius: \"12px\",\n//     padding: \"16px\",\n//     border: \"1px solid #eef2f7\",\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\n//   },\n//   tableHeader: { \n//     display: \"flex\", \n//     justifyContent: \"space-between\", \n//     marginBottom: 12,\n//     alignItems: \"center\",\n//   },\n//   tableTitle: { \n//     fontSize: \"18px\", \n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//   },\n//   totalCount: { \n//     fontSize: \"14px\", \n//     color: \"#6c757d\", \n//     fontWeight: \"600\" \n//   },\n//   tableWrapper: { \n//     overflowX: \"auto\",\n//     border: \"1px solid #e9ecef\",\n//     borderRadius: \"8px\",\n//   },\n//   table: { \n//     width: \"100%\", \n//     borderCollapse: \"collapse\", \n//     fontSize: \"13px\" \n//   },\n//   th: { \n//     background: \"#f8f9fa\", \n//     padding: \"12px 10px\", \n//     fontWeight: \"700\", \n//     color: \"#0d3b66\", \n//     textAlign: \"left\",\n//     borderBottom: \"2px solid #dee2e6\",\n//     whiteSpace: \"nowrap\",\n//   },\n//   tr: { \n//     borderBottom: \"1px solid #edf2f7\",\n//     transition: \"background 0.2s\",\n//   },\n//   td: { \n//     padding: \"12px 10px\", \n//     whiteSpace: \"nowrap\", \n//     verticalAlign: \"middle\" \n//   },\n//   tableImg: { \n//     width: \"50px\", \n//     height: \"50px\", \n//     borderRadius: \"6px\", \n//     objectFit: \"cover\" \n//   },\n//   statusActive: { \n//     background: \"#d4edda\", \n//     padding: \"6px 12px\", \n//     borderRadius: \"6px\", \n//     color: \"#155724\", \n//     fontWeight: \"600\", \n//     border: \"1px solid #c3e6cb\", \n//     cursor: \"pointer\",\n//     fontSize: \"12px\",\n//   },\n//   statusInactive: { \n//     background: \"#f8d7da\", \n//     padding: \"6px 12px\", \n//     borderRadius: \"6px\", \n//     color: \"#721c24\", \n//     fontWeight: \"600\", \n//     border: \"1px solid #f5c6cb\", \n//     cursor: \"pointer\",\n//     fontSize: \"12px\",\n//   },\n//   menuButton: { \n//     background: \"#f0f0f0\", \n//     border: \"1px solid #ddd\", \n//     borderRadius: \"6px\", \n//     padding: \"6px 10px\", \n//     fontSize: \"16px\", \n//     cursor: \"pointer\",\n//     fontWeight: \"700\",\n//   },\n//   dropdown: { \n//     position: \"absolute\", \n//     right: 0, \n//     top: 36, \n//     background: \"#fff\", \n//     border: \"1px solid #ddd\", \n//     borderRadius: 8, \n//     zIndex: 100, \n//     minWidth: 140,\n//     boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n//   },\n//   dropdownItem: { \n//     display: \"block\", \n//     width: \"100%\", \n//     padding: \"10px 14px\", \n//     background: \"transparent\", \n//     border: \"none\", \n//     textAlign: \"left\", \n//     cursor: \"pointer\", \n//     fontSize: 13, \n//     fontWeight: 500,\n//     transition: \"background 0.2s\",\n//   },\n//   dropdownItemDelete: { \n//     display: \"block\", \n//     width: \"100%\", \n//     padding: \"10px 14px\", \n//     background: \"transparent\", \n//     border: \"none\", \n//     textAlign: \"left\", \n//     cursor: \"pointer\", \n//     fontSize: 13, \n//     fontWeight: 500, \n//     color: \"#dc3545\",\n//     transition: \"background 0.2s\",\n//   },\n//   pagination: { \n//     marginTop: 16, \n//     display: \"flex\", \n//     justifyContent: \"center\", \n//     gap: 8,\n//     flexWrap: \"wrap\",\n//   },\n//   paginationBtn: { \n//     padding: \"8px 12px\", \n//     borderRadius: 6, \n//     background: \"#fff\", \n//     border: \"1px solid #dee2e6\", \n//     cursor: \"pointer\",\n//     fontSize: \"13px\",\n//     fontWeight: \"500\",\n//   },\n//   paginationBtnActive: { \n//     padding: \"8px 12px\", \n//     borderRadius: 6, \n//     background: \"#007bff\", \n//     color: \"white\", \n//     border: \"1px solid #007bff\", \n//     cursor: \"pointer\",\n//     fontSize: \"13px\",\n//     fontWeight: \"600\",\n//   },\n//   modalOverlay: { \n//     position: \"fixed\", \n//     top: 0, \n//     left: 0, \n//     right: 0, \n//     bottom: 0, \n//     background: \"rgba(0,0,0,0.5)\", \n//     display: \"flex\", \n//     justifyContent: \"center\", \n//     alignItems: \"center\", \n//     zIndex: 1000, \n//     padding: 20 \n//   },\n//   modal: { \n//     background: \"#fff\", \n//     borderRadius: 12, \n//     padding: 24, \n//     maxWidth: 700, \n//     width: \"100%\", \n//     maxHeight: \"90vh\", \n//     overflowY: \"auto\",\n//     boxShadow: \"0 8px 32px rgba(0,0,0,0.2)\",\n//   },\n//   modalTitle: { \n//     fontSize: 20, \n//     fontWeight: \"700\", \n//     color: \"#0d3b66\", \n//     marginBottom: 16, \n//     textAlign: \"center\" \n//   },\n// }\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst APIURL = 'https://grocerrybackend.vercel.app/api/prices';\nconst CATEGORYURL = 'https://grocerrybackend.vercel.app/api/categories';\nexport default function PriceList() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [subcategories, setSubcategories] = useState([]);\n  const [search, setSearch] = useState('');\n  const [priceSort, setPriceSort] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [form, setForm] = useState({\n    name: '',\n    category: '',\n    subcategory: '',\n    description: '',\n    basePrice: '',\n    profitLoss: '',\n    validTill: '',\n    file: null,\n    status: 'inactive'\n  });\n  const [editId, setEditId] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n  const [filterCategory, setFilterCategory] = useState('');\n  const [filterSubcategory, setFilterSubcategory] = useState('');\n  const [filterSubs, setFilterSubs] = useState([]);\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n  useEffect(() => {\n    if (categories.length > 0) {\n      fetchItems();\n    }\n  }, [categories]);\n  useEffect(() => {\n    if (!filterCategory) {\n      setFilterSubs([]);\n      setFilterSubcategory('');\n      return;\n    }\n    const cat = categories.find(c => c.id === filterCategory);\n    setFilterSubs((cat === null || cat === void 0 ? void 0 : cat.subcategories) || []);\n    setFilterSubcategory('');\n  }, [filterCategory, categories]);\n  useEffect(() => {\n    if (!form.category) {\n      setSubcategories([]);\n      setForm(prev => ({\n        ...prev,\n        subcategory: ''\n      }));\n      return;\n    }\n    const cat = categories.find(c => c.id === form.category);\n    setSubcategories((cat === null || cat === void 0 ? void 0 : cat.subcategories) || []);\n  }, [form.category, categories]);\n  async function fetchCategories() {\n    try {\n      var _res$data;\n      const res = await axios.get(CATEGORYURL);\n      if ((_res$data = res.data) !== null && _res$data !== void 0 && _res$data.success) {\n        setCategories(res.data.categories);\n      }\n    } catch (err) {\n      console.error('Fetch categories error', err);\n      alert('Could not fetch categories');\n    }\n  }\n  async function fetchItems() {\n    try {\n      var _res$data2;\n      setLoading(true);\n      const res = await axios.get(APIURL);\n      if ((_res$data2 = res.data) !== null && _res$data2 !== void 0 && _res$data2.success) {\n        const raw = res.data.data;\n        const enriched = raw.map(item => {\n          var _catObj$subcategories;\n          const catObj = categories.find(c => {\n            var _item$category;\n            return c.id === ((_item$category = item.category) === null || _item$category === void 0 ? void 0 : _item$category.id);\n          }) || {};\n          const subObj = ((_catObj$subcategories = catObj.subcategories) === null || _catObj$subcategories === void 0 ? void 0 : _catObj$subcategories.find(s => {\n            var _item$subcategory;\n            return s.id === ((_item$subcategory = item.subcategory) === null || _item$subcategory === void 0 ? void 0 : _item$subcategory.id);\n          })) || {};\n          return {\n            ...item,\n            basePrice: item.basePrice || 0,\n            profitLoss: item.profitLoss || 0,\n            category: catObj.id ? {\n              id: catObj.id,\n              name: catObj.name\n            } : null,\n            subcategory: subObj.id ? {\n              id: subObj.id,\n              name: subObj.name\n            } : null\n          };\n        });\n        setItems(enriched);\n      }\n    } catch (err) {\n      console.error('Fetch items error', err);\n      alert('Could not fetch items');\n    } finally {\n      setLoading(false);\n    }\n  }\n  function handleChange(e) {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (files !== null && files !== void 0 && files.length) {\n      setForm(p => ({\n        ...p,\n        file: files[0]\n      }));\n    } else {\n      setForm(p => ({\n        ...p,\n        [name]: value\n      }));\n    }\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    if (!form.name || !form.category || !form.basePrice) {\n      alert('Name, category, and base price are required');\n      return;\n    }\n\n    // Duplicate check (case insensitive)\n    const duplicate = items.some(item => item.name.toLowerCase() === form.name.toLowerCase() && item.id !== editId);\n    if (duplicate) {\n      alert('Duplicate product name. Please use a different name.');\n      return;\n    }\n    try {\n      setLoading(true);\n      const fd = new FormData();\n      fd.append('name', form.name);\n      fd.append('category', form.category);\n      if (form.subcategory) fd.append('subcategory', form.subcategory);\n      if (form.description) fd.append('description', form.description);\n      fd.append('basePrice', form.basePrice);\n      fd.append('profitLoss', form.profitLoss || 0);\n      if (form.validTill) fd.append('validTill', form.validTill);\n      fd.append('status', form.status);\n      if (form.file) fd.append('file', form.file);\n      if (editId) {\n        await axios.put(`${APIURL}/${editId}`, fd);\n        alert('Updated successfully');\n      } else {\n        await axios.post(APIURL, fd);\n        alert('Added successfully');\n      }\n      await fetchItems();\n      resetForm();\n    } catch (err) {\n      console.error('Save error', err);\n      alert('Save failed');\n    } finally {\n      setLoading(false);\n    }\n  }\n  function resetForm() {\n    setForm({\n      name: '',\n      category: '',\n      subcategory: '',\n      description: '',\n      basePrice: '',\n      profitLoss: '',\n      validTill: '',\n      file: null,\n      status: 'inactive'\n    });\n    setEditId(null);\n    setShowForm(false);\n  }\n  function handleEdit(item) {\n    var _item$category2, _item$subcategory2;\n    setForm({\n      name: item.name,\n      category: ((_item$category2 = item.category) === null || _item$category2 === void 0 ? void 0 : _item$category2.id) || '',\n      subcategory: ((_item$subcategory2 = item.subcategory) === null || _item$subcategory2 === void 0 ? void 0 : _item$subcategory2.id) || '',\n      description: item.description || '',\n      basePrice: item.basePrice || '',\n      profitLoss: item.profitLoss || '',\n      validTill: item.validTill ? item.validTill.split('T')[0] : '',\n      file: null,\n      status: item.status || 'inactive'\n    });\n    const cat = categories.find(c => {\n      var _item$category3;\n      return c.id === ((_item$category3 = item.category) === null || _item$category3 === void 0 ? void 0 : _item$category3.id);\n    });\n    setSubcategories((cat === null || cat === void 0 ? void 0 : cat.subcategories) || []);\n    setEditId(item.id);\n    setShowForm(true);\n  }\n  function handleDelete(id) {\n    if (!window.confirm('Delete this item?')) return;\n    axios.delete(`${APIURL}/${id}`).then(() => {\n      setItems(prev => prev.filter(x => x.id !== id));\n    }).catch(err => {\n      console.error('Delete error', err);\n      alert('Delete failed');\n    });\n  }\n\n  // Filter items by search and filters\n  const filteredItems = items.filter(item => {\n    var _item$category4, _item$subcategory3, _item$category5, _item$subcategory4;\n    const t = search.toLowerCase();\n    const matchesText = item.name.toLowerCase().includes(t) || ((_item$category4 = item.category) === null || _item$category4 === void 0 ? void 0 : _item$category4.name.toLowerCase().includes(t)) || ((_item$subcategory3 = item.subcategory) === null || _item$subcategory3 === void 0 ? void 0 : _item$subcategory3.name.toLowerCase().includes(t));\n    const matchesCategory = !filterCategory || ((_item$category5 = item.category) === null || _item$category5 === void 0 ? void 0 : _item$category5.id) === filterCategory;\n    const matchesSubcategory = !filterSubcategory || ((_item$subcategory4 = item.subcategory) === null || _item$subcategory4 === void 0 ? void 0 : _item$subcategory4.id) === filterSubcategory;\n    return matchesText && matchesCategory && matchesSubcategory;\n  });\n\n  // Sort filtered items by price\n  const sortedItems = [...filteredItems].sort((a, b) => {\n    if (priceSort === 'lowToHigh') return a.basePrice - b.basePrice;\n    if (priceSort === 'highToLow') return b.basePrice - a.basePrice;\n    return 0;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: styles.title,\n        children: \"Product Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1573,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.filterRow,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search product, category or subcategory...\",\n          value: search,\n          onChange: e => setSearch(e.target.value),\n          style: styles.searchInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1576,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterCategory,\n          onChange: e => setFilterCategory(e.target.value),\n          style: styles.select,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Filter by Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1588,\n            columnNumber: 13\n          }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c.id,\n            children: c.name\n          }, c.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1590,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1583,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterSubcategory,\n          onChange: e => setFilterSubcategory(e.target.value),\n          disabled: !filterSubs.length,\n          style: styles.select,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Filter by Subcategory\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1602,\n            columnNumber: 13\n          }, this), filterSubs.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: s.id,\n            children: s.name\n          }, s.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1604,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1596,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: priceSort,\n          onChange: e => setPriceSort(e.target.value),\n          style: styles.select,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Sort by Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1615,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"lowToHigh\",\n            children: \"Price: Low to High\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1616,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"highToLow\",\n            children: \"Price: High to Low\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1617,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1610,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.addButton,\n          onClick: () => {\n            setShowForm(!showForm);\n            setEditId(null);\n            resetForm();\n          },\n          children: showForm ? 'Close Add Product' : 'Add Product'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1620,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1575,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1572,\n      columnNumber: 7\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: styles.formCard,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: styles.formTitle,\n        children: editId ? 'Edit Product' : 'Add Product'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1635,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.formGrid,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Product Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1638,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            name: \"name\",\n            value: form.name,\n            onChange: handleChange,\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1639,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1637,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1649,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            required: true,\n            name: \"category\",\n            value: form.category,\n            onChange: handleChange,\n            style: styles.select,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1657,\n              columnNumber: 17\n            }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: c.id,\n              children: c.name\n            }, c.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1659,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1650,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1648,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Subcategory\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1667,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"subcategory\",\n            value: form.subcategory,\n            onChange: handleChange,\n            disabled: !subcategories.length,\n            style: styles.select,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Subcategory\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1675,\n              columnNumber: 17\n            }, this), subcategories.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: s.id,\n              children: s.name\n            }, s.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1677,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1668,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1666,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Base Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1685,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            required: true,\n            name: \"basePrice\",\n            value: form.basePrice,\n            onChange: handleChange,\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1686,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1684,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Profit/Loss\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1697,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"profitLoss\",\n            value: form.profitLoss,\n            onChange: handleChange,\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1698,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1696,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Valid Till\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1708,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"validTill\",\n            value: form.validTill,\n            onChange: handleChange,\n            style: styles.input\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1709,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1707,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1719,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleChange,\n            style: styles.fileInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1720,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1718,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1729,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"status\",\n            value: form.status,\n            onChange: handleChange,\n            style: styles.select,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"active\",\n              children: \"Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1736,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"inactive\",\n              children: \"Inactive\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1737,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1730,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1728,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          style: {\n            gridColumn: '1 / -1'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1742,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: form.description,\n            onChange: handleChange,\n            style: styles.textarea\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1743,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1741,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1636,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.formActions,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: styles.btnPrimary,\n          disabled: loading,\n          children: loading ? 'Saving...' : editId ? 'Update Product' : 'Add Product'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1753,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          style: styles.btnCancel,\n          onClick: () => {\n            resetForm();\n            setShowForm(false);\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1756,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1752,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1634,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.tableCard,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.tableHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.tableTitle,\n          children: \"Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1772,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.totalCount,\n          children: [\"Total: \", filteredItems.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1773,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1771,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.tableWrapper,\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: styles.table,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1779,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1780,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1781,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Subcategory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1782,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Base Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1783,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Profit/Loss\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1784,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1785,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1786,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1778,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1777,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [sortedItems.map((item, i) => {\n              var _item$category6, _item$subcategory5;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: i + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1792,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1793,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: ((_item$category6 = item.category) === null || _item$category6 === void 0 ? void 0 : _item$category6.name) || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1794,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: ((_item$subcategory5 = item.subcategory) === null || _item$subcategory5 === void 0 ? void 0 : _item$subcategory5.name) || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1795,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.basePrice\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1796,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.profitLoss\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1797,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1798,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    style: styles.btnSmall,\n                    onClick: () => handleEdit(item),\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1800,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: styles.btnDelete,\n                    onClick: () => handleDelete(item.id),\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1806,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1799,\n                  columnNumber: 19\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1791,\n                columnNumber: 17\n              }, this);\n            }), !sortedItems.length && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"8\",\n                style: styles.td,\n                children: \"No items found.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1817,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1816,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1789,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1776,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1775,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1770,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1571,\n    columnNumber: 5\n  }, this);\n}\n_s(PriceList, \"uCIOWWsRLeXbmpsceijK9Aq2SA0=\");\n_c = PriceList;\nconst styles = {\n  container: {\n    padding: 20,\n    fontFamily: `'Segoe UI', Tahoma, Geneva, Verdana, sans-serif`,\n    background: '#f9fafb',\n    minHeight: '100vh'\n  },\n  header: {\n    marginBottom: 15\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: '700',\n    color: '#0d3b66',\n    marginBottom: 12\n  },\n  filterRow: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    gap: 12,\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  searchInput: {\n    flex: 1,\n    minWidth: 250,\n    padding: '10px 14px',\n    borderRadius: 8,\n    border: '1px solid #ced4da',\n    fontSize: 14,\n    outline: 'none',\n    background: '#fff'\n  },\n  select: {\n    padding: '9px 12px',\n    borderRadius: 8,\n    border: '1px solid #cfd6e0',\n    background: '#fff',\n    fontSize: 14,\n    minWidth: 170,\n    cursor: 'pointer'\n  },\n  addButton: {\n    backgroundColor: '#007bff',\n    color: '#fff',\n    border: 'none',\n    borderRadius: 10,\n    padding: '10px 18px',\n    fontSize: 14,\n    fontWeight: '600',\n    cursor: 'pointer',\n    transition: 'background-color 0.3s ease'\n  },\n  formCard: {\n    padding: 20,\n    borderRadius: 12,\n    background: '#fff',\n    boxShadow: '0 2px 15px rgba(0,0,0,0.1)',\n    marginBottom: 28\n  },\n  formTitle: {\n    fontSize: 20,\n    fontWeight: '700',\n    color: '#0d3b66',\n    marginBottom: 16,\n    textAlign: 'center'\n  },\n  formGrid: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',\n    gap: 16\n  },\n  formGroup: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  label: {\n    fontWeight: '600',\n    fontSize: 14,\n    color: '#233142',\n    marginBottom: 6\n  },\n  input: {\n    padding: '10px 14px',\n    borderRadius: 8,\n    border: '1px solid #cfd6e0',\n    background: '#f8fafc',\n    fontSize: 14,\n    outline: 'none'\n  },\n  fileInput: {\n    padding: '6px',\n    fontSize: 14\n  },\n  textarea: {\n    padding: '10px 14px',\n    borderRadius: 8,\n    border: '1px solid #cfd6e0',\n    background: '#f8fafc',\n    fontSize: 14,\n    minHeight: 80,\n    resize: 'vertical'\n  },\n  formActions: {\n    marginTop: 22,\n    display: 'flex',\n    gap: 10,\n    justifyContent: 'center'\n  },\n  btnPrimary: {\n    backgroundColor: '#007bff',\n    color: '#fff',\n    border: 'none',\n    borderRadius: 8,\n    padding: '12px 24px',\n    cursor: 'pointer',\n    fontWeight: '600',\n    fontSize: 16,\n    transition: 'background-color 0.3s ease'\n  },\n  btnCancel: {\n    backgroundColor: '#6c757d',\n    color: '#fff',\n    border: 'none',\n    borderRadius: 8,\n    padding: '12px 24px',\n    cursor: 'pointer',\n    fontWeight: '600',\n    fontSize: 16\n  },\n  btnSmall: {\n    backgroundColor: '#28a745',\n    color: '#fff',\n    border: 'none',\n    borderRadius: 6,\n    padding: '6px 12px',\n    cursor: 'pointer',\n    fontSize: 13,\n    fontWeight: '600',\n    marginRight: 8\n  },\n  btnDelete: {\n    backgroundColor: '#dc3545',\n    color: '#fff',\n    border: 'none',\n    borderRadius: 6,\n    padding: '6px 12px',\n    cursor: 'pointer',\n    fontSize: 13,\n    fontWeight: '600'\n  },\n  tableCard: {\n    background: '#fff',\n    borderRadius: 12,\n    padding: 20,\n    boxShadow: '0 2px 12px rgba(0,0,0,0.1)'\n  },\n  tableHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 14\n  },\n  tableTitle: {\n    fontSize: 20,\n    fontWeight: '700',\n    color: '#0d3b66'\n  },\n  totalCount: {\n    fontSize: 14,\n    color: '#6c757d',\n    fontWeight: '600'\n  },\n  tableWrapper: {\n    overflowX: 'auto'\n  },\n  table: {\n    width: '100%',\n    borderCollapse: 'collapse',\n    fontSize: 14\n  },\n  th: {\n    padding: '12px 10px',\n    textAlign: 'left',\n    borderBottom: '2px solid #dee2e6',\n    background: '#f8f9fa',\n    fontWeight: '700',\n    color: '#0d3b66',\n    whiteSpace: 'nowrap'\n  },\n  td: {\n    padding: '12px 10px',\n    borderBottom: '1px solid #edf2f7',\n    whiteSpace: 'nowrap',\n    verticalAlign: 'middle'\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"PriceList\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","APIURL","CATEGORYURL","PriceList","_s","items","setItems","categories","setCategories","subcategories","setSubcategories","search","setSearch","priceSort","setPriceSort","loading","setLoading","form","setForm","name","category","subcategory","description","basePrice","profitLoss","validTill","file","status","editId","setEditId","showForm","setShowForm","filterCategory","setFilterCategory","filterSubcategory","setFilterSubcategory","filterSubs","setFilterSubs","fetchCategories","length","fetchItems","cat","find","c","id","prev","_res$data","res","get","data","success","err","console","error","alert","_res$data2","raw","enriched","map","item","_catObj$subcategories","catObj","_item$category","subObj","s","_item$subcategory","handleChange","e","value","files","target","p","handleSubmit","preventDefault","duplicate","some","toLowerCase","fd","FormData","append","put","post","resetForm","handleEdit","_item$category2","_item$subcategory2","split","_item$category3","handleDelete","window","confirm","delete","then","filter","x","catch","filteredItems","_item$category4","_item$subcategory3","_item$category5","_item$subcategory4","t","matchesText","includes","matchesCategory","matchesSubcategory","sortedItems","sort","a","b","style","styles","container","children","header","title","fileName","_jsxFileName","lineNumber","columnNumber","filterRow","type","placeholder","onChange","searchInput","select","disabled","addButton","onClick","onSubmit","formCard","formTitle","formGrid","formGroup","label","required","input","accept","fileInput","gridColumn","textarea","formActions","btnPrimary","btnCancel","tableCard","tableHeader","tableTitle","totalCount","tableWrapper","table","th","i","_item$category6","_item$subcategory5","td","btnSmall","btnDelete","colSpan","_c","padding","fontFamily","background","minHeight","marginBottom","fontSize","fontWeight","color","display","flexWrap","gap","alignItems","flex","minWidth","borderRadius","border","outline","cursor","backgroundColor","transition","boxShadow","textAlign","gridTemplateColumns","flexDirection","resize","marginTop","justifyContent","marginRight","overflowX","width","borderCollapse","borderBottom","whiteSpace","verticalAlign","$RefreshReg$"],"sources":["E:/infyle/Grocerry_final/frontend/src/pages/PriceList.jsx"],"sourcesContent":["\r\n// import React, { useEffect, useState, useRef } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// const API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\r\n// const CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\r\n\r\n// export default function PriceList() {\r\n//   const [items, setItems] = useState([]);\r\n//   const [categories, setCategories] = useState([]);\r\n//   const [subcategories, setSubcategories] = useState([]);\r\n//   const [search, setSearch] = useState(\"\");\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   const [form, setForm] = useState({\r\n//     name: \"\",\r\n//     category: \"\",\r\n//     subcategory: \"\",\r\n//     description: \"\",\r\n//     basePrice: \"\",\r\n//     profitLoss: \"\",\r\n//     validTill: \"\",\r\n//     file: null,\r\n//     status: \"inactive\",\r\n//   });\r\n\r\n//   const [editId, setEditId] = useState(null);\r\n//   const [showForm, setShowForm] = useState(false);\r\n//   const [showModal, setShowModal] = useState(false);\r\n//   const [activeMenu, setActiveMenu] = useState(null);\r\n\r\n//   const [selectedItems, setSelectedItems] = useState([]);\r\n//   const [bulkMode, setBulkMode] = useState(false);\r\n\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const itemsPerPage = 30;\r\n\r\n//   const [filterCategory, setFilterCategory] = useState(\"\");\r\n//   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n//   const [filterSubs, setFilterSubs] = useState([]);\r\n\r\n//   // Quick edit states for inline editing\r\n//   const [quickBasePrices, setQuickBasePrices] = useState({});\r\n//   const [quickProfitLoss, setQuickProfitLoss] = useState({});\r\n\r\n//   useEffect(() => {\r\n//     fetchCategories();\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (categories.length > 0) fetchItems();\r\n//   }, [categories]);\r\n\r\n//   useEffect(() => {\r\n//     if (!filterCategory) {\r\n//       setFilterSubs([]);\r\n//       setFilterSubcategory(\"\");\r\n//       return;\r\n//     }\r\n//     const cat = categories.find((c) => c._id === filterCategory);\r\n//     setFilterSubs(cat?.subcategories || []);\r\n//     setFilterSubcategory(\"\");\r\n//   }, [filterCategory, categories]);\r\n\r\n//   useEffect(() => {\r\n//     if (!form.category) {\r\n//       setSubcategories([]);\r\n//       setForm((prev) => ({ ...prev, subcategory: \"\" }));\r\n//       return;\r\n//     }\r\n//     const cat = categories.find((c) => c._id === form.category);\r\n//     setSubcategories(cat?.subcategories || []);\r\n//   }, [form.category, categories]);\r\n\r\n//   const fetchCategories = async () => {\r\n//     try {\r\n//       const res = await axios.get(CATEGORY_URL);\r\n//       if (res.data?.success) setCategories(res.data.categories || []);\r\n//     } catch (err) {\r\n//       console.error(\"Fetch categories error\", err);\r\n//       alert(\"Could not fetch categories\");\r\n//     }\r\n//   };\r\n\r\n//   const fetchItems = async () => {\r\n//     try {\r\n//       setLoading(true);\r\n//       const res = await axios.get(API_URL);\r\n//       if (res.data?.success) {\r\n//         const raw = res.data.data || [];\r\n//         // const enriched = raw.map((item) => {\r\n//         //   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\r\n//         //   const subObj = catObj?.subcategories?.find((s) => s._id === (item.subcategory?.id || item.subcategory?._id));\r\n\r\n//         //   return {\r\n//         //     ...item,\r\n//         //     basePrice: item.basePrice || 0,\r\n//         //     profitLoss: item.profitLoss || 0,\r\n//         //     salePrice: item.salePrice || 0,\r\n//         //     lockedPrice: item.lockedPrice || 0,\r\n//         //     yesterdayLock: item.yesterdayLock || 0,\r\n//         //     brokerDisplay: item.brokerDisplay || 0,\r\n//         //     category: catObj ? { _id: catObj._id, name: catObj.name } : item.category,\r\n//         //     subcategory: subObj ? { _id: subObj._id, name: subObj.name } : item.subcategory,\r\n//         //   };\r\n//         // });\r\n//         const enriched = raw.map((item) => {\r\n//   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\r\n\r\n//   const subObj = catObj?.subcategories?.find(\r\n//     (s) => s._id === item.subcategory?.id\r\n//   );\r\n\r\n//   return {\r\n//     ...item,\r\n//     category: catObj ? { _id: catObj._id, name: catObj.name } : null,\r\n//     subcategory: subObj\r\n//       ? { _id: subObj._id, name: subObj.name }\r\n//       : item.subcategory?.id\r\n//       ? { _id: item.subcategory.id, name: item.subcategory.name }\r\n//       : null,\r\n//   };\r\n// });\r\n\r\n//         setItems(enriched);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Fetch items error\", err);\r\n//       alert(\"Could not fetch items\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const handleChange = (e) => {\r\n//     const { name, value, files } = e.target;\r\n//     if (files?.length) {\r\n//       setForm((p) => ({ ...p, file: files[0] }));\r\n//     } else {\r\n//       setForm((p) => ({ ...p, [name]: value }));\r\n//     }\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     setLoading(true);\r\n\r\n//     try {\r\n//       if (!form.name || !form.category || !form.basePrice) {\r\n//         alert(\"Name, category & base price are required\");\r\n//         setLoading(false);\r\n//         return;\r\n//       }\r\n\r\n//       const fd = new FormData();\r\n//       fd.append(\"name\", form.name);\r\n//       fd.append(\"category\", form.category);\r\n//       // if (form.subcategory) fd.append(\"subcategory\", form.subcategory);\r\n//       if (form.subcategory) {\r\n//   const sub = subcategories.find((s) => s._id === form.subcategory);\r\n//   fd.append(\"subcategory[id]\", sub._id);\r\n//   fd.append(\"subcategory[name]\", sub.name);\r\n//   fd.append(\"subcategory[image]\", sub.image || \"\");\r\n// }\r\n\r\n//       fd.append(\"basePrice\", form.basePrice);\r\n//       fd.append(\"profitLoss\", form.profitLoss || 0);\r\n//       if (form.description) fd.append(\"description\", form.description);\r\n//       if (form.validTill) fd.append(\"validTill\", form.validTill);\r\n//       fd.append(\"status\", form.status);\r\n//       if (form.file) fd.append(\"file\", form.file);\r\n\r\n//       if (editId) {\r\n//         await axios.put(`${API_URL}/${editId}`, fd);\r\n//         alert(\"Updated successfully\");\r\n//       } else {\r\n//         await axios.post(API_URL, fd);\r\n//         alert(\"Added successfully\");\r\n//       }\r\n\r\n//       await fetchItems();\r\n//       resetForm();\r\n//     } catch (err) {\r\n//       console.error(\"Save error\", err);\r\n//       alert(\"Save failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const resetForm = () => {\r\n//     setForm({\r\n//       name: \"\",\r\n//       category: \"\",\r\n//       subcategory: \"\",\r\n//       description: \"\",\r\n//       basePrice: \"\",\r\n//       profitLoss: \"\",\r\n//       validTill: \"\",\r\n//       file: null,\r\n//       status: \"inactive\",\r\n//     });\r\n//     setEditId(null);\r\n//     setShowModal(false);\r\n//     setShowForm(false);\r\n//   };\r\n\r\n//   const handleEdit = (item) => {\r\n//     setForm({\r\n//       name: item.name || \"\",\r\n//       category: item.category?._id?.toString() || \"\",\r\n//       // subcategory: item.subcategory?.id?.toString() || \"\",\r\n//       subcategory: item.subcategory?._id || \"\",\r\n\r\n//       description: item.description || \"\",\r\n//       basePrice: item.basePrice || \"\",\r\n//       profitLoss: item.profitLoss || 0,\r\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\r\n//       file: null,\r\n//       status: item.status || \"inactive\",\r\n//     });\r\n\r\n//     const cat = categories.find((c) => c._id === item.category?._id);\r\n//     setSubcategories(cat?.subcategories || []);\r\n\r\n//     setEditId(item._id);\r\n//     setShowModal(true);\r\n//     setActiveMenu(null);\r\n//   };\r\n\r\n//   const handleDelete = async (id) => {\r\n//     if (!window.confirm(\"Delete this item?\")) return;\r\n//     try {\r\n//       await axios.delete(`${API_URL}/${id}`);\r\n//       setItems((prev) => prev.filter((x) => x._id !== id));\r\n//       setSelectedItems((prev) => prev.filter((x) => x !== id));\r\n//       setActiveMenu(null);\r\n//     } catch (err) {\r\n//       console.error(\"Delete error\", err);\r\n//       alert(\"Delete failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleStatusToggle = async (item) => {\r\n//     try {\r\n//       const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\r\n//       await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\r\n//       setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\r\n//     } catch (err) {\r\n//       console.error(\"Status toggle error\", err);\r\n//       alert(\"Status update failed\");\r\n//     }\r\n//   };\r\n\r\n//   const updateLocalItemField = (id, key, value) => {\r\n//     setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\r\n//   };\r\n\r\n//   const handleBulkSave = async () => {\r\n//     if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n//     const updates = items\r\n//       .filter((x) => selectedItems.includes(x._id))\r\n//       .map((x) => ({\r\n//         id: x._id,\r\n//         basePrice: Number(x.basePrice),\r\n//         profitLoss: Number(x.profitLoss),\r\n//         status: x.status,\r\n//       }));\r\n\r\n//     try {\r\n//       await axios.post(`${API_URL}/bulk-update`, { products: updates });\r\n//       alert(\"Bulk save successful\");\r\n//       setBulkMode(false);\r\n//       setSelectedItems([]);\r\n//       fetchItems();\r\n//     } catch (err) {\r\n//       console.error(\"Bulk save error\", err);\r\n//       alert(\"Bulk save failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleBulkDelete = async () => {\r\n//     if (!selectedItems.length) return alert(\"No items selected\");\r\n//     if (!window.confirm(\"Delete selected items?\")) return;\r\n\r\n//     try {\r\n//       await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\r\n//       setSelectedItems([]);\r\n//       fetchItems();\r\n//       setBulkMode(false);\r\n//     } catch (err) {\r\n//       console.error(\"Bulk delete error\", err);\r\n//       alert(\"Bulk delete failed\");\r\n//     }\r\n//   };\r\n\r\n//   // Update Base Price inline\r\n//   const updateBasePrice = async (item) => {\r\n//     const newBase = Number(quickBasePrices[item._id] ?? item.basePrice);\r\n//     if (isNaN(newBase)) return alert(\"Invalid Base Price\");\r\n\r\n//     try {\r\n//       setLoading(true);\r\n//       const fd = new FormData();\r\n//       fd.append(\"name\", item.name);\r\n//       fd.append(\"category\", item.category?._id);\r\n//       if (item.subcategory?.id) fd.append(\"subcategory\", item.subcategory.id);\r\n//       fd.append(\"description\", item.description || \"\");\r\n//       fd.append(\"basePrice\", newBase);\r\n//       fd.append(\"profitLoss\", item.profitLoss);\r\n//       fd.append(\"status\", item.status);\r\n\r\n//       const res = await axios.put(`${API_URL}/${item._id}`, fd);\r\n//       if (res.data.success) {\r\n//         await fetchItems();\r\n//         setQuickBasePrices((p) => ({ ...p, [item._id]: undefined }));\r\n//         alert(\"Base price updated\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Update failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // Update Profit/Loss inline using updateDiff\r\n//   const updateProfitLoss = async (item) => {\r\n//     const diff = Number(quickProfitLoss[item._id] ?? 0);\r\n//     if (isNaN(diff)) return alert(\"Invalid Profit/Loss\");\r\n\r\n//     try {\r\n//       setLoading(true);\r\n//       const res = await axios.put(`${API_URL}/updateDiff/${item._id}`, { diff });\r\n//       if (res.data.success) {\r\n//         await fetchItems();\r\n//         setQuickProfitLoss((p) => ({ ...p, [item._id]: undefined }));\r\n//         alert(\"Profit/Loss updated\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Update failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n\r\n\r\n  \r\n//   const filteredItems = items.filter((item) => {\r\n//     const t = search.toLowerCase();\r\n//     const matchText =\r\n//       (item.name || \"\").toLowerCase().includes(t) ||\r\n//       (item.category?.name || \"\").toLowerCase().includes(t) ||\r\n//       (item.subcategory?.name || \"\").toLowerCase().includes(t);\r\n\r\n//     const matchCategory = !filterCategory || item.category?._id === filterCategory;\r\n//     const matchSub = !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n\r\n//     return matchText && matchCategory && matchSub;\r\n//   });\r\n\r\n//   const indexOfLast = currentPage * itemsPerPage;\r\n//   const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n//   const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\r\n\r\n//   return (\r\n//     <div className=\"container\" style={styles.container}>\r\n//       <div style={styles.header}>\r\n//         <h1 style={styles.title}>Product Management</h1>\r\n//       </div>\r\n\r\n//       <div style={{ marginBottom: 12, display: \"flex\", gap: 12, flexWrap: \"wrap\" }}>\r\n//         <input\r\n//           type=\"text\"\r\n//           placeholder=\"Search product, category or subcategory...\"\r\n//           value={search}\r\n//           onChange={(e) => {\r\n//             setSearch(e.target.value);\r\n//             setCurrentPage(1);\r\n//           }}\r\n//           style={styles.searchInput}\r\n//         />\r\n\r\n//         <button\r\n//           style={styles.addButton}\r\n//           onClick={() => {\r\n//             setShowForm(!showForm);\r\n//             setEditId(null);\r\n//           }}\r\n//         >\r\n//           {showForm ? \"‚úñ Close\" : \"‚ûï Add Product\"}\r\n//         </button>\r\n//       </div>\r\n// <button\r\n//   style={styles.addButton}\r\n//   onClick={() => window.open(`${API_URL}/export`, \"_blank\")}\r\n// >\r\n//   ‚¨á Export CSV\r\n// </button>\r\n\r\n// <label style={{ cursor: \"pointer\" }}>\r\n//   <input\r\n//     type=\"file\"\r\n//     accept=\".csv\"\r\n//     style={{ display: \"none\" }}\r\n//     onChange={async (e) => {\r\n//       try {\r\n//         const fd = new FormData();\r\n//         fd.append(\"file\", e.target.files[0]);\r\n//         await axios.post(`${API_URL}/import`, fd);\r\n//         alert(\"Imported successfully\");\r\n//         fetchItems();\r\n//       } catch (err) {\r\n//         alert(\"Import failed\");\r\n//       }\r\n//     }}\r\n//   />\r\n//   <span style={styles.addButton}>üì§ Import CSV</span>\r\n// </label>\r\n\r\n//       <div style={{ display: \"flex\", gap: 10, marginBottom: 12, flexWrap: \"wrap\" }}>\r\n//         <select\r\n//           value={filterCategory}\r\n//           onChange={(e) => setFilterCategory(e.target.value)}\r\n//           style={styles.select}\r\n//         >\r\n//           <option value=\"\">Filter by Category</option>\r\n//           {categories.map((c) => (\r\n//             <option key={c._id} value={c._id}>\r\n//               {c.name}\r\n//             </option>\r\n//           ))}\r\n//         </select>\r\n\r\n//         <select\r\n//           value={filterSubcategory}\r\n//           onChange={(e) => setFilterSubcategory(e.target.value)}\r\n//           disabled={!filterSubs.length}\r\n//           style={styles.select}\r\n//         >\r\n//           <option value=\"\">Filter by Subcategory</option>\r\n//           {filterSubs.map((s) => (\r\n//             <option key={s._id} value={s._id}>\r\n//               {s.name}\r\n//             </option>\r\n//           ))}\r\n//         </select>\r\n//       </div>\r\n\r\n//       {selectedItems.length > 0 && (\r\n//         <div style={styles.bulkBar}>\r\n//           {!bulkMode ? (\r\n//             <div style={{ display: \"flex\", gap: 8 }}>\r\n//               <button style={styles.btnDelete} onClick={handleBulkDelete}>\r\n//                 üóë Bulk Delete\r\n//               </button>\r\n//               <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\r\n//                 ‚úè Bulk Edit\r\n//               </button>\r\n//             </div>\r\n//           ) : (\r\n//             <div style={styles.bulkPanel}>\r\n//               <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\r\n\r\n//               {items\r\n//                 .filter((item) => selectedItems.includes(item._id))\r\n//                 .map((item) => (\r\n//                   <div key={item._id} style={styles.bulkItemBox}>\r\n//                     <h4 style={styles.bulkItemTitle}>{item.name}</h4>\r\n\r\n//                     <div style={styles.formGrid}>\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Base Price</label>\r\n//                         <input\r\n//                           type=\"number\"\r\n//                           value={item.basePrice}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))}\r\n//                           style={styles.input}\r\n//                         />\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Profit/Loss</label>\r\n//                         <input\r\n//                           type=\"number\"\r\n//                           value={item.profitLoss}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"profitLoss\", Number(e.target.value))}\r\n//                           style={styles.input}\r\n//                         />\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Status</label>\r\n//                         <select\r\n//                           value={item.status}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"status\", e.target.value)}\r\n//                           style={styles.select}\r\n//                         >\r\n//                           <option value=\"active\">active</option>\r\n//                           <option value=\"inactive\">inactive</option>\r\n//                         </select>\r\n//                       </div>\r\n//                     </div>\r\n//                   </div>\r\n//                 ))}\r\n\r\n//               {/* <div style={{ display: \"flex\", gap: 10, marginTop: 12 }}>\r\n//                 <button style={styles.btnPrimary} onClick={handleBulkSave}>\r\n//                   ‚úî Save All\r\n//                 </button>\r\n//                 <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\r\n//                   ‚úñ Cancel\r\n//                 </button>\r\n//               </div> */}\r\n//               <div style={{ display: \"flex\", gap: 10, marginTop: 12, flexWrap: 'wrap' }}>\r\n\r\n//   <button style={styles.btnPrimary} onClick={handleBulkSave}>\r\n//     ‚úî Save All\r\n//   </button>\r\n\r\n//   <button\r\n//     style={styles.btnPrimary}\r\n//     onClick={async () => {\r\n//       if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n//       for (let id of selectedItems) await axios.post(`${API_URL}/copy/${id}`);\r\n\r\n//       alert(\"Selected copied\");\r\n//       fetchItems();\r\n//     }}\r\n//   >\r\n//     üìÑ Copy Selected\r\n//   </button>\r\n\r\n//   <button\r\n//     style={styles.btnPrimary}\r\n//     onClick={async () => {\r\n//       if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n//       const res = await axios.post(\r\n//         `${API_URL}/export-selected`,\r\n//         { ids: selectedItems },\r\n//         { responseType: \"blob\" }\r\n//       );\r\n\r\n//       const url = window.URL.createObjectURL(new Blob([res.data]));\r\n//       const a = document.createElement(\"a\");\r\n//       a.href = url;\r\n//       a.download = \"selected.csv\";\r\n//       a.click();\r\n//     }}\r\n//   >\r\n//     ‚¨á Export Selected\r\n//   </button>\r\n\r\n//   <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\r\n//     ‚úñ Cancel\r\n//   </button>\r\n// </div>\r\n\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       )}\r\n\r\n//       {showForm && (\r\n//         <div style={styles.formCard}>\r\n//           <h2 style={styles.formTitle}>‚ûï Add / Edit Product</h2>\r\n\r\n//           <form onSubmit={handleSubmit}>\r\n//             <div style={styles.formGrid}>\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Product Name *</label>\r\n//                 <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Category *</label>\r\n//                 <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n//                   <option value=\"\">Select Category</option>\r\n//                   {categories.map((c) => (\r\n//                     <option value={c._id} key={c._id}>\r\n//                       {c.name}\r\n//                     </option>\r\n//                   ))}\r\n//                 </select>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Subcategory</label>\r\n//                 <select\r\n//                   name=\"subcategory\"\r\n//                   value={form.subcategory}\r\n//                   onChange={handleChange}\r\n//                   disabled={!subcategories.length}\r\n//                   style={styles.select}\r\n//                 >\r\n//                   <option value=\"\">Select Subcategory</option>\r\n//                   {subcategories.map((s) => (\r\n//                     // <option value={s._id} key={s._id}>\r\n//                     //   {s.name}\r\n//                     // </option>\r\n//                     <option value={s._id}>{s.name}</option>\r\n\r\n//                   ))}\r\n//                 </select>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Base Price *</label>\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   required\r\n//                   name=\"basePrice\"\r\n//                   value={form.basePrice}\r\n//                   onChange={handleChange}\r\n//                   style={styles.input}\r\n//                 />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Profit/Loss</label>\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   name=\"profitLoss\"\r\n//                   value={form.profitLoss}\r\n//                   onChange={handleChange}\r\n//                   style={styles.input}\r\n//                 />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Valid Till</label>\r\n//                 <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Image</label>\r\n//                 <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Status</label>\r\n//                 <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n//                   <option value=\"active\">Active</option>\r\n//                   <option value=\"inactive\">Inactive</option>\r\n//                 </select>\r\n//               </div>\r\n//             </div>\r\n\r\n//             <div style={styles.formGroup}>\r\n//               <label style={styles.label}>Description</label>\r\n//               <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n//             </div>\r\n\r\n//             <div style={styles.formActions}>\r\n//               <button style={styles.btnPrimary} disabled={loading}>\r\n//                 {loading ? \"Saving...\" : editId ? \"Update Product\" : \"Add Product\"}\r\n//               </button>\r\n\r\n//               <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n//                 Cancel\r\n//               </button>\r\n//             </div>\r\n//           </form>\r\n//         </div>\r\n//       )}\r\n  \r\n//       <div style={styles.tableCard}>\r\n//         <div style={styles.tableHeader}>\r\n//           <h2 style={styles.tableTitle}>Items</h2>\r\n//           <span style={styles.totalCount}>Total: {filteredItems.length}</span>\r\n//         </div>\r\n\r\n//         <div style={styles.tableWrapper}>\r\n//           <table style={styles.table}>\r\n//             <thead>\r\n//               <tr>\r\n//                 <th style={styles.th}>\r\n//                   <input\r\n//                     type=\"checkbox\"\r\n//                     checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\r\n//                     onChange={() => {\r\n//                       if (selectedItems.length === filteredItems.length) setSelectedItems([]);\r\n//                       else setSelectedItems(filteredItems.map((x) => x._id));\r\n//                     }}\r\n//                   />\r\n//                 </th>\r\n//                 <th style={styles.th}>Sr</th>\r\n//                 <th style={styles.th}>Image</th>\r\n//                 <th style={styles.th}>Name</th>\r\n//                 <th style={styles.th}>Category</th>\r\n//                 <th style={styles.th}>Subcategory</th>\r\n//                 <th style={styles.th}>Base Price</th>\r\n//                 <th style={styles.th}>Profit/Loss</th>\r\n//                 <th style={styles.th}>Sale Price</th>\r\n//                 <th style={styles.th}>Price Lock</th>\r\n//                 <th style={styles.th}>Teji/Maddi</th>\r\n//                 <th style={styles.th}>Status</th>\r\n//                 <th style={styles.th}>Actions</th>\r\n//               </tr>\r\n//             </thead>\r\n\r\n//             <tbody>\r\n//               {currentItems.map((item, i) => (\r\n//                 <tr key={item._id} style={styles.tr}>\r\n//                   <td style={styles.td}>\r\n//                     <input\r\n//                       type=\"checkbox\"\r\n//                       checked={selectedItems.includes(item._id)}\r\n//                       onChange={() =>\r\n//                         setSelectedItems((prev) =>\r\n//                           prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]\r\n//                         )\r\n//                       }\r\n//                     />\r\n//                   </td>\r\n\r\n//                   <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n\r\n//                   <td style={styles.td}>\r\n//                     {item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}\r\n//                   </td>\r\n\r\n//                   <td style={styles.td}>{item.name}</td>\r\n//                   <td style={styles.td}>{item.category?.name || \"-\"}</td>\r\n//                   {/* <td style={styles.td}>{item.subcategory?.name || \"-\"}</td> */}\r\n//                   <td>{item.subcategory?.name || \"-\"}</td>\r\n\r\n\r\n//                   {/* BASE PRICE - Editable */}\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n//                       <input\r\n//                         type=\"number\"\r\n//                         value={quickBasePrices[item._id] !== undefined ? quickBasePrices[item._id] : item.basePrice}\r\n//                         onChange={(e) => setQuickBasePrices((p) => ({ ...p, [item._id]: e.target.value }))}\r\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n//                       />\r\n//                       <button style={styles.btnSmall} onClick={() => updateBasePrice(item)}>\r\n//                         ‚úî\r\n//                       </button>\r\n//                     </div>\r\n//                     <small style={{ color: \"#28a745\", display: \"block\", marginTop: 4 }}>Saved: ‚Çπ{item.basePrice}</small>\r\n//                   </td>\r\n\r\n//                   {/* PROFIT/LOSS - Editable */}\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n//                       <input\r\n//                         type=\"number\"\r\n//                         placeholder=\"change\"\r\n//                         value={quickProfitLoss[item._id] ?? \"\"}\r\n//                         onChange={(e) => setQuickProfitLoss((p) => ({ ...p, [item._id]: e.target.value }))}\r\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n//                       />\r\n//                       <button style={styles.btnSmall} onClick={() => updateProfitLoss(item)}>\r\n//                         ‚úî\r\n//                       </button>\r\n//                     </div>\r\n//                     <small style={{ color: \"#666\", display: \"block\", marginTop: 4 }}>Current: {item.profitLoss}</small>\r\n//                   </td>\r\n\r\n//                   {/* SALE PRICE */}\r\n//                   <td style={styles.td}>‚Çπ{item.salePrice}</td>\r\n \r\n//                   {/* PRICE LOCK */}\r\n//                   <td style={styles.td}>‚Çπ{item.lockedPrice}</td>\r\n\r\n//                   {/* TEJI/MADDI */}\r\n//                   {/* <td style={styles.td}>\r\n//   {(() => {\r\n//     const teji = item.salePrice - item.lockedPrice;\r\n//     return (\r\n//       <span\r\n//         style={{\r\n//           color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\r\n//           fontWeight: \"600\",\r\n//         }}\r\n//       >\r\n//         {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\r\n//       </span>\r\n//     );\r\n//   })()}\r\n// </td> */}\r\n// <td style={styles.td}>\r\n//   {item.lockedPrice === 0 ? (\r\n//     <span style={{ color: \"#6c757d\", fontWeight: \"600\" }}>0</span>\r\n//   ) : (\r\n//     (() => {\r\n//       const teji = item.salePrice - item.lockedPrice;\r\n//       return (\r\n//         <span\r\n//           style={{\r\n//             color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\r\n//             fontWeight: \"600\",\r\n//           }}\r\n//         >\r\n//           {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\r\n//         </span>\r\n//       );\r\n//     })()\r\n//   )}\r\n// </td>\r\n\r\n\r\n//                   {/* STATUS */}\r\n//                   <td style={styles.td}>\r\n//                     <button\r\n//                       style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\r\n//                       onClick={() => handleStatusToggle(item)}\r\n//                     >\r\n//                       {item.status === \"active\" ? \"Active\" : \"Inactive\"}\r\n//                     </button>\r\n//                   </td>\r\n\r\n//                   {/* ACTIONS */}\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ position: \"relative\" }}>\r\n//                       <button\r\n//                         style={styles.menuButton}\r\n//                         onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\r\n//                       >\r\n//                         ‚ãÆ\r\n//                       </button>\r\n\r\n//                       {activeMenu === item._id && (\r\n//                         <div style={styles.dropdown}>\r\n//                           {/* <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\r\n//                             ‚úè Edit\r\n//                           </button>\r\n//                           <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\r\n//                             üóë Delete\r\n//                           </button> */}\r\n//                           <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\r\n//   ‚úè Edit\r\n// </button>\r\n\r\n// <button\r\n//   style={styles.dropdownItem}\r\n//   onClick={async () => {\r\n//     await axios.post(`${API_URL}/copy/${item._id}`);\r\n//     alert(\"Copied successfully\");\r\n//     fetchItems();\r\n//   }}\r\n// >\r\n//   üìÑ Copy\r\n// </button>\r\n\r\n// <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\r\n//   üóë Delete\r\n// </button>\r\n\r\n//                         </div>\r\n//                       )}\r\n//                     </div>\r\n//                   </td>\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//         </div>\r\n\r\n//         <div style={styles.pagination}>\r\n//           <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\r\n//             Previous\r\n//           </button>\r\n\r\n//           {Array.from({ length: totalPages }, (_, i) => (\r\n//             <button\r\n//               key={i}\r\n//               style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\r\n//               onClick={() => setCurrentPage(i + 1)}\r\n//             >\r\n//               {i + 1}\r\n//             </button>\r\n//           ))}\r\n\r\n//           <button\r\n//             style={styles.paginationBtn}\r\n//             disabled={currentPage === totalPages}\r\n//             onClick={() => setCurrentPage((p) => p + 1)}\r\n//           >\r\n//             Next\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {showModal && (\r\n//         <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\r\n//           <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n//             <h2 style={styles.modalTitle}>‚úè Edit Product</h2>\r\n\r\n//             <form onSubmit={handleSubmit}>\r\n//               <div style={styles.formGrid}>\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Product Name *</label>\r\n//                   <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Category *</label>\r\n//                   <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n//                     <option value=\"\">Select Category</option>\r\n//                     {categories.map((c) => (\r\n//                       <option value={c._id} key={c._id}>\r\n//                         {c.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Subcategory</label>\r\n//                   <select\r\n//                     name=\"subcategory\"\r\n//                     value={form.subcategory}\r\n//                     onChange={handleChange}\r\n//                     disabled={!subcategories.length}\r\n//                     style={styles.select}\r\n//                   >\r\n//                     <option value=\"\">Select Subcategory</option>\r\n//                     {subcategories.map((s) => (\r\n//                       <option value={s._id} key={s._id}>\r\n//                         {s.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Base Price *</label>\r\n//                   <input\r\n//                     type=\"number\"\r\n//                     required\r\n//                     name=\"basePrice\"\r\n//                     value={form.basePrice}\r\n//                     onChange={handleChange}\r\n//                     style={styles.input}\r\n//                   />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Profit/Loss</label>\r\n//                   <input\r\n//                     type=\"number\"\r\n//                     name=\"profitLoss\"\r\n//                     value={form.profitLoss}\r\n//                     onChange={handleChange}\r\n//                     style={styles.input}\r\n//                   />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Valid Till</label>\r\n//                   <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Image</label>\r\n//                   <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Status</label>\r\n//                   <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n//                     <option value=\"active\">Active</option>\r\n//                     <option value=\"inactive\">Inactive</option>\r\n//                   </select>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Description</label>\r\n//                 <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n//               </div>\r\n\r\n//               <div style={styles.formActions}>\r\n//                 <button style={styles.btnPrimary} disabled={loading}>\r\n//                   {loading ? \"Saving...\" : \"Update\"}\r\n//                 </button>\r\n\r\n//                 <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n//                   Cancel\r\n//                 </button>\r\n//               </div>\r\n//             </form>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// const styles = {\r\n//   container: { padding: 16, fontFamily: \"Arial, sans-serif\" },\r\n//   header: { marginBottom: 8 },\r\n//   title: {\r\n//     fontSize: \"24px\",\r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//     marginBottom: \"8px\",\r\n//   },\r\n//   searchInput: {\r\n//     flex: \"1\",\r\n//     minWidth: \"250px\",\r\n//     padding: \"10px 12px\",\r\n//     borderRadius: \"10px\",\r\n//     border: \"1px solid #ced4da\",\r\n//     background: \"#f9fbfc\",\r\n//     fontSize: \"14px\",\r\n//     outline: \"none\",\r\n//   },\r\n//   addButton: {\r\n//     background: \"#007bff\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"10px 16px\",\r\n//     fontSize: \"14px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   select: {\r\n//     padding: \"8px 12px\",\r\n//     borderRadius: \"8px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     fontSize: \"13px\",\r\n//     minWidth: \"150px\",\r\n//   },\r\n//   bulkBar: {\r\n//     background: \"#e9f2ff\",\r\n//     border: \"1px solid #c4d9ff\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"12px\",\r\n//     marginBottom: \"12px\",\r\n//   },\r\n//   bulkPanel: {\r\n//     width: \"100%\",\r\n//     background: \"#f7faff\",\r\n//     border: \"1px solid #cfe2ff\",\r\n//     padding: \"12px\",\r\n//     borderRadius: \"10px\",\r\n//   },\r\n//   bulkPanelTitle: {\r\n//     textAlign: \"center\",\r\n//     fontSize: \"16px\",\r\n//     fontWeight: \"700\",\r\n//     marginBottom: \"10px\",\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   bulkItemBox: {\r\n//     background: \"#fff\",\r\n//     border: \"1px solid #dbe5f5\",\r\n//     padding: \"12px\",\r\n//     borderRadius: \"8px\",\r\n//     marginBottom: \"10px\",\r\n//   },\r\n//   bulkItemTitle: {\r\n//     fontSize: \"14px\",\r\n//     fontWeight: \"600\",\r\n//     marginBottom: \"8px\",\r\n//     color: \"#233142\",\r\n//   },\r\n//   formCard: {\r\n//     borderRadius: \"12px\",\r\n//     padding: \"20px\",\r\n//     marginBottom: \"18px\",\r\n//     background: \"#ffffff\",\r\n//     border: \"1px solid #eef2f7\",\r\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\r\n//   },\r\n//   formTitle: { \r\n//     fontSize: \"18px\", \r\n//     fontWeight: \"700\", \r\n//     marginBottom: 16,\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   formGrid: {\r\n//     display: \"grid\",\r\n//     gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\r\n//     gap: \"12px\",\r\n//   },\r\n//   formGroup: { \r\n//     display: \"flex\", \r\n//     flexDirection: \"column\", \r\n//     gap: \"6px\" \r\n//   },\r\n//   label: { \r\n//     fontWeight: \"600\", \r\n//     fontSize: \"13px\", \r\n//     color: \"#233142\" \r\n//   },\r\n//   input: {\r\n//     padding: \"10px\",\r\n//     borderRadius: \"8px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     fontSize: \"13px\",\r\n//     outline: \"none\",\r\n//   },\r\n//   textarea: {\r\n//     padding: \"10px\",\r\n//     borderRadius: \"8px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     minHeight: 80,\r\n//     fontSize: \"13px\",\r\n//     outline: \"none\",\r\n//     resize: \"vertical\",\r\n//   },\r\n//   fileInput: { \r\n//     padding: \"6px\",\r\n//     fontSize: \"13px\",\r\n//   },\r\n//   formActions: { \r\n//     marginTop: 16, \r\n//     display: \"flex\", \r\n//     gap: 10 \r\n//   },\r\n//   btnPrimary: {\r\n//     background: \"#007bff\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"8px\",\r\n//     padding: \"10px 20px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   btnSmall: {\r\n//     background: \"#28a745\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"6px\",\r\n//     padding: \"6px 12px\",\r\n//     cursor: \"pointer\",\r\n//     fontSize: \"12px\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   btnDelete: {\r\n//     background: \"#dc3545\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"8px\",\r\n//     padding: \"8px 14px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   btnCancel: {\r\n//     background: \"#6c757d\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"8px\",\r\n//     padding: \"10px 20px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   tableCard: { \r\n//     marginTop: 16,\r\n//     background: \"#fff\",\r\n//     borderRadius: \"12px\",\r\n//     padding: \"16px\",\r\n//     border: \"1px solid #eef2f7\",\r\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\r\n//   },\r\n//   tableHeader: { \r\n//     display: \"flex\", \r\n//     justifyContent: \"space-between\", \r\n//     marginBottom: 12,\r\n//     alignItems: \"center\",\r\n//   },\r\n//   tableTitle: { \r\n//     fontSize: \"18px\", \r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   totalCount: { \r\n//     fontSize: \"14px\", \r\n//     color: \"#6c757d\", \r\n//     fontWeight: \"600\" \r\n//   },\r\n//   tableWrapper: { \r\n//     overflowX: \"auto\",\r\n//     border: \"1px solid #e9ecef\",\r\n//     borderRadius: \"8px\",\r\n//   },\r\n//   table: { \r\n//     width: \"100%\", \r\n//     borderCollapse: \"collapse\", \r\n//     fontSize: \"13px\" \r\n//   },\r\n//   th: { \r\n//     background: \"#f8f9fa\", \r\n//     padding: \"12px 10px\", \r\n//     fontWeight: \"700\", \r\n//     color: \"#0d3b66\", \r\n//     textAlign: \"left\",\r\n//     borderBottom: \"2px solid #dee2e6\",\r\n//     whiteSpace: \"nowrap\",\r\n//   },\r\n//   tr: { \r\n//     borderBottom: \"1px solid #edf2f7\",\r\n//     transition: \"background 0.2s\",\r\n//   },\r\n//   td: { \r\n//     padding: \"12px 10px\", \r\n//     whiteSpace: \"nowrap\", \r\n//     verticalAlign: \"middle\" \r\n//   },\r\n//   tableImg: { \r\n//     width: \"50px\", \r\n//     height: \"50px\", \r\n//     borderRadius: \"6px\", \r\n//     objectFit: \"cover\" \r\n//   },\r\n//   statusActive: { \r\n//     background: \"#d4edda\", \r\n//     padding: \"6px 12px\", \r\n//     borderRadius: \"6px\", \r\n//     color: \"#155724\", \r\n//     fontWeight: \"600\", \r\n//     border: \"1px solid #c3e6cb\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"12px\",\r\n//   },\r\n//   statusInactive: { \r\n//     background: \"#f8d7da\", \r\n//     padding: \"6px 12px\", \r\n//     borderRadius: \"6px\", \r\n//     color: \"#721c24\", \r\n//     fontWeight: \"600\", \r\n//     border: \"1px solid #f5c6cb\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"12px\",\r\n//   },\r\n//   menuButton: { \r\n//     background: \"#f0f0f0\", \r\n//     border: \"1px solid #ddd\", \r\n//     borderRadius: \"6px\", \r\n//     padding: \"6px 10px\", \r\n//     fontSize: \"16px\", \r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"700\",\r\n//   },\r\n//   dropdown: { \r\n//     position: \"absolute\", \r\n//     right: 0, \r\n//     top: 36, \r\n//     background: \"#fff\", \r\n//     border: \"1px solid #ddd\", \r\n//     borderRadius: 8, \r\n//     zIndex: 100, \r\n//     minWidth: 140,\r\n//     boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\r\n//   },\r\n//   dropdownItem: { \r\n//     display: \"block\", \r\n//     width: \"100%\", \r\n//     padding: \"10px 14px\", \r\n//     background: \"transparent\", \r\n//     border: \"none\", \r\n//     textAlign: \"left\", \r\n//     cursor: \"pointer\", \r\n//     fontSize: 13, \r\n//     fontWeight: 500,\r\n//     transition: \"background 0.2s\",\r\n//   },\r\n//   dropdownItemDelete: { \r\n//     display: \"block\", \r\n//     width: \"100%\", \r\n//     padding: \"10px 14px\", \r\n//     background: \"transparent\", \r\n//     border: \"none\", \r\n//     textAlign: \"left\", \r\n//     cursor: \"pointer\", \r\n//     fontSize: 13, \r\n//     fontWeight: 500, \r\n//     color: \"#dc3545\",\r\n//     transition: \"background 0.2s\",\r\n//   },\r\n//   pagination: { \r\n//     marginTop: 16, \r\n//     display: \"flex\", \r\n//     justifyContent: \"center\", \r\n//     gap: 8,\r\n//     flexWrap: \"wrap\",\r\n//   },\r\n//   paginationBtn: { \r\n//     padding: \"8px 12px\", \r\n//     borderRadius: 6, \r\n//     background: \"#fff\", \r\n//     border: \"1px solid #dee2e6\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"13px\",\r\n//     fontWeight: \"500\",\r\n//   },\r\n//   paginationBtnActive: { \r\n//     padding: \"8px 12px\", \r\n//     borderRadius: 6, \r\n//     background: \"#007bff\", \r\n//     color: \"white\", \r\n//     border: \"1px solid #007bff\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"13px\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   modalOverlay: { \r\n//     position: \"fixed\", \r\n//     top: 0, \r\n//     left: 0, \r\n//     right: 0, \r\n//     bottom: 0, \r\n//     background: \"rgba(0,0,0,0.5)\", \r\n//     display: \"flex\", \r\n//     justifyContent: \"center\", \r\n//     alignItems: \"center\", \r\n//     zIndex: 1000, \r\n//     padding: 20 \r\n//   },\r\n//   modal: { \r\n//     background: \"#fff\", \r\n//     borderRadius: 12, \r\n//     padding: 24, \r\n//     maxWidth: 700, \r\n//     width: \"100%\", \r\n//     maxHeight: \"90vh\", \r\n//     overflowY: \"auto\",\r\n//     boxShadow: \"0 8px 32px rgba(0,0,0,0.2)\",\r\n//   },\r\n//   modalTitle: { \r\n//     fontSize: 20, \r\n//     fontWeight: \"700\", \r\n//     color: \"#0d3b66\", \r\n//     marginBottom: 16, \r\n//     textAlign: \"center\" \r\n//   },\r\n// }\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst APIURL = 'https://grocerrybackend.vercel.app/api/prices';\r\nconst CATEGORYURL = 'https://grocerrybackend.vercel.app/api/categories';\r\n\r\nexport default function PriceList() {\r\n  const [items, setItems] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [subcategories, setSubcategories] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n  const [priceSort, setPriceSort] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    category: '',\r\n    subcategory: '',\r\n    description: '',\r\n    basePrice: '',\r\n    profitLoss: '',\r\n    validTill: '',\r\n    file: null,\r\n    status: 'inactive',\r\n  });\r\n  const [editId, setEditId] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [filterCategory, setFilterCategory] = useState('');\r\n  const [filterSubcategory, setFilterSubcategory] = useState('');\r\n  const [filterSubs, setFilterSubs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (categories.length > 0) {\r\n      fetchItems();\r\n    }\r\n  }, [categories]);\r\n\r\n  useEffect(() => {\r\n    if (!filterCategory) {\r\n      setFilterSubs([]);\r\n      setFilterSubcategory('');\r\n      return;\r\n    }\r\n    const cat = categories.find((c) => c.id === filterCategory);\r\n    setFilterSubs(cat?.subcategories || []);\r\n    setFilterSubcategory('');\r\n  }, [filterCategory, categories]);\r\n\r\n  useEffect(() => {\r\n    if (!form.category) {\r\n      setSubcategories([]);\r\n      setForm((prev) => ({ ...prev, subcategory: '' }));\r\n      return;\r\n    }\r\n    const cat = categories.find((c) => c.id === form.category);\r\n    setSubcategories(cat?.subcategories || []);\r\n  }, [form.category, categories]);\r\n\r\n  async function fetchCategories() {\r\n    try {\r\n      const res = await axios.get(CATEGORYURL);\r\n      if (res.data?.success) {\r\n        setCategories(res.data.categories);\r\n      }\r\n    } catch (err) {\r\n      console.error('Fetch categories error', err);\r\n      alert('Could not fetch categories');\r\n    }\r\n  }\r\n\r\n  async function fetchItems() {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(APIURL);\r\n      if (res.data?.success) {\r\n        const raw = res.data.data;\r\n        const enriched = raw.map((item) => {\r\n          const catObj = categories.find((c) => c.id === item.category?.id) || {};\r\n          const subObj = catObj.subcategories?.find((s) => s.id === item.subcategory?.id) || {};\r\n          return {\r\n            ...item,\r\n            basePrice: item.basePrice || 0,\r\n            profitLoss: item.profitLoss || 0,\r\n            category: catObj.id ? { id: catObj.id, name: catObj.name } : null,\r\n            subcategory: subObj.id ? { id: subObj.id, name: subObj.name } : null,\r\n          };\r\n        });\r\n        setItems(enriched);\r\n      }\r\n    } catch (err) {\r\n      console.error('Fetch items error', err);\r\n      alert('Could not fetch items');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function handleChange(e) {\r\n    const { name, value, files } = e.target;\r\n    if (files?.length) {\r\n      setForm((p) => ({ ...p, file: files[0] }));\r\n    } else {\r\n      setForm((p) => ({ ...p, [name]: value }));\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!form.name || !form.category || !form.basePrice) {\r\n      alert('Name, category, and base price are required');\r\n      return;\r\n    }\r\n\r\n    // Duplicate check (case insensitive)\r\n    const duplicate = items.some(\r\n      (item) =>\r\n        item.name.toLowerCase() === form.name.toLowerCase() &&\r\n        item.id !== editId\r\n    );\r\n    if (duplicate) {\r\n      alert('Duplicate product name. Please use a different name.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const fd = new FormData();\r\n      fd.append('name', form.name);\r\n      fd.append('category', form.category);\r\n      if (form.subcategory) fd.append('subcategory', form.subcategory);\r\n      if (form.description) fd.append('description', form.description);\r\n      fd.append('basePrice', form.basePrice);\r\n      fd.append('profitLoss', form.profitLoss || 0);\r\n      if (form.validTill) fd.append('validTill', form.validTill);\r\n      fd.append('status', form.status);\r\n      if (form.file) fd.append('file', form.file);\r\n\r\n      if (editId) {\r\n        await axios.put(`${APIURL}/${editId}`, fd);\r\n        alert('Updated successfully');\r\n      } else {\r\n        await axios.post(APIURL, fd);\r\n        alert('Added successfully');\r\n      }\r\n      await fetchItems();\r\n      resetForm();\r\n    } catch (err) {\r\n      console.error('Save error', err);\r\n      alert('Save failed');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function resetForm() {\r\n    setForm({\r\n      name: '',\r\n      category: '',\r\n      subcategory: '',\r\n      description: '',\r\n      basePrice: '',\r\n      profitLoss: '',\r\n      validTill: '',\r\n      file: null,\r\n      status: 'inactive',\r\n    });\r\n    setEditId(null);\r\n    setShowForm(false);\r\n  }\r\n\r\n  function handleEdit(item) {\r\n    setForm({\r\n      name: item.name,\r\n      category: item.category?.id || '',\r\n      subcategory: item.subcategory?.id || '',\r\n      description: item.description || '',\r\n      basePrice: item.basePrice || '',\r\n      profitLoss: item.profitLoss || '',\r\n      validTill: item.validTill ? item.validTill.split('T')[0] : '',\r\n      file: null,\r\n      status: item.status || 'inactive',\r\n    });\r\n    const cat = categories.find((c) => c.id === item.category?.id);\r\n    setSubcategories(cat?.subcategories || []);\r\n    setEditId(item.id);\r\n    setShowForm(true);\r\n  }\r\n\r\n  function handleDelete(id) {\r\n    if (!window.confirm('Delete this item?')) return;\r\n    axios\r\n      .delete(`${APIURL}/${id}`)\r\n      .then(() => {\r\n        setItems((prev) => prev.filter((x) => x.id !== id));\r\n      })\r\n      .catch((err) => {\r\n        console.error('Delete error', err);\r\n        alert('Delete failed');\r\n      });\r\n  }\r\n\r\n  // Filter items by search and filters\r\n  const filteredItems = items.filter((item) => {\r\n    const t = search.toLowerCase();\r\n    const matchesText =\r\n      item.name.toLowerCase().includes(t) ||\r\n      item.category?.name.toLowerCase().includes(t) ||\r\n      item.subcategory?.name.toLowerCase().includes(t);\r\n    const matchesCategory = !filterCategory || item.category?.id === filterCategory;\r\n    const matchesSubcategory =\r\n      !filterSubcategory || item.subcategory?.id === filterSubcategory;\r\n    return matchesText && matchesCategory && matchesSubcategory;\r\n  });\r\n\r\n  // Sort filtered items by price\r\n  const sortedItems = [...filteredItems].sort((a, b) => {\r\n    if (priceSort === 'lowToHigh') return a.basePrice - b.basePrice;\r\n    if (priceSort === 'highToLow') return b.basePrice - a.basePrice;\r\n    return 0;\r\n  });\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <header style={styles.header}>\r\n        <h1 style={styles.title}>Product Management</h1>\r\n\r\n        <div style={styles.filterRow}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search product, category or subcategory...\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            style={styles.searchInput}\r\n          />\r\n          <select\r\n            value={filterCategory}\r\n            onChange={(e) => setFilterCategory(e.target.value)}\r\n            style={styles.select}\r\n          >\r\n            <option value=\"\">Filter by Category</option>\r\n            {categories.map((c) => (\r\n              <option key={c.id} value={c.id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          <select\r\n            value={filterSubcategory}\r\n            onChange={(e) => setFilterSubcategory(e.target.value)}\r\n            disabled={!filterSubs.length}\r\n            style={styles.select}\r\n          >\r\n            <option value=\"\">Filter by Subcategory</option>\r\n            {filterSubs.map((s) => (\r\n              <option key={s.id} value={s.id}>\r\n                {s.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          <select\r\n            value={priceSort}\r\n            onChange={(e) => setPriceSort(e.target.value)}\r\n            style={styles.select}\r\n          >\r\n            <option value=\"\">Sort by Price</option>\r\n            <option value=\"lowToHigh\">Price: Low to High</option>\r\n            <option value=\"highToLow\">Price: High to Low</option>\r\n          </select>\r\n\r\n          <button\r\n            style={styles.addButton}\r\n            onClick={() => {\r\n              setShowForm(!showForm);\r\n              setEditId(null);\r\n              resetForm();\r\n            }}\r\n          >\r\n            {showForm ? 'Close Add Product' : 'Add Product'}\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {showForm && (\r\n        <form onSubmit={handleSubmit} style={styles.formCard}>\r\n          <h2 style={styles.formTitle}>{editId ? 'Edit Product' : 'Add Product'}</h2>\r\n          <div style={styles.formGrid}>\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Product Name</label>\r\n              <input\r\n                required\r\n                name=\"name\"\r\n                value={form.name}\r\n                onChange={handleChange}\r\n                style={styles.input}\r\n              />\r\n            </div>\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Category</label>\r\n              <select\r\n                required\r\n                name=\"category\"\r\n                value={form.category}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n              >\r\n                <option value=\"\">Select Category</option>\r\n                {categories.map((c) => (\r\n                  <option key={c.id} value={c.id}>\r\n                    {c.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Subcategory</label>\r\n              <select\r\n                name=\"subcategory\"\r\n                value={form.subcategory}\r\n                onChange={handleChange}\r\n                disabled={!subcategories.length}\r\n                style={styles.select}\r\n              >\r\n                <option value=\"\">Select Subcategory</option>\r\n                {subcategories.map((s) => (\r\n                  <option key={s.id} value={s.id}>\r\n                    {s.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Base Price</label>\r\n              <input\r\n                type=\"number\"\r\n                required\r\n                name=\"basePrice\"\r\n                value={form.basePrice}\r\n                onChange={handleChange}\r\n                style={styles.input}\r\n              />\r\n            </div>\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Profit/Loss</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"profitLoss\"\r\n                value={form.profitLoss}\r\n                onChange={handleChange}\r\n                style={styles.input}\r\n              />\r\n            </div>\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Valid Till</label>\r\n              <input\r\n                type=\"date\"\r\n                name=\"validTill\"\r\n                value={form.validTill}\r\n                onChange={handleChange}\r\n                style={styles.input}\r\n              />\r\n            </div>\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Image</label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleChange}\r\n                style={styles.fileInput}\r\n              />\r\n            </div>\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Status</label>\r\n              <select\r\n                name=\"status\"\r\n                value={form.status}\r\n                onChange={handleChange}\r\n                style={styles.select}\r\n              >\r\n                <option value=\"active\">Active</option>\r\n                <option value=\"inactive\">Inactive</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div style={styles.formGroup} style={{ gridColumn: '1 / -1' }}>\r\n              <label style={styles.label}>Description</label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={form.description}\r\n                onChange={handleChange}\r\n                style={styles.textarea}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div style={styles.formActions}>\r\n            <button type=\"submit\" style={styles.btnPrimary} disabled={loading}>\r\n              {loading ? 'Saving...' : editId ? 'Update Product' : 'Add Product'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              style={styles.btnCancel}\r\n              onClick={() => {\r\n                resetForm();\r\n                setShowForm(false);\r\n              }}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      )}\r\n\r\n      <div style={styles.tableCard}>\r\n        <div style={styles.tableHeader}>\r\n          <h2 style={styles.tableTitle}>Items</h2>\r\n          <span style={styles.totalCount}>Total: {filteredItems.length}</span>\r\n        </div>\r\n        <div style={styles.tableWrapper}>\r\n          <table style={styles.table}>\r\n            <thead>\r\n              <tr>\r\n                <th style={styles.th}>#</th>\r\n                <th style={styles.th}>Name</th>\r\n                <th style={styles.th}>Category</th>\r\n                <th style={styles.th}>Subcategory</th>\r\n                <th style={styles.th}>Base Price</th>\r\n                <th style={styles.th}>Profit/Loss</th>\r\n                <th style={styles.th}>Status</th>\r\n                <th style={styles.th}>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sortedItems.map((item, i) => (\r\n                <tr key={item.id}>\r\n                  <td style={styles.td}>{i + 1}</td>\r\n                  <td style={styles.td}>{item.name}</td>\r\n                  <td style={styles.td}>{item.category?.name || '-'}</td>\r\n                  <td style={styles.td}>{item.subcategory?.name || '-'}</td>\r\n                  <td style={styles.td}>{item.basePrice}</td>\r\n                  <td style={styles.td}>{item.profitLoss}</td>\r\n                  <td style={styles.td}>{item.status}</td>\r\n                  <td style={styles.td}>\r\n                    <button\r\n                      style={styles.btnSmall}\r\n                      onClick={() => handleEdit(item)}\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      style={styles.btnDelete}\r\n                      onClick={() => handleDelete(item.id)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {!sortedItems.length && (\r\n                <tr>\r\n                  <td colSpan=\"8\" style={styles.td}>\r\n                    No items found.\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    padding: 20,\r\n    fontFamily: `'Segoe UI', Tahoma, Geneva, Verdana, sans-serif`,\r\n    background: '#f9fafb',\r\n    minHeight: '100vh',\r\n  },\r\n  header: {\r\n    marginBottom: 15,\r\n  },\r\n  title: {\r\n    fontSize: 28,\r\n    fontWeight: '700',\r\n    color: '#0d3b66',\r\n    marginBottom: 12,\r\n  },\r\n  filterRow: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    gap: 12,\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  searchInput: {\r\n    flex: 1,\r\n    minWidth: 250,\r\n    padding: '10px 14px',\r\n    borderRadius: 8,\r\n    border: '1px solid #ced4da',\r\n    fontSize: 14,\r\n    outline: 'none',\r\n    background: '#fff',\r\n  },\r\n  select: {\r\n    padding: '9px 12px',\r\n    borderRadius: 8,\r\n    border: '1px solid #cfd6e0',\r\n    background: '#fff',\r\n    fontSize: 14,\r\n    minWidth: 170,\r\n    cursor: 'pointer',\r\n  },\r\n  addButton: {\r\n    backgroundColor: '#007bff',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: 10,\r\n    padding: '10px 18px',\r\n    fontSize: 14,\r\n    fontWeight: '600',\r\n    cursor: 'pointer',\r\n    transition: 'background-color 0.3s ease',\r\n  },\r\n  formCard: {\r\n    padding: 20,\r\n    borderRadius: 12,\r\n    background: '#fff',\r\n    boxShadow: '0 2px 15px rgba(0,0,0,0.1)',\r\n    marginBottom: 28,\r\n  },\r\n  formTitle: {\r\n    fontSize: 20,\r\n    fontWeight: '700',\r\n    color: '#0d3b66',\r\n    marginBottom: 16,\r\n    textAlign: 'center',\r\n  },\r\n  formGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(220px, 1fr))',\r\n    gap: 16,\r\n  },\r\n  formGroup: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  label: {\r\n    fontWeight: '600',\r\n    fontSize: 14,\r\n    color: '#233142',\r\n    marginBottom: 6,\r\n  },\r\n  input: {\r\n    padding: '10px 14px',\r\n    borderRadius: 8,\r\n    border: '1px solid #cfd6e0',\r\n    background: '#f8fafc',\r\n    fontSize: 14,\r\n    outline: 'none',\r\n  },\r\n  fileInput: {\r\n    padding: '6px',\r\n    fontSize: 14,\r\n  },\r\n  textarea: {\r\n    padding: '10px 14px',\r\n    borderRadius: 8,\r\n    border: '1px solid #cfd6e0',\r\n    background: '#f8fafc',\r\n    fontSize: 14,\r\n    minHeight: 80,\r\n    resize: 'vertical',\r\n  },\r\n  formActions: {\r\n    marginTop: 22,\r\n    display: 'flex',\r\n    gap: 10,\r\n    justifyContent: 'center',\r\n  },\r\n  btnPrimary: {\r\n    backgroundColor: '#007bff',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: 8,\r\n    padding: '12px 24px',\r\n    cursor: 'pointer',\r\n    fontWeight: '600',\r\n    fontSize: 16,\r\n    transition: 'background-color 0.3s ease',\r\n  },\r\n  btnCancel: {\r\n    backgroundColor: '#6c757d',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: 8,\r\n    padding: '12px 24px',\r\n    cursor: 'pointer',\r\n    fontWeight: '600',\r\n    fontSize: 16,\r\n  },\r\n  btnSmall: {\r\n    backgroundColor: '#28a745',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: 6,\r\n    padding: '6px 12px',\r\n    cursor: 'pointer',\r\n    fontSize: 13,\r\n    fontWeight: '600',\r\n    marginRight: 8,\r\n  },\r\n  btnDelete: {\r\n    backgroundColor: '#dc3545',\r\n    color: '#fff',\r\n    border: 'none',\r\n    borderRadius: 6,\r\n    padding: '6px 12px',\r\n    cursor: 'pointer',\r\n    fontSize: 13,\r\n    fontWeight: '600',\r\n  },\r\n  tableCard: {\r\n    background: '#fff',\r\n    borderRadius: 12,\r\n    padding: 20,\r\n    boxShadow: '0 2px 12px rgba(0,0,0,0.1)',\r\n  },\r\n  tableHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    marginBottom: 14,\r\n  },\r\n  tableTitle: {\r\n    fontSize: 20,\r\n    fontWeight: '700',\r\n    color: '#0d3b66',\r\n  },\r\n  totalCount: {\r\n    fontSize: 14,\r\n    color: '#6c757d',\r\n    fontWeight: '600',\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n  },\r\n  table: {\r\n    width: '100%',\r\n    borderCollapse: 'collapse',\r\n    fontSize: 14,\r\n  },\r\n  th: {\r\n    padding: '12px 10px',\r\n    textAlign: 'left',\r\n    borderBottom: '2px solid #dee2e6',\r\n    background: '#f8f9fa',\r\n    fontWeight: '700',\r\n    color: '#0d3b66',\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  td: {\r\n    padding: '12px 10px',\r\n    borderBottom: '1px solid #edf2f7',\r\n    whiteSpace: 'nowrap',\r\n    verticalAlign: 'middle',\r\n  },\r\n};\r\n"],"mappings":";;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}