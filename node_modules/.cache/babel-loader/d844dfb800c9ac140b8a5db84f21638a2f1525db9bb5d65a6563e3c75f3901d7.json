{"ast":null,"code":"import _objectSpread from\"E:/infyle/Grocerry_final/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n// const API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\n// const CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\n// export default function PriceList() {\n//   const [items, setItems] = useState([]);\n//   const [categories, setCategories] = useState([]);\n//   const [subcategories, setSubcategories] = useState([]);\n//   const [search, setSearch] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n//   const [form, setForm] = useState({\n//     name: \"\",\n//     category: \"\",\n//     subcategory: \"\",\n//     description: \"\",\n//     basePrice: \"\",\n//     profitLoss: \"\",\n//     validTill: \"\",\n//     file: null,\n//     status: \"inactive\",\n//   });\n//   const [editId, setEditId] = useState(null);\n//   const [showForm, setShowForm] = useState(false);\n//   const [showModal, setShowModal] = useState(false);\n//   const [activeMenu, setActiveMenu] = useState(null);\n//   const [selectedItems, setSelectedItems] = useState([]);\n//   const [bulkMode, setBulkMode] = useState(false);\n//   const [currentPage, setCurrentPage] = useState(1);\n//   const itemsPerPage = 30;\n//   const [filterCategory, setFilterCategory] = useState(\"\");\n//   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\n//   const [filterSubs, setFilterSubs] = useState([]);\n//   // Quick edit states for inline editing\n//   const [quickBasePrices, setQuickBasePrices] = useState({});\n//   const [quickProfitLoss, setQuickProfitLoss] = useState({});\n//   useEffect(() => {\n//     fetchCategories();\n//   }, []);\n//   useEffect(() => {\n//     if (categories.length > 0) fetchItems();\n//   }, [categories]);\n//   useEffect(() => {\n//     if (!filterCategory) {\n//       setFilterSubs([]);\n//       setFilterSubcategory(\"\");\n//       return;\n//     }\n//     const cat = categories.find((c) => c._id === filterCategory);\n//     setFilterSubs(cat?.subcategories || []);\n//     setFilterSubcategory(\"\");\n//   }, [filterCategory, categories]);\n//   useEffect(() => {\n//     if (!form.category) {\n//       setSubcategories([]);\n//       setForm((prev) => ({ ...prev, subcategory: \"\" }));\n//       return;\n//     }\n//     const cat = categories.find((c) => c._id === form.category);\n//     setSubcategories(cat?.subcategories || []);\n//   }, [form.category, categories]);\n//   const fetchCategories = async () => {\n//     try {\n//       const res = await axios.get(CATEGORY_URL);\n//       if (res.data?.success) setCategories(res.data.categories || []);\n//     } catch (err) {\n//       console.error(\"Fetch categories error\", err);\n//       alert(\"Could not fetch categories\");\n//     }\n//   };\n//   const fetchItems = async () => {\n//     try {\n//       setLoading(true);\n//       const res = await axios.get(API_URL);\n//       if (res.data?.success) {\n//         const raw = res.data.data || [];\n//         // const enriched = raw.map((item) => {\n//         //   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\n//         //   const subObj = catObj?.subcategories?.find((s) => s._id === (item.subcategory?.id || item.subcategory?._id));\n//         //   return {\n//         //     ...item,\n//         //     basePrice: item.basePrice || 0,\n//         //     profitLoss: item.profitLoss || 0,\n//         //     salePrice: item.salePrice || 0,\n//         //     lockedPrice: item.lockedPrice || 0,\n//         //     yesterdayLock: item.yesterdayLock || 0,\n//         //     brokerDisplay: item.brokerDisplay || 0,\n//         //     category: catObj ? { _id: catObj._id, name: catObj.name } : item.category,\n//         //     subcategory: subObj ? { _id: subObj._id, name: subObj.name } : item.subcategory,\n//         //   };\n//         // });\n//         const enriched = raw.map((item) => {\n//   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\n//   const subObj = catObj?.subcategories?.find(\n//     (s) => s._id === item.subcategory?.id\n//   );\n//   return {\n//     ...item,\n//     category: catObj ? { _id: catObj._id, name: catObj.name } : null,\n//     subcategory: subObj\n//       ? { _id: subObj._id, name: subObj.name }\n//       : item.subcategory?.id\n//       ? { _id: item.subcategory.id, name: item.subcategory.name }\n//       : null,\n//   };\n// });\n//         setItems(enriched);\n//       }\n//     } catch (err) {\n//       console.error(\"Fetch items error\", err);\n//       alert(\"Could not fetch items\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const handleChange = (e) => {\n//     const { name, value, files } = e.target;\n//     if (files?.length) {\n//       setForm((p) => ({ ...p, file: files[0] }));\n//     } else {\n//       setForm((p) => ({ ...p, [name]: value }));\n//     }\n//   };\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     try {\n//       if (!form.name || !form.category || !form.basePrice) {\n//         alert(\"Name, category & base price are required\");\n//         setLoading(false);\n//         return;\n//       }\n//       const fd = new FormData();\n//       fd.append(\"name\", form.name);\n//       fd.append(\"category\", form.category);\n//       // if (form.subcategory) fd.append(\"subcategory\", form.subcategory);\n//       if (form.subcategory) {\n//   const sub = subcategories.find((s) => s._id === form.subcategory);\n//   fd.append(\"subcategory[id]\", sub._id);\n//   fd.append(\"subcategory[name]\", sub.name);\n//   fd.append(\"subcategory[image]\", sub.image || \"\");\n// }\n//       fd.append(\"basePrice\", form.basePrice);\n//       fd.append(\"profitLoss\", form.profitLoss || 0);\n//       if (form.description) fd.append(\"description\", form.description);\n//       if (form.validTill) fd.append(\"validTill\", form.validTill);\n//       fd.append(\"status\", form.status);\n//       if (form.file) fd.append(\"file\", form.file);\n//       if (editId) {\n//         await axios.put(`${API_URL}/${editId}`, fd);\n//         alert(\"Updated successfully\");\n//       } else {\n//         await axios.post(API_URL, fd);\n//         alert(\"Added successfully\");\n//       }\n//       await fetchItems();\n//       resetForm();\n//     } catch (err) {\n//       console.error(\"Save error\", err);\n//       alert(\"Save failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const resetForm = () => {\n//     setForm({\n//       name: \"\",\n//       category: \"\",\n//       subcategory: \"\",\n//       description: \"\",\n//       basePrice: \"\",\n//       profitLoss: \"\",\n//       validTill: \"\",\n//       file: null,\n//       status: \"inactive\",\n//     });\n//     setEditId(null);\n//     setShowModal(false);\n//     setShowForm(false);\n//   };\n//   const handleEdit = (item) => {\n//     setForm({\n//       name: item.name || \"\",\n//       category: item.category?._id?.toString() || \"\",\n//       // subcategory: item.subcategory?.id?.toString() || \"\",\n//       subcategory: item.subcategory?._id || \"\",\n//       description: item.description || \"\",\n//       basePrice: item.basePrice || \"\",\n//       profitLoss: item.profitLoss || 0,\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\n//       file: null,\n//       status: item.status || \"inactive\",\n//     });\n//     const cat = categories.find((c) => c._id === item.category?._id);\n//     setSubcategories(cat?.subcategories || []);\n//     setEditId(item._id);\n//     setShowModal(true);\n//     setActiveMenu(null);\n//   };\n//   const handleDelete = async (id) => {\n//     if (!window.confirm(\"Delete this item?\")) return;\n//     try {\n//       await axios.delete(`${API_URL}/${id}`);\n//       setItems((prev) => prev.filter((x) => x._id !== id));\n//       setSelectedItems((prev) => prev.filter((x) => x !== id));\n//       setActiveMenu(null);\n//     } catch (err) {\n//       console.error(\"Delete error\", err);\n//       alert(\"Delete failed\");\n//     }\n//   };\n//   const handleStatusToggle = async (item) => {\n//     try {\n//       const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\n//       await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\n//       setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\n//     } catch (err) {\n//       console.error(\"Status toggle error\", err);\n//       alert(\"Status update failed\");\n//     }\n//   };\n//   const updateLocalItemField = (id, key, value) => {\n//     setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\n//   };\n//   const handleBulkSave = async () => {\n//     if (!selectedItems.length) return alert(\"No items selected\");\n//     const updates = items\n//       .filter((x) => selectedItems.includes(x._id))\n//       .map((x) => ({\n//         id: x._id,\n//         basePrice: Number(x.basePrice),\n//         profitLoss: Number(x.profitLoss),\n//         status: x.status,\n//       }));\n//     try {\n//       await axios.post(`${API_URL}/bulk-update`, { products: updates });\n//       alert(\"Bulk save successful\");\n//       setBulkMode(false);\n//       setSelectedItems([]);\n//       fetchItems();\n//     } catch (err) {\n//       console.error(\"Bulk save error\", err);\n//       alert(\"Bulk save failed\");\n//     }\n//   };\n//   const handleBulkDelete = async () => {\n//     if (!selectedItems.length) return alert(\"No items selected\");\n//     if (!window.confirm(\"Delete selected items?\")) return;\n//     try {\n//       await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\n//       setSelectedItems([]);\n//       fetchItems();\n//       setBulkMode(false);\n//     } catch (err) {\n//       console.error(\"Bulk delete error\", err);\n//       alert(\"Bulk delete failed\");\n//     }\n//   };\n//   // Update Base Price inline\n//   const updateBasePrice = async (item) => {\n//     const newBase = Number(quickBasePrices[item._id] ?? item.basePrice);\n//     if (isNaN(newBase)) return alert(\"Invalid Base Price\");\n//     try {\n//       setLoading(true);\n//       const fd = new FormData();\n//       fd.append(\"name\", item.name);\n//       fd.append(\"category\", item.category?._id);\n//       if (item.subcategory?.id) fd.append(\"subcategory\", item.subcategory.id);\n//       fd.append(\"description\", item.description || \"\");\n//       fd.append(\"basePrice\", newBase);\n//       fd.append(\"profitLoss\", item.profitLoss);\n//       fd.append(\"status\", item.status);\n//       const res = await axios.put(`${API_URL}/${item._id}`, fd);\n//       if (res.data.success) {\n//         await fetchItems();\n//         setQuickBasePrices((p) => ({ ...p, [item._id]: undefined }));\n//         alert(\"Base price updated\");\n//       }\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Update failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   // Update Profit/Loss inline using updateDiff\n//   const updateProfitLoss = async (item) => {\n//     const diff = Number(quickProfitLoss[item._id] ?? 0);\n//     if (isNaN(diff)) return alert(\"Invalid Profit/Loss\");\n//     try {\n//       setLoading(true);\n//       const res = await axios.put(`${API_URL}/updateDiff/${item._id}`, { diff });\n//       if (res.data.success) {\n//         await fetchItems();\n//         setQuickProfitLoss((p) => ({ ...p, [item._id]: undefined }));\n//         alert(\"Profit/Loss updated\");\n//       }\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Update failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n//   const filteredItems = items.filter((item) => {\n//     const t = search.toLowerCase();\n//     const matchText =\n//       (item.name || \"\").toLowerCase().includes(t) ||\n//       (item.category?.name || \"\").toLowerCase().includes(t) ||\n//       (item.subcategory?.name || \"\").toLowerCase().includes(t);\n//     const matchCategory = !filterCategory || item.category?._id === filterCategory;\n//     const matchSub = !filterSubcategory || item.subcategory?._id === filterSubcategory;\n//     return matchText && matchCategory && matchSub;\n//   });\n//   const indexOfLast = currentPage * itemsPerPage;\n//   const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\n//   const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\n//   return (\n//     <div className=\"container\" style={styles.container}>\n//       <div style={styles.header}>\n//         <h1 style={styles.title}>Product Management</h1>\n//       </div>\n//       <div style={{ marginBottom: 12, display: \"flex\", gap: 12, flexWrap: \"wrap\" }}>\n//         <input\n//           type=\"text\"\n//           placeholder=\"Search product, category or subcategory...\"\n//           value={search}\n//           onChange={(e) => {\n//             setSearch(e.target.value);\n//             setCurrentPage(1);\n//           }}\n//           style={styles.searchInput}\n//         />\n//         <button\n//           style={styles.addButton}\n//           onClick={() => {\n//             setShowForm(!showForm);\n//             setEditId(null);\n//           }}\n//         >\n//           {showForm ? \"‚úñ Close\" : \"‚ûï Add Product\"}\n//         </button>\n//       </div>\n// <button\n//   style={styles.addButton}\n//   onClick={() => window.open(`${API_URL}/export`, \"_blank\")}\n// >\n//   ‚¨á Export CSV\n// </button>\n// <label style={{ cursor: \"pointer\" }}>\n//   <input\n//     type=\"file\"\n//     accept=\".csv\"\n//     style={{ display: \"none\" }}\n//     onChange={async (e) => {\n//       try {\n//         const fd = new FormData();\n//         fd.append(\"file\", e.target.files[0]);\n//         await axios.post(`${API_URL}/import`, fd);\n//         alert(\"Imported successfully\");\n//         fetchItems();\n//       } catch (err) {\n//         alert(\"Import failed\");\n//       }\n//     }}\n//   />\n//   <span style={styles.addButton}>üì§ Import CSV</span>\n// </label>\n//       <div style={{ display: \"flex\", gap: 10, marginBottom: 12, flexWrap: \"wrap\" }}>\n//         <select\n//           value={filterCategory}\n//           onChange={(e) => setFilterCategory(e.target.value)}\n//           style={styles.select}\n//         >\n//           <option value=\"\">Filter by Category</option>\n//           {categories.map((c) => (\n//             <option key={c._id} value={c._id}>\n//               {c.name}\n//             </option>\n//           ))}\n//         </select>\n//         <select\n//           value={filterSubcategory}\n//           onChange={(e) => setFilterSubcategory(e.target.value)}\n//           disabled={!filterSubs.length}\n//           style={styles.select}\n//         >\n//           <option value=\"\">Filter by Subcategory</option>\n//           {filterSubs.map((s) => (\n//             <option key={s._id} value={s._id}>\n//               {s.name}\n//             </option>\n//           ))}\n//         </select>\n//       </div>\n//       {selectedItems.length > 0 && (\n//         <div style={styles.bulkBar}>\n//           {!bulkMode ? (\n//             <div style={{ display: \"flex\", gap: 8 }}>\n//               <button style={styles.btnDelete} onClick={handleBulkDelete}>\n//                 üóë Bulk Delete\n//               </button>\n//               <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\n//                 ‚úè Bulk Edit\n//               </button>\n//             </div>\n//           ) : (\n//             <div style={styles.bulkPanel}>\n//               <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\n//               {items\n//                 .filter((item) => selectedItems.includes(item._id))\n//                 .map((item) => (\n//                   <div key={item._id} style={styles.bulkItemBox}>\n//                     <h4 style={styles.bulkItemTitle}>{item.name}</h4>\n//                     <div style={styles.formGrid}>\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Base Price</label>\n//                         <input\n//                           type=\"number\"\n//                           value={item.basePrice}\n//                           onChange={(e) => updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))}\n//                           style={styles.input}\n//                         />\n//                       </div>\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Profit/Loss</label>\n//                         <input\n//                           type=\"number\"\n//                           value={item.profitLoss}\n//                           onChange={(e) => updateLocalItemField(item._id, \"profitLoss\", Number(e.target.value))}\n//                           style={styles.input}\n//                         />\n//                       </div>\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Status</label>\n//                         <select\n//                           value={item.status}\n//                           onChange={(e) => updateLocalItemField(item._id, \"status\", e.target.value)}\n//                           style={styles.select}\n//                         >\n//                           <option value=\"active\">active</option>\n//                           <option value=\"inactive\">inactive</option>\n//                         </select>\n//                       </div>\n//                     </div>\n//                   </div>\n//                 ))}\n//               {/* <div style={{ display: \"flex\", gap: 10, marginTop: 12 }}>\n//                 <button style={styles.btnPrimary} onClick={handleBulkSave}>\n//                   ‚úî Save All\n//                 </button>\n//                 <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\n//                   ‚úñ Cancel\n//                 </button>\n//               </div> */}\n//               <div style={{ display: \"flex\", gap: 10, marginTop: 12, flexWrap: 'wrap' }}>\n//   <button style={styles.btnPrimary} onClick={handleBulkSave}>\n//     ‚úî Save All\n//   </button>\n//   <button\n//     style={styles.btnPrimary}\n//     onClick={async () => {\n//       if (!selectedItems.length) return alert(\"No items selected\");\n//       for (let id of selectedItems) await axios.post(`${API_URL}/copy/${id}`);\n//       alert(\"Selected copied\");\n//       fetchItems();\n//     }}\n//   >\n//     üìÑ Copy Selected\n//   </button>\n//   <button\n//     style={styles.btnPrimary}\n//     onClick={async () => {\n//       if (!selectedItems.length) return alert(\"No items selected\");\n//       const res = await axios.post(\n//         `${API_URL}/export-selected`,\n//         { ids: selectedItems },\n//         { responseType: \"blob\" }\n//       );\n//       const url = window.URL.createObjectURL(new Blob([res.data]));\n//       const a = document.createElement(\"a\");\n//       a.href = url;\n//       a.download = \"selected.csv\";\n//       a.click();\n//     }}\n//   >\n//     ‚¨á Export Selected\n//   </button>\n//   <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\n//     ‚úñ Cancel\n//   </button>\n// </div>\n//             </div>\n//           )}\n//         </div>\n//       )}\n//       {showForm && (\n//         <div style={styles.formCard}>\n//           <h2 style={styles.formTitle}>‚ûï Add / Edit Product</h2>\n//           <form onSubmit={handleSubmit}>\n//             <div style={styles.formGrid}>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Product Name *</label>\n//                 <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\n//               </div>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Category *</label>\n//                 <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\n//                   <option value=\"\">Select Category</option>\n//                   {categories.map((c) => (\n//                     <option value={c._id} key={c._id}>\n//                       {c.name}\n//                     </option>\n//                   ))}\n//                 </select>\n//               </div>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Subcategory</label>\n//                 <select\n//                   name=\"subcategory\"\n//                   value={form.subcategory}\n//                   onChange={handleChange}\n//                   disabled={!subcategories.length}\n//                   style={styles.select}\n//                 >\n//                   <option value=\"\">Select Subcategory</option>\n//                   {subcategories.map((s) => (\n//                     // <option value={s._id} key={s._id}>\n//                     //   {s.name}\n//                     // </option>\n//                     <option value={s._id}>{s.name}</option>\n//                   ))}\n//                 </select>\n//               </div>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Base Price *</label>\n//                 <input\n//                   type=\"number\"\n//                   required\n//                   name=\"basePrice\"\n//                   value={form.basePrice}\n//                   onChange={handleChange}\n//                   style={styles.input}\n//                 />\n//               </div>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Profit/Loss</label>\n//                 <input\n//                   type=\"number\"\n//                   name=\"profitLoss\"\n//                   value={form.profitLoss}\n//                   onChange={handleChange}\n//                   style={styles.input}\n//                 />\n//               </div>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Valid Till</label>\n//                 <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\n//               </div>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Image</label>\n//                 <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\n//               </div>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Status</label>\n//                 <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\n//                   <option value=\"active\">Active</option>\n//                   <option value=\"inactive\">Inactive</option>\n//                 </select>\n//               </div>\n//             </div>\n//             <div style={styles.formGroup}>\n//               <label style={styles.label}>Description</label>\n//               <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\n//             </div>\n//             <div style={styles.formActions}>\n//               <button style={styles.btnPrimary} disabled={loading}>\n//                 {loading ? \"Saving...\" : editId ? \"Update Product\" : \"Add Product\"}\n//               </button>\n//               <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\n//                 Cancel\n//               </button>\n//             </div>\n//           </form>\n//         </div>\n//       )}\n//       <div style={styles.tableCard}>\n//         <div style={styles.tableHeader}>\n//           <h2 style={styles.tableTitle}>Items</h2>\n//           <span style={styles.totalCount}>Total: {filteredItems.length}</span>\n//         </div>\n//         <div style={styles.tableWrapper}>\n//           <table style={styles.table}>\n//             <thead>\n//               <tr>\n//                 <th style={styles.th}>\n//                   <input\n//                     type=\"checkbox\"\n//                     checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\n//                     onChange={() => {\n//                       if (selectedItems.length === filteredItems.length) setSelectedItems([]);\n//                       else setSelectedItems(filteredItems.map((x) => x._id));\n//                     }}\n//                   />\n//                 </th>\n//                 <th style={styles.th}>Sr</th>\n//                 <th style={styles.th}>Image</th>\n//                 <th style={styles.th}>Name</th>\n//                 <th style={styles.th}>Category</th>\n//                 <th style={styles.th}>Subcategory</th>\n//                 <th style={styles.th}>Base Price</th>\n//                 <th style={styles.th}>Profit/Loss</th>\n//                 <th style={styles.th}>Sale Price</th>\n//                 <th style={styles.th}>Price Lock</th>\n//                 <th style={styles.th}>Teji/Maddi</th>\n//                 <th style={styles.th}>Status</th>\n//                 <th style={styles.th}>Actions</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               {currentItems.map((item, i) => (\n//                 <tr key={item._id} style={styles.tr}>\n//                   <td style={styles.td}>\n//                     <input\n//                       type=\"checkbox\"\n//                       checked={selectedItems.includes(item._id)}\n//                       onChange={() =>\n//                         setSelectedItems((prev) =>\n//                           prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]\n//                         )\n//                       }\n//                     />\n//                   </td>\n//                   <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\n//                   <td style={styles.td}>\n//                     {item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}\n//                   </td>\n//                   <td style={styles.td}>{item.name}</td>\n//                   <td style={styles.td}>{item.category?.name || \"-\"}</td>\n//                   {/* <td style={styles.td}>{item.subcategory?.name || \"-\"}</td> */}\n//                   <td>{item.subcategory?.name || \"-\"}</td>\n//                   {/* BASE PRICE - Editable */}\n//                   <td style={styles.td}>\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n//                       <input\n//                         type=\"number\"\n//                         value={quickBasePrices[item._id] !== undefined ? quickBasePrices[item._id] : item.basePrice}\n//                         onChange={(e) => setQuickBasePrices((p) => ({ ...p, [item._id]: e.target.value }))}\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\n//                       />\n//                       <button style={styles.btnSmall} onClick={() => updateBasePrice(item)}>\n//                         ‚úî\n//                       </button>\n//                     </div>\n//                     <small style={{ color: \"#28a745\", display: \"block\", marginTop: 4 }}>Saved: ‚Çπ{item.basePrice}</small>\n//                   </td>\n//                   {/* PROFIT/LOSS - Editable */}\n//                   <td style={styles.td}>\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n//                       <input\n//                         type=\"number\"\n//                         placeholder=\"change\"\n//                         value={quickProfitLoss[item._id] ?? \"\"}\n//                         onChange={(e) => setQuickProfitLoss((p) => ({ ...p, [item._id]: e.target.value }))}\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\n//                       />\n//                       <button style={styles.btnSmall} onClick={() => updateProfitLoss(item)}>\n//                         ‚úî\n//                       </button>\n//                     </div>\n//                     <small style={{ color: \"#666\", display: \"block\", marginTop: 4 }}>Current: {item.profitLoss}</small>\n//                   </td>\n//                   {/* SALE PRICE */}\n//                   <td style={styles.td}>‚Çπ{item.salePrice}</td>\n//                   {/* PRICE LOCK */}\n//                   <td style={styles.td}>‚Çπ{item.lockedPrice}</td>\n//                   {/* TEJI/MADDI */}\n//                   {/* <td style={styles.td}>\n//   {(() => {\n//     const teji = item.salePrice - item.lockedPrice;\n//     return (\n//       <span\n//         style={{\n//           color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\n//           fontWeight: \"600\",\n//         }}\n//       >\n//         {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\n//       </span>\n//     );\n//   })()}\n// </td> */}\n// <td style={styles.td}>\n//   {item.lockedPrice === 0 ? (\n//     <span style={{ color: \"#6c757d\", fontWeight: \"600\" }}>0</span>\n//   ) : (\n//     (() => {\n//       const teji = item.salePrice - item.lockedPrice;\n//       return (\n//         <span\n//           style={{\n//             color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\n//             fontWeight: \"600\",\n//           }}\n//         >\n//           {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\n//         </span>\n//       );\n//     })()\n//   )}\n// </td>\n//                   {/* STATUS */}\n//                   <td style={styles.td}>\n//                     <button\n//                       style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\n//                       onClick={() => handleStatusToggle(item)}\n//                     >\n//                       {item.status === \"active\" ? \"Active\" : \"Inactive\"}\n//                     </button>\n//                   </td>\n//                   {/* ACTIONS */}\n//                   <td style={styles.td}>\n//                     <div style={{ position: \"relative\" }}>\n//                       <button\n//                         style={styles.menuButton}\n//                         onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\n//                       >\n//                         ‚ãÆ\n//                       </button>\n//                       {activeMenu === item._id && (\n//                         <div style={styles.dropdown}>\n//                           {/* <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\n//                             ‚úè Edit\n//                           </button>\n//                           <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\n//                             üóë Delete\n//                           </button> */}\n//                           <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\n//   ‚úè Edit\n// </button>\n// <button\n//   style={styles.dropdownItem}\n//   onClick={async () => {\n//     await axios.post(`${API_URL}/copy/${item._id}`);\n//     alert(\"Copied successfully\");\n//     fetchItems();\n//   }}\n// >\n//   üìÑ Copy\n// </button>\n// <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\n//   üóë Delete\n// </button>\n//                         </div>\n//                       )}\n//                     </div>\n//                   </td>\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//         </div>\n//         <div style={styles.pagination}>\n//           <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\n//             Previous\n//           </button>\n//           {Array.from({ length: totalPages }, (_, i) => (\n//             <button\n//               key={i}\n//               style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\n//               onClick={() => setCurrentPage(i + 1)}\n//             >\n//               {i + 1}\n//             </button>\n//           ))}\n//           <button\n//             style={styles.paginationBtn}\n//             disabled={currentPage === totalPages}\n//             onClick={() => setCurrentPage((p) => p + 1)}\n//           >\n//             Next\n//           </button>\n//         </div>\n//       </div>\n//       {showModal && (\n//         <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\n//           <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\n//             <h2 style={styles.modalTitle}>‚úè Edit Product</h2>\n//             <form onSubmit={handleSubmit}>\n//               <div style={styles.formGrid}>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Product Name *</label>\n//                   <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\n//                 </div>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Category *</label>\n//                   <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\n//                     <option value=\"\">Select Category</option>\n//                     {categories.map((c) => (\n//                       <option value={c._id} key={c._id}>\n//                         {c.name}\n//                       </option>\n//                     ))}\n//                   </select>\n//                 </div>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Subcategory</label>\n//                   <select\n//                     name=\"subcategory\"\n//                     value={form.subcategory}\n//                     onChange={handleChange}\n//                     disabled={!subcategories.length}\n//                     style={styles.select}\n//                   >\n//                     <option value=\"\">Select Subcategory</option>\n//                     {subcategories.map((s) => (\n//                       <option value={s._id} key={s._id}>\n//                         {s.name}\n//                       </option>\n//                     ))}\n//                   </select>\n//                 </div>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Base Price *</label>\n//                   <input\n//                     type=\"number\"\n//                     required\n//                     name=\"basePrice\"\n//                     value={form.basePrice}\n//                     onChange={handleChange}\n//                     style={styles.input}\n//                   />\n//                 </div>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Profit/Loss</label>\n//                   <input\n//                     type=\"number\"\n//                     name=\"profitLoss\"\n//                     value={form.profitLoss}\n//                     onChange={handleChange}\n//                     style={styles.input}\n//                   />\n//                 </div>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Valid Till</label>\n//                   <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\n//                 </div>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Image</label>\n//                   <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\n//                 </div>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Status</label>\n//                   <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\n//                     <option value=\"active\">Active</option>\n//                     <option value=\"inactive\">Inactive</option>\n//                   </select>\n//                 </div>\n//               </div>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Description</label>\n//                 <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\n//               </div>\n//               <div style={styles.formActions}>\n//                 <button style={styles.btnPrimary} disabled={loading}>\n//                   {loading ? \"Saving...\" : \"Update\"}\n//                 </button>\n//                 <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\n//                   Cancel\n//                 </button>\n//               </div>\n//             </form>\n//           </div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n// const styles = {\n//   container: { padding: 16, fontFamily: \"Arial, sans-serif\" },\n//   header: { marginBottom: 8 },\n//   title: {\n//     fontSize: \"24px\",\n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//     marginBottom: \"8px\",\n//   },\n//   searchInput: {\n//     flex: \"1\",\n//     minWidth: \"250px\",\n//     padding: \"10px 12px\",\n//     borderRadius: \"10px\",\n//     border: \"1px solid #ced4da\",\n//     background: \"#f9fbfc\",\n//     fontSize: \"14px\",\n//     outline: \"none\",\n//   },\n//   addButton: {\n//     background: \"#007bff\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"10px\",\n//     padding: \"10px 16px\",\n//     fontSize: \"14px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//   },\n//   select: {\n//     padding: \"8px 12px\",\n//     borderRadius: \"8px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     fontSize: \"13px\",\n//     minWidth: \"150px\",\n//   },\n//   bulkBar: {\n//     background: \"#e9f2ff\",\n//     border: \"1px solid #c4d9ff\",\n//     borderRadius: \"10px\",\n//     padding: \"12px\",\n//     marginBottom: \"12px\",\n//   },\n//   bulkPanel: {\n//     width: \"100%\",\n//     background: \"#f7faff\",\n//     border: \"1px solid #cfe2ff\",\n//     padding: \"12px\",\n//     borderRadius: \"10px\",\n//   },\n//   bulkPanelTitle: {\n//     textAlign: \"center\",\n//     fontSize: \"16px\",\n//     fontWeight: \"700\",\n//     marginBottom: \"10px\",\n//     color: \"#0d3b66\",\n//   },\n//   bulkItemBox: {\n//     background: \"#fff\",\n//     border: \"1px solid #dbe5f5\",\n//     padding: \"12px\",\n//     borderRadius: \"8px\",\n//     marginBottom: \"10px\",\n//   },\n//   bulkItemTitle: {\n//     fontSize: \"14px\",\n//     fontWeight: \"600\",\n//     marginBottom: \"8px\",\n//     color: \"#233142\",\n//   },\n//   formCard: {\n//     borderRadius: \"12px\",\n//     padding: \"20px\",\n//     marginBottom: \"18px\",\n//     background: \"#ffffff\",\n//     border: \"1px solid #eef2f7\",\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\n//   },\n//   formTitle: { \n//     fontSize: \"18px\", \n//     fontWeight: \"700\", \n//     marginBottom: 16,\n//     color: \"#0d3b66\",\n//   },\n//   formGrid: {\n//     display: \"grid\",\n//     gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\n//     gap: \"12px\",\n//   },\n//   formGroup: { \n//     display: \"flex\", \n//     flexDirection: \"column\", \n//     gap: \"6px\" \n//   },\n//   label: { \n//     fontWeight: \"600\", \n//     fontSize: \"13px\", \n//     color: \"#233142\" \n//   },\n//   input: {\n//     padding: \"10px\",\n//     borderRadius: \"8px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     fontSize: \"13px\",\n//     outline: \"none\",\n//   },\n//   textarea: {\n//     padding: \"10px\",\n//     borderRadius: \"8px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     minHeight: 80,\n//     fontSize: \"13px\",\n//     outline: \"none\",\n//     resize: \"vertical\",\n//   },\n//   fileInput: { \n//     padding: \"6px\",\n//     fontSize: \"13px\",\n//   },\n//   formActions: { \n//     marginTop: 16, \n//     display: \"flex\", \n//     gap: 10 \n//   },\n//   btnPrimary: {\n//     background: \"#007bff\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"8px\",\n//     padding: \"10px 20px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//   },\n//   btnSmall: {\n//     background: \"#28a745\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"6px\",\n//     padding: \"6px 12px\",\n//     cursor: \"pointer\",\n//     fontSize: \"12px\",\n//     fontWeight: \"600\",\n//   },\n//   btnDelete: {\n//     background: \"#dc3545\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"8px\",\n//     padding: \"8px 14px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//   },\n//   btnCancel: {\n//     background: \"#6c757d\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"8px\",\n//     padding: \"10px 20px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//   },\n//   tableCard: { \n//     marginTop: 16,\n//     background: \"#fff\",\n//     borderRadius: \"12px\",\n//     padding: \"16px\",\n//     border: \"1px solid #eef2f7\",\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\n//   },\n//   tableHeader: { \n//     display: \"flex\", \n//     justifyContent: \"space-between\", \n//     marginBottom: 12,\n//     alignItems: \"center\",\n//   },\n//   tableTitle: { \n//     fontSize: \"18px\", \n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//   },\n//   totalCount: { \n//     fontSize: \"14px\", \n//     color: \"#6c757d\", \n//     fontWeight: \"600\" \n//   },\n//   tableWrapper: { \n//     overflowX: \"auto\",\n//     border: \"1px solid #e9ecef\",\n//     borderRadius: \"8px\",\n//   },\n//   table: { \n//     width: \"100%\", \n//     borderCollapse: \"collapse\", \n//     fontSize: \"13px\" \n//   },\n//   th: { \n//     background: \"#f8f9fa\", \n//     padding: \"12px 10px\", \n//     fontWeight: \"700\", \n//     color: \"#0d3b66\", \n//     textAlign: \"left\",\n//     borderBottom: \"2px solid #dee2e6\",\n//     whiteSpace: \"nowrap\",\n//   },\n//   tr: { \n//     borderBottom: \"1px solid #edf2f7\",\n//     transition: \"background 0.2s\",\n//   },\n//   td: { \n//     padding: \"12px 10px\", \n//     whiteSpace: \"nowrap\", \n//     verticalAlign: \"middle\" \n//   },\n//   tableImg: { \n//     width: \"50px\", \n//     height: \"50px\", \n//     borderRadius: \"6px\", \n//     objectFit: \"cover\" \n//   },\n//   statusActive: { \n//     background: \"#d4edda\", \n//     padding: \"6px 12px\", \n//     borderRadius: \"6px\", \n//     color: \"#155724\", \n//     fontWeight: \"600\", \n//     border: \"1px solid #c3e6cb\", \n//     cursor: \"pointer\",\n//     fontSize: \"12px\",\n//   },\n//   statusInactive: { \n//     background: \"#f8d7da\", \n//     padding: \"6px 12px\", \n//     borderRadius: \"6px\", \n//     color: \"#721c24\", \n//     fontWeight: \"600\", \n//     border: \"1px solid #f5c6cb\", \n//     cursor: \"pointer\",\n//     fontSize: \"12px\",\n//   },\n//   menuButton: { \n//     background: \"#f0f0f0\", \n//     border: \"1px solid #ddd\", \n//     borderRadius: \"6px\", \n//     padding: \"6px 10px\", \n//     fontSize: \"16px\", \n//     cursor: \"pointer\",\n//     fontWeight: \"700\",\n//   },\n//   dropdown: { \n//     position: \"absolute\", \n//     right: 0, \n//     top: 36, \n//     background: \"#fff\", \n//     border: \"1px solid #ddd\", \n//     borderRadius: 8, \n//     zIndex: 100, \n//     minWidth: 140,\n//     boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n//   },\n//   dropdownItem: { \n//     display: \"block\", \n//     width: \"100%\", \n//     padding: \"10px 14px\", \n//     background: \"transparent\", \n//     border: \"none\", \n//     textAlign: \"left\", \n//     cursor: \"pointer\", \n//     fontSize: 13, \n//     fontWeight: 500,\n//     transition: \"background 0.2s\",\n//   },\n//   dropdownItemDelete: { \n//     display: \"block\", \n//     width: \"100%\", \n//     padding: \"10px 14px\", \n//     background: \"transparent\", \n//     border: \"none\", \n//     textAlign: \"left\", \n//     cursor: \"pointer\", \n//     fontSize: 13, \n//     fontWeight: 500, \n//     color: \"#dc3545\",\n//     transition: \"background 0.2s\",\n//   },\n//   pagination: { \n//     marginTop: 16, \n//     display: \"flex\", \n//     justifyContent: \"center\", \n//     gap: 8,\n//     flexWrap: \"wrap\",\n//   },\n//   paginationBtn: { \n//     padding: \"8px 12px\", \n//     borderRadius: 6, \n//     background: \"#fff\", \n//     border: \"1px solid #dee2e6\", \n//     cursor: \"pointer\",\n//     fontSize: \"13px\",\n//     fontWeight: \"500\",\n//   },\n//   paginationBtnActive: { \n//     padding: \"8px 12px\", \n//     borderRadius: 6, \n//     background: \"#007bff\", \n//     color: \"white\", \n//     border: \"1px solid #007bff\", \n//     cursor: \"pointer\",\n//     fontSize: \"13px\",\n//     fontWeight: \"600\",\n//   },\n//   modalOverlay: { \n//     position: \"fixed\", \n//     top: 0, \n//     left: 0, \n//     right: 0, \n//     bottom: 0, \n//     background: \"rgba(0,0,0,0.5)\", \n//     display: \"flex\", \n//     justifyContent: \"center\", \n//     alignItems: \"center\", \n//     zIndex: 1000, \n//     padding: 20 \n//   },\n//   modal: { \n//     background: \"#fff\", \n//     borderRadius: 12, \n//     padding: 24, \n//     maxWidth: 700, \n//     width: \"100%\", \n//     maxHeight: \"90vh\", \n//     overflowY: \"auto\",\n//     boxShadow: \"0 8px 32px rgba(0,0,0,0.2)\",\n//   },\n//   modalTitle: { \n//     fontSize: 20, \n//     fontWeight: \"700\", \n//     color: \"#0d3b66\", \n//     marginBottom: 16, \n//     textAlign: \"center\" \n//   },\n// }\nimport React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./PriceList.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=\"https://grocerrybackend.vercel.app/api/prices\";const CATEGORY_URL=\"https://grocerrybackend.vercel.app/api/categories\";export default function PriceList(){const[items,setItems]=useState([]);const[categories,setCategories]=useState([]);const[subcategories,setSubcategories]=useState([]);const[search,setSearch]=useState(\"\");const[loading,setLoading]=useState(false);const[form,setForm]=useState({name:\"\",category:\"\",subcategory:\"\",description:\"\",basePrice:\"\",profitLoss:\"\",validTill:\"\",file:null,status:\"inactive\"});const[editId,setEditId]=useState(null);const[showForm,setShowForm]=useState(false);const[showModal,setShowModal]=useState(false);const[activeMenu,setActiveMenu]=useState(null);const[selectedItems,setSelectedItems]=useState([]);const[bulkMode,setBulkMode]=useState(false);const[currentPage,setCurrentPage]=useState(1);const itemsPerPage=30;const[filterCategory,setFilterCategory]=useState(\"\");const[filterSubcategory,setFilterSubcategory]=useState(\"\");const[filterSubs,setFilterSubs]=useState([]);// Quick edit states for inline editing\nconst[quickBasePrices,setQuickBasePrices]=useState({});const[quickProfitLoss,setQuickProfitLoss]=useState({});// NEW: sort state\nconst[sortOrder,setSortOrder]=useState(\"\");useEffect(()=>{fetchCategories();},[]);useEffect(()=>{if(categories.length>0)fetchItems();},[categories]);useEffect(()=>{if(!filterCategory){setFilterSubs([]);setFilterSubcategory(\"\");return;}const cat=categories.find(c=>c._id===filterCategory);setFilterSubs((cat===null||cat===void 0?void 0:cat.subcategories)||[]);setFilterSubcategory(\"\");},[filterCategory,categories]);useEffect(()=>{if(!form.category){setSubcategories([]);setForm(prev=>_objectSpread(_objectSpread({},prev),{},{subcategory:\"\"}));return;}const cat=categories.find(c=>c._id===form.category);setSubcategories((cat===null||cat===void 0?void 0:cat.subcategories)||[]);},[form.category,categories]);const fetchCategories=async()=>{try{var _res$data;const res=await axios.get(CATEGORY_URL);if((_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.success)setCategories(res.data.categories||[]);}catch(err){console.error(\"Fetch categories error\",err);alert(\"Could not fetch categories\");}};const fetchItems=async()=>{try{var _res$data2;setLoading(true);const res=await axios.get(API_URL);if((_res$data2=res.data)!==null&&_res$data2!==void 0&&_res$data2.success){const raw=res.data.data||[];const enriched=raw.map(item=>{var _item$subcategory3;// normalize category/subcategory\nconst catObj=categories.find(c=>{var _item$category;return c._id===(((_item$category=item.category)===null||_item$category===void 0?void 0:_item$category._id)||item.category);});let subObj=null;if(catObj!==null&&catObj!==void 0&&catObj.subcategories&&item.subcategory){var _item$subcategory,_item$subcategory2;// item.subcategory may be an object with id or an id string\nconst subId=((_item$subcategory=item.subcategory)===null||_item$subcategory===void 0?void 0:_item$subcategory.id)||((_item$subcategory2=item.subcategory)===null||_item$subcategory2===void 0?void 0:_item$subcategory2._id)||item.subcategory;subObj=catObj.subcategories.find(s=>s._id===subId)||null;}return _objectSpread(_objectSpread({},item),{},{// ensure numeric fields aren't undefined\nbasePrice:Number(item.basePrice||0),profitLoss:Number(item.profitLoss||0),salePrice:Number(item.salePrice||0),lockedPrice:Number(item.lockedPrice||0),yesterdayLock:Number(item.yesterdayLock||0),brokerDisplay:Number(item.brokerDisplay||0),category:catObj?{_id:catObj._id,name:catObj.name}:item.category||null,subcategory:subObj?{_id:subObj._id,name:subObj.name}:(_item$subcategory3=item.subcategory)!==null&&_item$subcategory3!==void 0&&_item$subcategory3.id?{_id:item.subcategory.id,name:item.subcategory.name}:item.subcategory||null});});// setItems(enriched);\nsetItems(enriched.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt)));}}catch(err){console.error(\"Fetch items error\",err);alert(\"Could not fetch items\");}finally{setLoading(false);}};const handleChange=e=>{const{name,value,files}=e.target;if(files!==null&&files!==void 0&&files.length){setForm(p=>_objectSpread(_objectSpread({},p),{},{file:files[0]}));}else{setForm(p=>_objectSpread(_objectSpread({},p),{},{[name]:value}));}};//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     try {\n//       // üõë Duplicate product name check\n// const nameExists = items.some(\n//   (p) =>\n//     p.name.trim().toLowerCase() === form.name.trim().toLowerCase() &&\n//     p._id !== editId\n// );\n// if (nameExists) {\n//   alert(\"‚ùå Product name already exists!\");\n//   setLoading(false);\n//   return;\n// }\nconst handleSubmit=async e=>{e.preventDefault();setLoading(true);// üõë Duplicate product name check (PASTE HERE)\nconst nameExists=items.some(p=>p.name.trim().toLowerCase()===form.name.trim().toLowerCase()&&p._id!==editId);if(nameExists){alert(\"‚ùå Product name already exists!\");setLoading(false);return;}try{if(!form.name||!form.category||!form.basePrice){alert(\"Name, category & base price are required\");setLoading(false);return;}const fd=new FormData();fd.append(\"name\",form.name.trim());fd.append(\"category\",form.category);// if (form.subcategory) {\n//   const sub = subcategories.find((s) => s._id === form.subcategory);\n//   if (sub) {\n//     fd.append(\"subcategory[id]\", sub._id);\n//     fd.append(\"subcategory[name]\", sub.name);\n//     fd.append(\"subcategory[image]\", sub.image || \"\");\n//   }\n// }\nif(form.subcategory){const sub=subcategories.find(s=>s._id===form.subcategory);if(sub){fd.append(\"subcategory\",JSON.stringify({id:sub._id,name:sub.name,image:sub.image||\"\"}));}}else{fd.append(\"subcategory\",JSON.stringify(null));}fd.append(\"basePrice\",form.basePrice);fd.append(\"profitLoss\",form.profitLoss||0);if(form.description)fd.append(\"description\",form.description);if(form.validTill)fd.append(\"validTill\",form.validTill);fd.append(\"status\",form.status);if(form.file)fd.append(\"file\",form.file);if(editId){await axios.put(\"\".concat(API_URL,\"/\").concat(editId),fd);alert(\"Updated successfully\");}else{await axios.post(API_URL,fd);alert(\"Added successfully\");}await fetchItems();resetForm();}catch(err){var _err$response,_err$response$data;console.error(\"Save error\",err);if(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)===\"Product name already exists\"){alert(\"‚ùå Product name already exists!\");}else{alert(\"Save failed!\");}}finally{setLoading(false);}};const resetForm=()=>{setForm({name:\"\",category:\"\",subcategory:\"\",description:\"\",basePrice:\"\",profitLoss:\"\",validTill:\"\",file:null,status:\"inactive\"});setEditId(null);setShowModal(false);setShowForm(false);};const handleEdit=item=>{var _item$category2,_item$category2$_id,_item$subcategory4;setForm({name:item.name||\"\",category:((_item$category2=item.category)===null||_item$category2===void 0?void 0:(_item$category2$_id=_item$category2._id)===null||_item$category2$_id===void 0?void 0:_item$category2$_id.toString())||\"\",subcategory:((_item$subcategory4=item.subcategory)===null||_item$subcategory4===void 0?void 0:_item$subcategory4._id)||\"\",description:item.description||\"\",basePrice:item.basePrice||\"\",profitLoss:item.profitLoss||0,validTill:item.validTill?item.validTill.split(\"T\")[0]:\"\",file:null,status:item.status||\"inactive\"});const cat=categories.find(c=>{var _item$category3;return c._id===((_item$category3=item.category)===null||_item$category3===void 0?void 0:_item$category3._id);});setSubcategories((cat===null||cat===void 0?void 0:cat.subcategories)||[]);setEditId(item._id);setShowModal(true);setActiveMenu(null);};const handleDelete=async id=>{if(!window.confirm(\"Delete this item?\"))return;try{await axios.delete(\"\".concat(API_URL,\"/\").concat(id));setItems(prev=>prev.filter(x=>x._id!==id));setSelectedItems(prev=>prev.filter(x=>x!==id));setActiveMenu(null);}catch(err){console.error(\"Delete error\",err);alert(\"Delete failed\");}};const handleStatusToggle=async item=>{try{const newStatus=item.status===\"active\"?\"inactive\":\"active\";await axios.put(\"\".concat(API_URL,\"/status/\").concat(item._id),{status:newStatus});setItems(prev=>prev.map(x=>x._id===item._id?_objectSpread(_objectSpread({},x),{},{status:newStatus}):x));}catch(err){console.error(\"Status toggle error\",err);alert(\"Status update failed\");}};const updateLocalItemField=(id,key,value)=>{setItems(prev=>prev.map(x=>x._id===id?_objectSpread(_objectSpread({},x),{},{[key]:value}):x));};const handleBulkSave=async()=>{if(!selectedItems.length)return alert(\"No items selected\");const updates=items.filter(x=>selectedItems.includes(x._id)).map(x=>({id:x._id,basePrice:Number(x.basePrice),profitLoss:Number(x.profitLoss),status:x.status}));try{await axios.post(\"\".concat(API_URL,\"/bulk-update\"),{products:updates});alert(\"Bulk save successful\");setBulkMode(false);setSelectedItems([]);fetchItems();}catch(err){console.error(\"Bulk save error\",err);alert(\"Bulk save failed\");}};const handleBulkDelete=async()=>{if(!selectedItems.length)return alert(\"No items selected\");if(!window.confirm(\"Delete selected items?\"))return;try{await Promise.all(selectedItems.map(id=>axios.delete(\"\".concat(API_URL,\"/\").concat(id))));setSelectedItems([]);fetchItems();setBulkMode(false);}catch(err){console.error(\"Bulk delete error\",err);alert(\"Bulk delete failed\");}};// Update Base Price inline\nconst updateBasePrice=async item=>{var _quickBasePrices$item;const newBase=Number((_quickBasePrices$item=quickBasePrices[item._id])!==null&&_quickBasePrices$item!==void 0?_quickBasePrices$item:item.basePrice);if(isNaN(newBase))return alert(\"Invalid Base Price\");try{var _item$category4,_item$subcategory5;setLoading(true);const fd=new FormData();fd.append(\"name\",item.name);fd.append(\"category\",(_item$category4=item.category)===null||_item$category4===void 0?void 0:_item$category4._id);if((_item$subcategory5=item.subcategory)!==null&&_item$subcategory5!==void 0&&_item$subcategory5.id)fd.append(\"subcategory\",item.subcategory.id);fd.append(\"description\",item.description||\"\");fd.append(\"basePrice\",newBase);fd.append(\"profitLoss\",item.profitLoss);fd.append(\"status\",item.status);const res=await axios.put(\"\".concat(API_URL,\"/\").concat(item._id),fd);if(res.data.success){await fetchItems();setQuickBasePrices(p=>_objectSpread(_objectSpread({},p),{},{[item._id]:undefined}));alert(\"Base price updated\");}}catch(err){console.error(err);alert(\"Update failed\");}finally{setLoading(false);}};// Update Profit/Loss inline using updateDiff\nconst updateProfitLoss=async item=>{var _quickProfitLoss$item;const diff=Number((_quickProfitLoss$item=quickProfitLoss[item._id])!==null&&_quickProfitLoss$item!==void 0?_quickProfitLoss$item:0);if(isNaN(diff))return alert(\"Invalid Profit/Loss\");try{setLoading(true);const res=await axios.put(\"\".concat(API_URL,\"/updateDiff/\").concat(item._id),{diff});if(res.data.success){await fetchItems();setQuickProfitLoss(p=>_objectSpread(_objectSpread({},p),{},{[item._id]:undefined}));alert(\"Profit/Loss updated\");}}catch(err){console.error(err);alert(\"Update failed\");}finally{setLoading(false);}};// Filtering\nconst filteredItems=items.filter(item=>{var _item$category5,_item$subcategory6,_item$category6,_item$subcategory7;const t=search.toLowerCase();const matchText=(item.name||\"\").toLowerCase().includes(t)||(((_item$category5=item.category)===null||_item$category5===void 0?void 0:_item$category5.name)||\"\").toLowerCase().includes(t)||(((_item$subcategory6=item.subcategory)===null||_item$subcategory6===void 0?void 0:_item$subcategory6.name)||\"\").toLowerCase().includes(t);const matchCategory=!filterCategory||((_item$category6=item.category)===null||_item$category6===void 0?void 0:_item$category6._id)===filterCategory;const matchSub=!filterSubcategory||((_item$subcategory7=item.subcategory)===null||_item$subcategory7===void 0?void 0:_item$subcategory7._id)===filterSubcategory;return matchText&&matchCategory&&matchSub;});// NEW: SORTING\nlet sortedItems=[...filteredItems];if(sortOrder===\"low\"){sortedItems.sort((a,b)=>(Number(a.salePrice)||0)-(Number(b.salePrice)||0));}else if(sortOrder===\"high\"){sortedItems.sort((a,b)=>(Number(b.salePrice)||0)-(Number(a.salePrice)||0));}const indexOfLast=currentPage*itemsPerPage;const currentItems=sortedItems.slice(indexOfLast-itemsPerPage,indexOfLast);const totalPages=Math.max(1,Math.ceil(sortedItems.length/itemsPerPage));return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.header,children:/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"Product Management\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:12,display:\"flex\",gap:12,flexWrap:\"wrap\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search product, category or subcategory...\",value:search,onChange:e=>{setSearch(e.target.value);setCurrentPage(1);},style:styles.searchInput}),/*#__PURE__*/_jsx(\"button\",{style:styles.addButton,onClick:()=>{setShowForm(!showForm);setEditId(null);},children:showForm?\"‚úñ Close\":\"‚ûï Add Product\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,marginBottom:12,flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsx(\"button\",{style:styles.exportButton,onClick:()=>window.open(\"\".concat(API_URL,\"/export\"),\"_blank\"),children:\"\\u2B07 Export CSV\"}),/*#__PURE__*/_jsxs(\"label\",{style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".csv\",style:{display:\"none\"},onChange:async e=>{try{const fd=new FormData();fd.append(\"file\",e.target.files[0]);await axios.post(\"\".concat(API_URL,\"/import\"),fd);alert(\"Imported successfully\");fetchItems();}catch(err){alert(\"Import failed\");}}}),/*#__PURE__*/_jsx(\"span\",{style:styles.importButton,children:\"\\uD83D\\uDCE4 Import CSV\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:10,marginBottom:12,flexWrap:\"wrap\"},children:[/*#__PURE__*/_jsxs(\"select\",{value:filterCategory,onChange:e=>setFilterCategory(e.target.value),style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Filter by Category\"}),categories.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c._id,children:c.name},c._id))]}),/*#__PURE__*/_jsxs(\"select\",{value:filterSubcategory,onChange:e=>setFilterSubcategory(e.target.value),disabled:!filterSubs.length,style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Filter by Subcategory\"}),filterSubs.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s._id,children:s.name},s._id))]})]}),selectedItems.length>0&&/*#__PURE__*/_jsx(\"div\",{style:styles.bulkBar,children:!bulkMode?/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8},children:[/*#__PURE__*/_jsx(\"button\",{style:styles.btnDelete,onClick:handleBulkDelete,children:\"\\uD83D\\uDDD1 Bulk Delete\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.btnPrimary,onClick:()=>setBulkMode(true),children:\"\\u270F Bulk Edit\"})]}):/*#__PURE__*/_jsxs(\"div\",{style:styles.bulkPanel,children:[/*#__PURE__*/_jsx(\"h3\",{style:styles.bulkPanelTitle,children:\"\\u270F Bulk Edit Selected Items\"}),items.filter(item=>selectedItems.includes(item._id)).map(item=>/*#__PURE__*/_jsxs(\"div\",{style:styles.bulkItemBox,children:[/*#__PURE__*/_jsx(\"h4\",{style:styles.bulkItemTitle,children:item.name}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Base Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.basePrice,onChange:e=>updateLocalItemField(item._id,\"basePrice\",Number(e.target.value)),style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Profit/Loss\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.profitLoss,onChange:e=>updateLocalItemField(item._id,\"profitLoss\",Number(e.target.value)),style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:item.status,onChange:e=>updateLocalItemField(item._id,\"status\",e.target.value),style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"inactive\"})]})]})]})]},item._id)),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:10,marginTop:12,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{style:styles.btnPrimary,onClick:handleBulkSave,children:\"\\u2714 Save All\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.btnPrimary,onClick:async()=>{if(!selectedItems.length)return alert(\"No items selected\");for(let id of selectedItems)await axios.post(\"\".concat(API_URL,\"/copy/\").concat(id));alert(\"Selected copied\");fetchItems();},children:\"\\uD83D\\uDCC4 Copy Selected\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.btnPrimary,onClick:async()=>{if(!selectedItems.length)return alert(\"No items selected\");const res=await axios.post(\"\".concat(API_URL,\"/export-selected\"),{ids:selectedItems},{responseType:\"blob\"});const url=window.URL.createObjectURL(new Blob([res.data]));const a=document.createElement(\"a\");a.href=url;a.download=\"selected.csv\";a.click();},children:\"\\u2B07 Export Selected\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.btnCancel,onClick:()=>setBulkMode(false),children:\"\\u2716 Cancel\"})]})]})}),showForm&&/*#__PURE__*/_jsxs(\"div\",{style:styles.formCard,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.formTitle,children:\"\\u2795 Add / Edit Product\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Product Name *\"}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"name\",value:form.name,onChange:handleChange,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Category *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,name:\"category\",value:form.category,onChange:handleChange,style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c._id,children:c.name},c._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Subcategory\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"subcategory\",value:form.subcategory,onChange:handleChange,disabled:!subcategories.length,style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Subcategory\"}),subcategories.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s._id,children:s.name},s._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Base Price *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,name:\"basePrice\",value:form.basePrice,onChange:handleChange,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Profit/Loss\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"profitLoss\",value:form.profitLoss,onChange:handleChange,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Valid Till\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"validTill\",value:form.validTill,onChange:handleChange,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleChange,style:styles.fileInput})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:form.status,onChange:handleChange,style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:form.description,onChange:handleChange,style:styles.textarea})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formActions,children:[/*#__PURE__*/_jsx(\"button\",{style:styles.btnPrimary,disabled:loading,children:loading?\"Saving...\":editId?\"Update Product\":\"Add Product\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:styles.btnCancel,onClick:resetForm,children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.tableCard,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.tableHeader,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.tableTitle,children:\"Items\"}),/*#__PURE__*/_jsxs(\"span\",{style:styles.totalCount,children:[\"Total: \",filteredItems.length]})]}),/*#__PURE__*/_jsx(\"div\",{style:styles.tableWrapper,children:/*#__PURE__*/_jsxs(\"table\",{style:styles.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedItems.length===filteredItems.length&&filteredItems.length>0,onChange:()=>{if(selectedItems.length===filteredItems.length)setSelectedItems([]);else setSelectedItems(filteredItems.map(x=>x._id));}})}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Sr\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Subcategory\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Base Price\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Profit/Loss\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Sale Price\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Price Lock\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Teji/Maddi\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.th,children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentItems.map((item,i)=>{var _item$category7,_item$subcategory8,_quickProfitLoss$item2;return/*#__PURE__*/_jsxs(\"tr\",{style:styles.tr,children:[/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedItems.includes(item._id),onChange:()=>setSelectedItems(prev=>prev.includes(item._id)?prev.filter(x=>x!==item._id):[...prev,item._id])})}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:(currentPage-1)*itemsPerPage+(i+1)}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:item.image?/*#__PURE__*/_jsx(\"img\",{src:item.image,style:styles.tableImg,alt:\"\"}):\"No Img\"}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:item.name}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:((_item$category7=item.category)===null||_item$category7===void 0?void 0:_item$category7.name)||\"-\"}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:((_item$subcategory8=item.subcategory)===null||_item$subcategory8===void 0?void 0:_item$subcategory8.name)||\"-\"}),/*#__PURE__*/_jsxs(\"td\",{style:styles.td,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quickBasePrices[item._id]!==undefined?quickBasePrices[item._id]:item.basePrice,onChange:e=>setQuickBasePrices(p=>_objectSpread(_objectSpread({},p),{},{[item._id]:e.target.value})),style:_objectSpread(_objectSpread({},styles.input),{},{padding:\"6px 8px\",width:80})}),/*#__PURE__*/_jsx(\"button\",{style:styles.btnSmall,onClick:()=>updateBasePrice(item),children:\"\\u2714\"})]}),/*#__PURE__*/_jsxs(\"small\",{style:{color:\"#28a745\",display:\"block\",marginTop:4},children:[\"Saved: \\u20B9\",item.basePrice]})]}),/*#__PURE__*/_jsxs(\"td\",{style:styles.td,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:8,alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"change\",value:(_quickProfitLoss$item2=quickProfitLoss[item._id])!==null&&_quickProfitLoss$item2!==void 0?_quickProfitLoss$item2:\"\",onChange:e=>setQuickProfitLoss(p=>_objectSpread(_objectSpread({},p),{},{[item._id]:e.target.value})),style:_objectSpread(_objectSpread({},styles.input),{},{padding:\"6px 8px\",width:80})}),/*#__PURE__*/_jsx(\"button\",{style:styles.btnSmall,onClick:()=>updateProfitLoss(item),children:\"\\u2714\"})]}),/*#__PURE__*/_jsxs(\"small\",{style:{color:\"#666\",display:\"block\",marginTop:4},children:[\"Current: \",item.profitLoss]})]}),/*#__PURE__*/_jsxs(\"td\",{style:styles.td,children:[\"\\u20B9\",item.salePrice]}),/*#__PURE__*/_jsxs(\"td\",{style:styles.td,children:[\"\\u20B9\",item.lockedPrice]}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:item.lockedPrice===0?/*#__PURE__*/_jsx(\"span\",{style:{color:\"#6c757d\",fontWeight:\"600\"},children:\"0\"}):(()=>{const teji=item.salePrice-item.lockedPrice;return/*#__PURE__*/_jsxs(\"span\",{style:{color:teji>=0?\"#28a745\":\"#dc3545\",fontWeight:\"600\"},children:[teji>=0?\"‚ñ≤\":\"‚ñº\",\" \",Math.abs(teji)]});})()}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:/*#__PURE__*/_jsx(\"button\",{style:item.status===\"active\"?styles.statusActive:styles.statusInactive,onClick:()=>handleStatusToggle(item),children:item.status===\"active\"?\"Active\":\"Inactive\"})}),/*#__PURE__*/_jsx(\"td\",{style:styles.td,children:/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\"},children:[/*#__PURE__*/_jsx(\"button\",{style:styles.menuButton,onClick:()=>setActiveMenu(activeMenu===item._id?null:item._id),children:\"\\u22EE\"}),activeMenu===item._id&&/*#__PURE__*/_jsxs(\"div\",{style:styles.dropdown,children:[/*#__PURE__*/_jsx(\"button\",{style:styles.dropdownItem,onClick:()=>handleEdit(item),children:\"\\u270F Edit\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.dropdownItem,onClick:async()=>{await axios.post(\"\".concat(API_URL,\"/copy/\").concat(item._id));alert(\"Copied successfully\");fetchItems();},children:\"\\uD83D\\uDCC4 Copy\"}),/*#__PURE__*/_jsx(\"button\",{style:styles.dropdownItemDelete,onClick:()=>handleDelete(item._id),children:\"\\uD83D\\uDDD1 Delete\"})]})]})})]},item._id);})})]})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.pagination,children:[/*#__PURE__*/_jsx(\"button\",{style:styles.paginationBtn,disabled:currentPage===1,onClick:()=>setCurrentPage(p=>p-1),children:\"Previous\"}),Array.from({length:totalPages},(_,i)=>/*#__PURE__*/_jsx(\"button\",{style:i+1===currentPage?styles.paginationBtnActive:styles.paginationBtn,onClick:()=>setCurrentPage(i+1),children:i+1},i)),/*#__PURE__*/_jsx(\"button\",{style:styles.paginationBtn,disabled:currentPage===totalPages,onClick:()=>setCurrentPage(p=>p+1),children:\"Next\"})]})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{style:styles.modalOverlay,onClick:()=>setShowModal(false),children:/*#__PURE__*/_jsxs(\"div\",{style:styles.modal,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.modalTitle,children:\"\\u270F Edit Product\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Product Name *\"}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"name\",value:form.name,onChange:handleChange,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Category *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,name:\"category\",value:form.category,onChange:handleChange,style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c._id,children:c.name},c._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Subcategory\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"subcategory\",value:form.subcategory,onChange:handleChange,disabled:!subcategories.length,style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Subcategory\"}),subcategories.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s._id,children:s.name},s._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Base Price *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,name:\"basePrice\",value:form.basePrice,onChange:handleChange,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Profit/Loss\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"profitLoss\",value:form.profitLoss,onChange:handleChange,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Valid Till\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"validTill\",value:form.validTill,onChange:handleChange,style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleChange,style:styles.fileInput})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:form.status,onChange:handleChange,style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"Inactive\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:form.description,onChange:handleChange,style:styles.textarea})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formActions,children:[/*#__PURE__*/_jsx(\"button\",{style:styles.btnPrimary,disabled:loading,children:loading?\"Saving...\":\"Update\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:styles.btnCancel,onClick:resetForm,children:\"Cancel\"})]})]})]})})]});}const styles={container:{padding:20,fontFamily:\"Inter, Arial, sans-serif\",background:\"#f6f8fa\",minHeight:\"100vh\"},header:{marginBottom:8},title:{fontSize:\"22px\",fontWeight:800,color:\"#0f1724\",marginBottom:\"8px\"},searchInput:{flex:\"1\",minWidth:\"260px\",padding:\"12px 14px\",borderRadius:\"12px\",border:\"1px solid #e2e8f0\",background:\"#fff\",fontSize:\"14px\",outline:\"none\",boxShadow:\"0 1px 2px rgba(16,24,40,0.03)\"},addButton:{background:\"#0b69ff\",color:\"#fff\",border:\"none\",borderRadius:\"10px\",padding:\"10px 16px\",fontSize:\"14px\",cursor:\"pointer\",fontWeight:700,boxShadow:\"0 6px 18px rgba(11,105,255,0.12)\"},exportButton:{background:\"#fff\",color:\"#0f1724\",border:\"1px solid #e6eefc\",borderRadius:10,padding:\"8px 12px\",cursor:\"pointer\",fontWeight:700},importButton:{background:\"#fff\",color:\"#0f1724\",border:\"1px solid #e6eefc\",borderRadius:10,padding:\"8px 12px\",cursor:\"pointer\",fontWeight:700,marginLeft:8},select:{padding:\"10px 12px\",borderRadius:\"10px\",border:\"1px solid #e2e8f0\",background:\"#fff\",fontSize:\"13px\",minWidth:\"160px\"},sortSelect:{padding:\"10px 12px\",borderRadius:\"10px\",border:\"1px solid #dbeafe\",background:\"#f8fbff\",fontSize:\"13px\",minWidth:\"170px\",fontWeight:700,color:\"#0f1724\"},smallLabel:{fontSize:12,color:\"#475569\",fontWeight:700,marginRight:6},bulkBar:{background:\"#eef2ff\",border:\"1px solid #dbeafe\",borderRadius:\"10px\",padding:\"12px\",marginBottom:\"12px\"},bulkPanel:{width:\"100%\",background:\"#fff\",border:\"1px solid #eef2ff\",padding:\"12px\",borderRadius:\"10px\"},bulkPanelTitle:{textAlign:\"center\",fontSize:\"16px\",fontWeight:700,marginBottom:\"10px\",color:\"#0f1724\"},bulkItemBox:{background:\"#ffffff\",border:\"1px solid #eef2ff\",padding:\"12px\",borderRadius:\"8px\",marginBottom:\"10px\"},bulkItemTitle:{fontSize:\"14px\",fontWeight:700,marginBottom:\"8px\",color:\"#0f1724\"},formCard:{borderRadius:\"12px\",padding:\"18px\",marginBottom:\"18px\",background:\"#fff\",border:\"1px solid #eef2ff\",boxShadow:\"0 4px 16px rgba(2,6,23,0.04)\"},formTitle:{fontSize:\"18px\",fontWeight:800,marginBottom:16,color:\"#0f1724\"},formGrid:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(220px, 1fr))\",gap:\"12px\"},formGroup:{display:\"flex\",flexDirection:\"column\",gap:\"6px\"},label:{fontWeight:700,fontSize:\"13px\",color:\"#0f1724\"},input:{padding:\"10px\",borderRadius:\"8px\",border:\"1px solid #e6eef8\",background:\"#fff\",fontSize:\"13px\",outline:\"none\"},textarea:{padding:\"10px\",borderRadius:\"8px\",border:\"1px solid #e6eef8\",background:\"#fff\",minHeight:80,fontSize:\"13px\",outline:\"none\",resize:\"vertical\"},fileInput:{padding:\"6px\",fontSize:\"13px\"},formActions:{marginTop:16,display:\"flex\",gap:10},btnPrimary:{background:\"#0b69ff\",color:\"#fff\",border:\"none\",borderRadius:\"8px\",padding:\"10px 20px\",cursor:\"pointer\",fontWeight:700,fontSize:\"14px\"},btnSmall:{background:\"#10b981\",color:\"#fff\",border:\"none\",borderRadius:\"6px\",padding:\"6px 12px\",cursor:\"pointer\",fontSize:\"12px\",fontWeight:700},btnDelete:{background:\"#ef4444\",color:\"#fff\",border:\"none\",borderRadius:\"8px\",padding:\"8px 14px\",cursor:\"pointer\",fontWeight:700,fontSize:\"14px\"},btnCancel:{background:\"#6b7280\",color:\"#fff\",border:\"none\",borderRadius:\"8px\",padding:\"10px 20px\",cursor:\"pointer\",fontWeight:700,fontSize:\"14px\"},tableCard:{marginTop:16,background:\"#fff\",borderRadius:\"12px\",padding:\"16px\",border:\"1px solid #eef2ff\",boxShadow:\"0 6px 22px rgba(2,6,23,0.04)\"},tableHeader:{display:\"flex\",justifyContent:\"space-between\",marginBottom:12,alignItems:\"center\"},tableTitle:{fontSize:\"18px\",fontWeight:800,color:\"#0f1724\"},totalCount:{fontSize:\"14px\",color:\"#64748b\",fontWeight:700},tableWrapper:{overflowX:\"auto\",border:\"1px solid #eef2ff\",borderRadius:\"8px\"},table:{width:\"100%\",borderCollapse:\"collapse\",fontSize:\"13px\"},th:{background:\"#fbfdff\",padding:\"12px 10px\",fontWeight:800,color:\"#0f1724\",textAlign:\"left\",borderBottom:\"2px solid #eef2ff\",whiteSpace:\"nowrap\"},tr:{borderBottom:\"1px solid #f1f5f9\",transition:\"background 0.2s\"},td:{padding:\"12px 10px\",whiteSpace:\"nowrap\",verticalAlign:\"middle\"},tableImg:{width:\"50px\",height:\"50px\",borderRadius:\"6px\",objectFit:\"cover\"},statusActive:{background:\"#d1fae5\",padding:\"6px 12px\",borderRadius:\"6px\",color:\"#065f46\",fontWeight:700,border:\"1px solid #bbf7d0\",cursor:\"pointer\",fontSize:\"12px\"},statusInactive:{background:\"#fee2e2\",padding:\"6px 12px\",borderRadius:\"6px\",color:\"#991b1b\",fontWeight:700,border:\"1px solid #fecaca\",cursor:\"pointer\",fontSize:\"12px\"},menuButton:{background:\"#fff\",border:\"1px solid #e6eef8\",borderRadius:\"6px\",padding:\"6px 10px\",fontSize:\"16px\",cursor:\"pointer\",fontWeight:700},dropdown:{position:\"absolute\",right:0,top:36,background:\"#fff\",border:\"1px solid #e6eef8\",borderRadius:8,zIndex:100,minWidth:140,boxShadow:\"0 8px 30px rgba(2,6,23,0.08)\"},dropdownItem:{display:\"block\",width:\"100%\",padding:\"10px 14px\",background:\"transparent\",border:\"none\",textAlign:\"left\",cursor:\"pointer\",fontSize:13,fontWeight:700,transition:\"background 0.12s\"},dropdownItemDelete:{display:\"block\",width:\"100%\",padding:\"10px 14px\",background:\"transparent\",border:\"none\",textAlign:\"left\",cursor:\"pointer\",fontSize:13,fontWeight:700,color:\"#ef4444\",transition:\"background 0.12s\"},pagination:{marginTop:16,display:\"flex\",justifyContent:\"center\",gap:8,flexWrap:\"wrap\"},paginationBtn:{padding:\"8px 12px\",borderRadius:8,background:\"#fff\",border:\"1px solid #e6eef8\",cursor:\"pointer\",fontSize:\"13px\",fontWeight:700},paginationBtnActive:{padding:\"8px 12px\",borderRadius:8,background:\"#0b69ff\",color:\"white\",border:\"1px solid #0b69ff\",cursor:\"pointer\",fontSize:\"13px\",fontWeight:800},modalOverlay:{position:\"fixed\",top:0,left:0,right:0,bottom:0,background:\"rgba(2,6,23,0.5)\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",zIndex:1000,padding:20},modal:{background:\"#fff\",borderRadius:12,padding:24,maxWidth:700,width:\"100%\",maxHeight:\"90vh\",overflowY:\"auto\",boxShadow:\"0 12px 48px rgba(2,6,23,0.12)\"},modalTitle:{fontSize:20,fontWeight:800,color:\"#0f1724\",marginBottom:16,textAlign:\"center\"}};","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","API_URL","CATEGORY_URL","PriceList","items","setItems","categories","setCategories","subcategories","setSubcategories","search","setSearch","loading","setLoading","form","setForm","name","category","subcategory","description","basePrice","profitLoss","validTill","file","status","editId","setEditId","showForm","setShowForm","showModal","setShowModal","activeMenu","setActiveMenu","selectedItems","setSelectedItems","bulkMode","setBulkMode","currentPage","setCurrentPage","itemsPerPage","filterCategory","setFilterCategory","filterSubcategory","setFilterSubcategory","filterSubs","setFilterSubs","quickBasePrices","setQuickBasePrices","quickProfitLoss","setQuickProfitLoss","sortOrder","setSortOrder","fetchCategories","length","fetchItems","cat","find","c","_id","prev","_objectSpread","_res$data","res","get","data","success","err","console","error","alert","_res$data2","raw","enriched","map","item","_item$subcategory3","catObj","_item$category","subObj","_item$subcategory","_item$subcategory2","subId","id","s","Number","salePrice","lockedPrice","yesterdayLock","brokerDisplay","sort","a","b","Date","createdAt","handleChange","e","value","files","target","p","handleSubmit","preventDefault","nameExists","some","trim","toLowerCase","fd","FormData","append","sub","JSON","stringify","image","put","concat","post","resetForm","_err$response","_err$response$data","response","message","handleEdit","_item$category2","_item$category2$_id","_item$subcategory4","toString","split","_item$category3","handleDelete","window","confirm","delete","filter","x","handleStatusToggle","newStatus","updateLocalItemField","key","handleBulkSave","updates","includes","products","handleBulkDelete","Promise","all","updateBasePrice","_quickBasePrices$item","newBase","isNaN","_item$category4","_item$subcategory5","undefined","updateProfitLoss","_quickProfitLoss$item","diff","filteredItems","_item$category5","_item$subcategory6","_item$category6","_item$subcategory7","t","matchText","matchCategory","matchSub","sortedItems","indexOfLast","currentItems","slice","totalPages","Math","max","ceil","className","style","styles","container","children","header","title","marginBottom","display","gap","flexWrap","alignItems","type","placeholder","onChange","searchInput","addButton","onClick","exportButton","open","cursor","accept","importButton","select","disabled","bulkBar","btnDelete","btnPrimary","bulkPanel","bulkPanelTitle","bulkItemBox","bulkItemTitle","formGrid","formGroup","label","input","marginTop","ids","responseType","url","URL","createObjectURL","Blob","document","createElement","href","download","click","btnCancel","formCard","formTitle","onSubmit","required","fileInput","textarea","formActions","tableCard","tableHeader","tableTitle","totalCount","tableWrapper","table","th","checked","i","_item$category7","_item$subcategory8","_quickProfitLoss$item2","tr","td","src","tableImg","alt","padding","width","btnSmall","color","fontWeight","teji","abs","statusActive","statusInactive","position","menuButton","dropdown","dropdownItem","dropdownItemDelete","pagination","paginationBtn","Array","from","_","paginationBtnActive","modalOverlay","modal","stopPropagation","modalTitle","fontFamily","background","minHeight","fontSize","flex","minWidth","borderRadius","border","outline","boxShadow","marginLeft","sortSelect","smallLabel","marginRight","textAlign","gridTemplateColumns","flexDirection","resize","justifyContent","overflowX","borderCollapse","borderBottom","whiteSpace","transition","verticalAlign","height","objectFit","right","top","zIndex","left","bottom","maxWidth","maxHeight","overflowY"],"sources":["E:/infyle/Grocerry_final/frontend/src/pages/PriceList.jsx"],"sourcesContent":["\r\n// import React, { useEffect, useState, useRef } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// const API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\r\n// const CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\r\n\r\n// export default function PriceList() {\r\n//   const [items, setItems] = useState([]);\r\n//   const [categories, setCategories] = useState([]);\r\n//   const [subcategories, setSubcategories] = useState([]);\r\n//   const [search, setSearch] = useState(\"\");\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   const [form, setForm] = useState({\r\n//     name: \"\",\r\n//     category: \"\",\r\n//     subcategory: \"\",\r\n//     description: \"\",\r\n//     basePrice: \"\",\r\n//     profitLoss: \"\",\r\n//     validTill: \"\",\r\n//     file: null,\r\n//     status: \"inactive\",\r\n//   });\r\n\r\n//   const [editId, setEditId] = useState(null);\r\n//   const [showForm, setShowForm] = useState(false);\r\n//   const [showModal, setShowModal] = useState(false);\r\n//   const [activeMenu, setActiveMenu] = useState(null);\r\n\r\n//   const [selectedItems, setSelectedItems] = useState([]);\r\n//   const [bulkMode, setBulkMode] = useState(false);\r\n\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const itemsPerPage = 30;\r\n\r\n//   const [filterCategory, setFilterCategory] = useState(\"\");\r\n//   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n//   const [filterSubs, setFilterSubs] = useState([]);\r\n\r\n//   // Quick edit states for inline editing\r\n//   const [quickBasePrices, setQuickBasePrices] = useState({});\r\n//   const [quickProfitLoss, setQuickProfitLoss] = useState({});\r\n\r\n//   useEffect(() => {\r\n//     fetchCategories();\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (categories.length > 0) fetchItems();\r\n//   }, [categories]);\r\n\r\n//   useEffect(() => {\r\n//     if (!filterCategory) {\r\n//       setFilterSubs([]);\r\n//       setFilterSubcategory(\"\");\r\n//       return;\r\n//     }\r\n//     const cat = categories.find((c) => c._id === filterCategory);\r\n//     setFilterSubs(cat?.subcategories || []);\r\n//     setFilterSubcategory(\"\");\r\n//   }, [filterCategory, categories]);\r\n\r\n//   useEffect(() => {\r\n//     if (!form.category) {\r\n//       setSubcategories([]);\r\n//       setForm((prev) => ({ ...prev, subcategory: \"\" }));\r\n//       return;\r\n//     }\r\n//     const cat = categories.find((c) => c._id === form.category);\r\n//     setSubcategories(cat?.subcategories || []);\r\n//   }, [form.category, categories]);\r\n\r\n//   const fetchCategories = async () => {\r\n//     try {\r\n//       const res = await axios.get(CATEGORY_URL);\r\n//       if (res.data?.success) setCategories(res.data.categories || []);\r\n//     } catch (err) {\r\n//       console.error(\"Fetch categories error\", err);\r\n//       alert(\"Could not fetch categories\");\r\n//     }\r\n//   };\r\n\r\n//   const fetchItems = async () => {\r\n//     try {\r\n//       setLoading(true);\r\n//       const res = await axios.get(API_URL);\r\n//       if (res.data?.success) {\r\n//         const raw = res.data.data || [];\r\n//         // const enriched = raw.map((item) => {\r\n//         //   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\r\n//         //   const subObj = catObj?.subcategories?.find((s) => s._id === (item.subcategory?.id || item.subcategory?._id));\r\n\r\n//         //   return {\r\n//         //     ...item,\r\n//         //     basePrice: item.basePrice || 0,\r\n//         //     profitLoss: item.profitLoss || 0,\r\n//         //     salePrice: item.salePrice || 0,\r\n//         //     lockedPrice: item.lockedPrice || 0,\r\n//         //     yesterdayLock: item.yesterdayLock || 0,\r\n//         //     brokerDisplay: item.brokerDisplay || 0,\r\n//         //     category: catObj ? { _id: catObj._id, name: catObj.name } : item.category,\r\n//         //     subcategory: subObj ? { _id: subObj._id, name: subObj.name } : item.subcategory,\r\n//         //   };\r\n//         // });\r\n//         const enriched = raw.map((item) => {\r\n//   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\r\n\r\n//   const subObj = catObj?.subcategories?.find(\r\n//     (s) => s._id === item.subcategory?.id\r\n//   );\r\n\r\n//   return {\r\n//     ...item,\r\n//     category: catObj ? { _id: catObj._id, name: catObj.name } : null,\r\n//     subcategory: subObj\r\n//       ? { _id: subObj._id, name: subObj.name }\r\n//       : item.subcategory?.id\r\n//       ? { _id: item.subcategory.id, name: item.subcategory.name }\r\n//       : null,\r\n//   };\r\n// });\r\n\r\n//         setItems(enriched);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Fetch items error\", err);\r\n//       alert(\"Could not fetch items\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const handleChange = (e) => {\r\n//     const { name, value, files } = e.target;\r\n//     if (files?.length) {\r\n//       setForm((p) => ({ ...p, file: files[0] }));\r\n//     } else {\r\n//       setForm((p) => ({ ...p, [name]: value }));\r\n//     }\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     setLoading(true);\r\n\r\n//     try {\r\n//       if (!form.name || !form.category || !form.basePrice) {\r\n//         alert(\"Name, category & base price are required\");\r\n//         setLoading(false);\r\n//         return;\r\n//       }\r\n\r\n//       const fd = new FormData();\r\n//       fd.append(\"name\", form.name);\r\n//       fd.append(\"category\", form.category);\r\n//       // if (form.subcategory) fd.append(\"subcategory\", form.subcategory);\r\n//       if (form.subcategory) {\r\n//   const sub = subcategories.find((s) => s._id === form.subcategory);\r\n//   fd.append(\"subcategory[id]\", sub._id);\r\n//   fd.append(\"subcategory[name]\", sub.name);\r\n//   fd.append(\"subcategory[image]\", sub.image || \"\");\r\n// }\r\n\r\n//       fd.append(\"basePrice\", form.basePrice);\r\n//       fd.append(\"profitLoss\", form.profitLoss || 0);\r\n//       if (form.description) fd.append(\"description\", form.description);\r\n//       if (form.validTill) fd.append(\"validTill\", form.validTill);\r\n//       fd.append(\"status\", form.status);\r\n//       if (form.file) fd.append(\"file\", form.file);\r\n\r\n//       if (editId) {\r\n//         await axios.put(`${API_URL}/${editId}`, fd);\r\n//         alert(\"Updated successfully\");\r\n//       } else {\r\n//         await axios.post(API_URL, fd);\r\n//         alert(\"Added successfully\");\r\n//       }\r\n\r\n//       await fetchItems();\r\n//       resetForm();\r\n//     } catch (err) {\r\n//       console.error(\"Save error\", err);\r\n//       alert(\"Save failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const resetForm = () => {\r\n//     setForm({\r\n//       name: \"\",\r\n//       category: \"\",\r\n//       subcategory: \"\",\r\n//       description: \"\",\r\n//       basePrice: \"\",\r\n//       profitLoss: \"\",\r\n//       validTill: \"\",\r\n//       file: null,\r\n//       status: \"inactive\",\r\n//     });\r\n//     setEditId(null);\r\n//     setShowModal(false);\r\n//     setShowForm(false);\r\n//   };\r\n\r\n//   const handleEdit = (item) => {\r\n//     setForm({\r\n//       name: item.name || \"\",\r\n//       category: item.category?._id?.toString() || \"\",\r\n//       // subcategory: item.subcategory?.id?.toString() || \"\",\r\n//       subcategory: item.subcategory?._id || \"\",\r\n\r\n//       description: item.description || \"\",\r\n//       basePrice: item.basePrice || \"\",\r\n//       profitLoss: item.profitLoss || 0,\r\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\r\n//       file: null,\r\n//       status: item.status || \"inactive\",\r\n//     });\r\n\r\n//     const cat = categories.find((c) => c._id === item.category?._id);\r\n//     setSubcategories(cat?.subcategories || []);\r\n\r\n//     setEditId(item._id);\r\n//     setShowModal(true);\r\n//     setActiveMenu(null);\r\n//   };\r\n\r\n//   const handleDelete = async (id) => {\r\n//     if (!window.confirm(\"Delete this item?\")) return;\r\n//     try {\r\n//       await axios.delete(`${API_URL}/${id}`);\r\n//       setItems((prev) => prev.filter((x) => x._id !== id));\r\n//       setSelectedItems((prev) => prev.filter((x) => x !== id));\r\n//       setActiveMenu(null);\r\n//     } catch (err) {\r\n//       console.error(\"Delete error\", err);\r\n//       alert(\"Delete failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleStatusToggle = async (item) => {\r\n//     try {\r\n//       const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\r\n//       await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\r\n//       setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\r\n//     } catch (err) {\r\n//       console.error(\"Status toggle error\", err);\r\n//       alert(\"Status update failed\");\r\n//     }\r\n//   };\r\n\r\n//   const updateLocalItemField = (id, key, value) => {\r\n//     setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\r\n//   };\r\n\r\n//   const handleBulkSave = async () => {\r\n//     if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n//     const updates = items\r\n//       .filter((x) => selectedItems.includes(x._id))\r\n//       .map((x) => ({\r\n//         id: x._id,\r\n//         basePrice: Number(x.basePrice),\r\n//         profitLoss: Number(x.profitLoss),\r\n//         status: x.status,\r\n//       }));\r\n\r\n//     try {\r\n//       await axios.post(`${API_URL}/bulk-update`, { products: updates });\r\n//       alert(\"Bulk save successful\");\r\n//       setBulkMode(false);\r\n//       setSelectedItems([]);\r\n//       fetchItems();\r\n//     } catch (err) {\r\n//       console.error(\"Bulk save error\", err);\r\n//       alert(\"Bulk save failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleBulkDelete = async () => {\r\n//     if (!selectedItems.length) return alert(\"No items selected\");\r\n//     if (!window.confirm(\"Delete selected items?\")) return;\r\n\r\n//     try {\r\n//       await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\r\n//       setSelectedItems([]);\r\n//       fetchItems();\r\n//       setBulkMode(false);\r\n//     } catch (err) {\r\n//       console.error(\"Bulk delete error\", err);\r\n//       alert(\"Bulk delete failed\");\r\n//     }\r\n//   };\r\n\r\n//   // Update Base Price inline\r\n//   const updateBasePrice = async (item) => {\r\n//     const newBase = Number(quickBasePrices[item._id] ?? item.basePrice);\r\n//     if (isNaN(newBase)) return alert(\"Invalid Base Price\");\r\n\r\n//     try {\r\n//       setLoading(true);\r\n//       const fd = new FormData();\r\n//       fd.append(\"name\", item.name);\r\n//       fd.append(\"category\", item.category?._id);\r\n//       if (item.subcategory?.id) fd.append(\"subcategory\", item.subcategory.id);\r\n//       fd.append(\"description\", item.description || \"\");\r\n//       fd.append(\"basePrice\", newBase);\r\n//       fd.append(\"profitLoss\", item.profitLoss);\r\n//       fd.append(\"status\", item.status);\r\n\r\n//       const res = await axios.put(`${API_URL}/${item._id}`, fd);\r\n//       if (res.data.success) {\r\n//         await fetchItems();\r\n//         setQuickBasePrices((p) => ({ ...p, [item._id]: undefined }));\r\n//         alert(\"Base price updated\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Update failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // Update Profit/Loss inline using updateDiff\r\n//   const updateProfitLoss = async (item) => {\r\n//     const diff = Number(quickProfitLoss[item._id] ?? 0);\r\n//     if (isNaN(diff)) return alert(\"Invalid Profit/Loss\");\r\n\r\n//     try {\r\n//       setLoading(true);\r\n//       const res = await axios.put(`${API_URL}/updateDiff/${item._id}`, { diff });\r\n//       if (res.data.success) {\r\n//         await fetchItems();\r\n//         setQuickProfitLoss((p) => ({ ...p, [item._id]: undefined }));\r\n//         alert(\"Profit/Loss updated\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Update failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n\r\n\r\n  \r\n//   const filteredItems = items.filter((item) => {\r\n//     const t = search.toLowerCase();\r\n//     const matchText =\r\n//       (item.name || \"\").toLowerCase().includes(t) ||\r\n//       (item.category?.name || \"\").toLowerCase().includes(t) ||\r\n//       (item.subcategory?.name || \"\").toLowerCase().includes(t);\r\n\r\n//     const matchCategory = !filterCategory || item.category?._id === filterCategory;\r\n//     const matchSub = !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n\r\n//     return matchText && matchCategory && matchSub;\r\n//   });\r\n\r\n//   const indexOfLast = currentPage * itemsPerPage;\r\n//   const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n//   const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\r\n\r\n//   return (\r\n//     <div className=\"container\" style={styles.container}>\r\n//       <div style={styles.header}>\r\n//         <h1 style={styles.title}>Product Management</h1>\r\n//       </div>\r\n\r\n//       <div style={{ marginBottom: 12, display: \"flex\", gap: 12, flexWrap: \"wrap\" }}>\r\n//         <input\r\n//           type=\"text\"\r\n//           placeholder=\"Search product, category or subcategory...\"\r\n//           value={search}\r\n//           onChange={(e) => {\r\n//             setSearch(e.target.value);\r\n//             setCurrentPage(1);\r\n//           }}\r\n//           style={styles.searchInput}\r\n//         />\r\n\r\n//         <button\r\n//           style={styles.addButton}\r\n//           onClick={() => {\r\n//             setShowForm(!showForm);\r\n//             setEditId(null);\r\n//           }}\r\n//         >\r\n//           {showForm ? \"‚úñ Close\" : \"‚ûï Add Product\"}\r\n//         </button>\r\n//       </div>\r\n// <button\r\n//   style={styles.addButton}\r\n//   onClick={() => window.open(`${API_URL}/export`, \"_blank\")}\r\n// >\r\n//   ‚¨á Export CSV\r\n// </button>\r\n\r\n// <label style={{ cursor: \"pointer\" }}>\r\n//   <input\r\n//     type=\"file\"\r\n//     accept=\".csv\"\r\n//     style={{ display: \"none\" }}\r\n//     onChange={async (e) => {\r\n//       try {\r\n//         const fd = new FormData();\r\n//         fd.append(\"file\", e.target.files[0]);\r\n//         await axios.post(`${API_URL}/import`, fd);\r\n//         alert(\"Imported successfully\");\r\n//         fetchItems();\r\n//       } catch (err) {\r\n//         alert(\"Import failed\");\r\n//       }\r\n//     }}\r\n//   />\r\n//   <span style={styles.addButton}>üì§ Import CSV</span>\r\n// </label>\r\n\r\n//       <div style={{ display: \"flex\", gap: 10, marginBottom: 12, flexWrap: \"wrap\" }}>\r\n//         <select\r\n//           value={filterCategory}\r\n//           onChange={(e) => setFilterCategory(e.target.value)}\r\n//           style={styles.select}\r\n//         >\r\n//           <option value=\"\">Filter by Category</option>\r\n//           {categories.map((c) => (\r\n//             <option key={c._id} value={c._id}>\r\n//               {c.name}\r\n//             </option>\r\n//           ))}\r\n//         </select>\r\n\r\n//         <select\r\n//           value={filterSubcategory}\r\n//           onChange={(e) => setFilterSubcategory(e.target.value)}\r\n//           disabled={!filterSubs.length}\r\n//           style={styles.select}\r\n//         >\r\n//           <option value=\"\">Filter by Subcategory</option>\r\n//           {filterSubs.map((s) => (\r\n//             <option key={s._id} value={s._id}>\r\n//               {s.name}\r\n//             </option>\r\n//           ))}\r\n//         </select>\r\n//       </div>\r\n\r\n//       {selectedItems.length > 0 && (\r\n//         <div style={styles.bulkBar}>\r\n//           {!bulkMode ? (\r\n//             <div style={{ display: \"flex\", gap: 8 }}>\r\n//               <button style={styles.btnDelete} onClick={handleBulkDelete}>\r\n//                 üóë Bulk Delete\r\n//               </button>\r\n//               <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\r\n//                 ‚úè Bulk Edit\r\n//               </button>\r\n//             </div>\r\n//           ) : (\r\n//             <div style={styles.bulkPanel}>\r\n//               <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\r\n\r\n//               {items\r\n//                 .filter((item) => selectedItems.includes(item._id))\r\n//                 .map((item) => (\r\n//                   <div key={item._id} style={styles.bulkItemBox}>\r\n//                     <h4 style={styles.bulkItemTitle}>{item.name}</h4>\r\n\r\n//                     <div style={styles.formGrid}>\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Base Price</label>\r\n//                         <input\r\n//                           type=\"number\"\r\n//                           value={item.basePrice}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))}\r\n//                           style={styles.input}\r\n//                         />\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Profit/Loss</label>\r\n//                         <input\r\n//                           type=\"number\"\r\n//                           value={item.profitLoss}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"profitLoss\", Number(e.target.value))}\r\n//                           style={styles.input}\r\n//                         />\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Status</label>\r\n//                         <select\r\n//                           value={item.status}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"status\", e.target.value)}\r\n//                           style={styles.select}\r\n//                         >\r\n//                           <option value=\"active\">active</option>\r\n//                           <option value=\"inactive\">inactive</option>\r\n//                         </select>\r\n//                       </div>\r\n//                     </div>\r\n//                   </div>\r\n//                 ))}\r\n\r\n//               {/* <div style={{ display: \"flex\", gap: 10, marginTop: 12 }}>\r\n//                 <button style={styles.btnPrimary} onClick={handleBulkSave}>\r\n//                   ‚úî Save All\r\n//                 </button>\r\n//                 <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\r\n//                   ‚úñ Cancel\r\n//                 </button>\r\n//               </div> */}\r\n//               <div style={{ display: \"flex\", gap: 10, marginTop: 12, flexWrap: 'wrap' }}>\r\n\r\n//   <button style={styles.btnPrimary} onClick={handleBulkSave}>\r\n//     ‚úî Save All\r\n//   </button>\r\n\r\n//   <button\r\n//     style={styles.btnPrimary}\r\n//     onClick={async () => {\r\n//       if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n//       for (let id of selectedItems) await axios.post(`${API_URL}/copy/${id}`);\r\n\r\n//       alert(\"Selected copied\");\r\n//       fetchItems();\r\n//     }}\r\n//   >\r\n//     üìÑ Copy Selected\r\n//   </button>\r\n\r\n//   <button\r\n//     style={styles.btnPrimary}\r\n//     onClick={async () => {\r\n//       if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n//       const res = await axios.post(\r\n//         `${API_URL}/export-selected`,\r\n//         { ids: selectedItems },\r\n//         { responseType: \"blob\" }\r\n//       );\r\n\r\n//       const url = window.URL.createObjectURL(new Blob([res.data]));\r\n//       const a = document.createElement(\"a\");\r\n//       a.href = url;\r\n//       a.download = \"selected.csv\";\r\n//       a.click();\r\n//     }}\r\n//   >\r\n//     ‚¨á Export Selected\r\n//   </button>\r\n\r\n//   <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\r\n//     ‚úñ Cancel\r\n//   </button>\r\n// </div>\r\n\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       )}\r\n\r\n//       {showForm && (\r\n//         <div style={styles.formCard}>\r\n//           <h2 style={styles.formTitle}>‚ûï Add / Edit Product</h2>\r\n\r\n//           <form onSubmit={handleSubmit}>\r\n//             <div style={styles.formGrid}>\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Product Name *</label>\r\n//                 <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Category *</label>\r\n//                 <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n//                   <option value=\"\">Select Category</option>\r\n//                   {categories.map((c) => (\r\n//                     <option value={c._id} key={c._id}>\r\n//                       {c.name}\r\n//                     </option>\r\n//                   ))}\r\n//                 </select>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Subcategory</label>\r\n//                 <select\r\n//                   name=\"subcategory\"\r\n//                   value={form.subcategory}\r\n//                   onChange={handleChange}\r\n//                   disabled={!subcategories.length}\r\n//                   style={styles.select}\r\n//                 >\r\n//                   <option value=\"\">Select Subcategory</option>\r\n//                   {subcategories.map((s) => (\r\n//                     // <option value={s._id} key={s._id}>\r\n//                     //   {s.name}\r\n//                     // </option>\r\n//                     <option value={s._id}>{s.name}</option>\r\n\r\n//                   ))}\r\n//                 </select>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Base Price *</label>\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   required\r\n//                   name=\"basePrice\"\r\n//                   value={form.basePrice}\r\n//                   onChange={handleChange}\r\n//                   style={styles.input}\r\n//                 />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Profit/Loss</label>\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   name=\"profitLoss\"\r\n//                   value={form.profitLoss}\r\n//                   onChange={handleChange}\r\n//                   style={styles.input}\r\n//                 />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Valid Till</label>\r\n//                 <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Image</label>\r\n//                 <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Status</label>\r\n//                 <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n//                   <option value=\"active\">Active</option>\r\n//                   <option value=\"inactive\">Inactive</option>\r\n//                 </select>\r\n//               </div>\r\n//             </div>\r\n\r\n//             <div style={styles.formGroup}>\r\n//               <label style={styles.label}>Description</label>\r\n//               <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n//             </div>\r\n\r\n//             <div style={styles.formActions}>\r\n//               <button style={styles.btnPrimary} disabled={loading}>\r\n//                 {loading ? \"Saving...\" : editId ? \"Update Product\" : \"Add Product\"}\r\n//               </button>\r\n\r\n//               <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n//                 Cancel\r\n//               </button>\r\n//             </div>\r\n//           </form>\r\n//         </div>\r\n//       )}\r\n  \r\n//       <div style={styles.tableCard}>\r\n//         <div style={styles.tableHeader}>\r\n//           <h2 style={styles.tableTitle}>Items</h2>\r\n//           <span style={styles.totalCount}>Total: {filteredItems.length}</span>\r\n//         </div>\r\n\r\n//         <div style={styles.tableWrapper}>\r\n//           <table style={styles.table}>\r\n//             <thead>\r\n//               <tr>\r\n//                 <th style={styles.th}>\r\n//                   <input\r\n//                     type=\"checkbox\"\r\n//                     checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\r\n//                     onChange={() => {\r\n//                       if (selectedItems.length === filteredItems.length) setSelectedItems([]);\r\n//                       else setSelectedItems(filteredItems.map((x) => x._id));\r\n//                     }}\r\n//                   />\r\n//                 </th>\r\n//                 <th style={styles.th}>Sr</th>\r\n//                 <th style={styles.th}>Image</th>\r\n//                 <th style={styles.th}>Name</th>\r\n//                 <th style={styles.th}>Category</th>\r\n//                 <th style={styles.th}>Subcategory</th>\r\n//                 <th style={styles.th}>Base Price</th>\r\n//                 <th style={styles.th}>Profit/Loss</th>\r\n//                 <th style={styles.th}>Sale Price</th>\r\n//                 <th style={styles.th}>Price Lock</th>\r\n//                 <th style={styles.th}>Teji/Maddi</th>\r\n//                 <th style={styles.th}>Status</th>\r\n//                 <th style={styles.th}>Actions</th>\r\n//               </tr>\r\n//             </thead>\r\n\r\n//             <tbody>\r\n//               {currentItems.map((item, i) => (\r\n//                 <tr key={item._id} style={styles.tr}>\r\n//                   <td style={styles.td}>\r\n//                     <input\r\n//                       type=\"checkbox\"\r\n//                       checked={selectedItems.includes(item._id)}\r\n//                       onChange={() =>\r\n//                         setSelectedItems((prev) =>\r\n//                           prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]\r\n//                         )\r\n//                       }\r\n//                     />\r\n//                   </td>\r\n\r\n//                   <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n\r\n//                   <td style={styles.td}>\r\n//                     {item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}\r\n//                   </td>\r\n\r\n//                   <td style={styles.td}>{item.name}</td>\r\n//                   <td style={styles.td}>{item.category?.name || \"-\"}</td>\r\n//                   {/* <td style={styles.td}>{item.subcategory?.name || \"-\"}</td> */}\r\n//                   <td>{item.subcategory?.name || \"-\"}</td>\r\n\r\n\r\n//                   {/* BASE PRICE - Editable */}\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n//                       <input\r\n//                         type=\"number\"\r\n//                         value={quickBasePrices[item._id] !== undefined ? quickBasePrices[item._id] : item.basePrice}\r\n//                         onChange={(e) => setQuickBasePrices((p) => ({ ...p, [item._id]: e.target.value }))}\r\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n//                       />\r\n//                       <button style={styles.btnSmall} onClick={() => updateBasePrice(item)}>\r\n//                         ‚úî\r\n//                       </button>\r\n//                     </div>\r\n//                     <small style={{ color: \"#28a745\", display: \"block\", marginTop: 4 }}>Saved: ‚Çπ{item.basePrice}</small>\r\n//                   </td>\r\n\r\n//                   {/* PROFIT/LOSS - Editable */}\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n//                       <input\r\n//                         type=\"number\"\r\n//                         placeholder=\"change\"\r\n//                         value={quickProfitLoss[item._id] ?? \"\"}\r\n//                         onChange={(e) => setQuickProfitLoss((p) => ({ ...p, [item._id]: e.target.value }))}\r\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n//                       />\r\n//                       <button style={styles.btnSmall} onClick={() => updateProfitLoss(item)}>\r\n//                         ‚úî\r\n//                       </button>\r\n//                     </div>\r\n//                     <small style={{ color: \"#666\", display: \"block\", marginTop: 4 }}>Current: {item.profitLoss}</small>\r\n//                   </td>\r\n\r\n//                   {/* SALE PRICE */}\r\n//                   <td style={styles.td}>‚Çπ{item.salePrice}</td>\r\n \r\n//                   {/* PRICE LOCK */}\r\n//                   <td style={styles.td}>‚Çπ{item.lockedPrice}</td>\r\n\r\n//                   {/* TEJI/MADDI */}\r\n//                   {/* <td style={styles.td}>\r\n//   {(() => {\r\n//     const teji = item.salePrice - item.lockedPrice;\r\n//     return (\r\n//       <span\r\n//         style={{\r\n//           color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\r\n//           fontWeight: \"600\",\r\n//         }}\r\n//       >\r\n//         {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\r\n//       </span>\r\n//     );\r\n//   })()}\r\n// </td> */}\r\n// <td style={styles.td}>\r\n//   {item.lockedPrice === 0 ? (\r\n//     <span style={{ color: \"#6c757d\", fontWeight: \"600\" }}>0</span>\r\n//   ) : (\r\n//     (() => {\r\n//       const teji = item.salePrice - item.lockedPrice;\r\n//       return (\r\n//         <span\r\n//           style={{\r\n//             color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\r\n//             fontWeight: \"600\",\r\n//           }}\r\n//         >\r\n//           {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\r\n//         </span>\r\n//       );\r\n//     })()\r\n//   )}\r\n// </td>\r\n\r\n\r\n//                   {/* STATUS */}\r\n//                   <td style={styles.td}>\r\n//                     <button\r\n//                       style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\r\n//                       onClick={() => handleStatusToggle(item)}\r\n//                     >\r\n//                       {item.status === \"active\" ? \"Active\" : \"Inactive\"}\r\n//                     </button>\r\n//                   </td>\r\n\r\n//                   {/* ACTIONS */}\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ position: \"relative\" }}>\r\n//                       <button\r\n//                         style={styles.menuButton}\r\n//                         onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\r\n//                       >\r\n//                         ‚ãÆ\r\n//                       </button>\r\n\r\n//                       {activeMenu === item._id && (\r\n//                         <div style={styles.dropdown}>\r\n//                           {/* <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\r\n//                             ‚úè Edit\r\n//                           </button>\r\n//                           <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\r\n//                             üóë Delete\r\n//                           </button> */}\r\n//                           <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\r\n//   ‚úè Edit\r\n// </button>\r\n\r\n// <button\r\n//   style={styles.dropdownItem}\r\n//   onClick={async () => {\r\n//     await axios.post(`${API_URL}/copy/${item._id}`);\r\n//     alert(\"Copied successfully\");\r\n//     fetchItems();\r\n//   }}\r\n// >\r\n//   üìÑ Copy\r\n// </button>\r\n\r\n// <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\r\n//   üóë Delete\r\n// </button>\r\n\r\n//                         </div>\r\n//                       )}\r\n//                     </div>\r\n//                   </td>\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//         </div>\r\n\r\n//         <div style={styles.pagination}>\r\n//           <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\r\n//             Previous\r\n//           </button>\r\n\r\n//           {Array.from({ length: totalPages }, (_, i) => (\r\n//             <button\r\n//               key={i}\r\n//               style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\r\n//               onClick={() => setCurrentPage(i + 1)}\r\n//             >\r\n//               {i + 1}\r\n//             </button>\r\n//           ))}\r\n\r\n//           <button\r\n//             style={styles.paginationBtn}\r\n//             disabled={currentPage === totalPages}\r\n//             onClick={() => setCurrentPage((p) => p + 1)}\r\n//           >\r\n//             Next\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {showModal && (\r\n//         <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\r\n//           <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n//             <h2 style={styles.modalTitle}>‚úè Edit Product</h2>\r\n\r\n//             <form onSubmit={handleSubmit}>\r\n//               <div style={styles.formGrid}>\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Product Name *</label>\r\n//                   <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Category *</label>\r\n//                   <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n//                     <option value=\"\">Select Category</option>\r\n//                     {categories.map((c) => (\r\n//                       <option value={c._id} key={c._id}>\r\n//                         {c.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Subcategory</label>\r\n//                   <select\r\n//                     name=\"subcategory\"\r\n//                     value={form.subcategory}\r\n//                     onChange={handleChange}\r\n//                     disabled={!subcategories.length}\r\n//                     style={styles.select}\r\n//                   >\r\n//                     <option value=\"\">Select Subcategory</option>\r\n//                     {subcategories.map((s) => (\r\n//                       <option value={s._id} key={s._id}>\r\n//                         {s.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Base Price *</label>\r\n//                   <input\r\n//                     type=\"number\"\r\n//                     required\r\n//                     name=\"basePrice\"\r\n//                     value={form.basePrice}\r\n//                     onChange={handleChange}\r\n//                     style={styles.input}\r\n//                   />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Profit/Loss</label>\r\n//                   <input\r\n//                     type=\"number\"\r\n//                     name=\"profitLoss\"\r\n//                     value={form.profitLoss}\r\n//                     onChange={handleChange}\r\n//                     style={styles.input}\r\n//                   />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Valid Till</label>\r\n//                   <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Image</label>\r\n//                   <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Status</label>\r\n//                   <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n//                     <option value=\"active\">Active</option>\r\n//                     <option value=\"inactive\">Inactive</option>\r\n//                   </select>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Description</label>\r\n//                 <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n//               </div>\r\n\r\n//               <div style={styles.formActions}>\r\n//                 <button style={styles.btnPrimary} disabled={loading}>\r\n//                   {loading ? \"Saving...\" : \"Update\"}\r\n//                 </button>\r\n\r\n//                 <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n//                   Cancel\r\n//                 </button>\r\n//               </div>\r\n//             </form>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// const styles = {\r\n//   container: { padding: 16, fontFamily: \"Arial, sans-serif\" },\r\n//   header: { marginBottom: 8 },\r\n//   title: {\r\n//     fontSize: \"24px\",\r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//     marginBottom: \"8px\",\r\n//   },\r\n//   searchInput: {\r\n//     flex: \"1\",\r\n//     minWidth: \"250px\",\r\n//     padding: \"10px 12px\",\r\n//     borderRadius: \"10px\",\r\n//     border: \"1px solid #ced4da\",\r\n//     background: \"#f9fbfc\",\r\n//     fontSize: \"14px\",\r\n//     outline: \"none\",\r\n//   },\r\n//   addButton: {\r\n//     background: \"#007bff\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"10px 16px\",\r\n//     fontSize: \"14px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   select: {\r\n//     padding: \"8px 12px\",\r\n//     borderRadius: \"8px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     fontSize: \"13px\",\r\n//     minWidth: \"150px\",\r\n//   },\r\n//   bulkBar: {\r\n//     background: \"#e9f2ff\",\r\n//     border: \"1px solid #c4d9ff\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"12px\",\r\n//     marginBottom: \"12px\",\r\n//   },\r\n//   bulkPanel: {\r\n//     width: \"100%\",\r\n//     background: \"#f7faff\",\r\n//     border: \"1px solid #cfe2ff\",\r\n//     padding: \"12px\",\r\n//     borderRadius: \"10px\",\r\n//   },\r\n//   bulkPanelTitle: {\r\n//     textAlign: \"center\",\r\n//     fontSize: \"16px\",\r\n//     fontWeight: \"700\",\r\n//     marginBottom: \"10px\",\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   bulkItemBox: {\r\n//     background: \"#fff\",\r\n//     border: \"1px solid #dbe5f5\",\r\n//     padding: \"12px\",\r\n//     borderRadius: \"8px\",\r\n//     marginBottom: \"10px\",\r\n//   },\r\n//   bulkItemTitle: {\r\n//     fontSize: \"14px\",\r\n//     fontWeight: \"600\",\r\n//     marginBottom: \"8px\",\r\n//     color: \"#233142\",\r\n//   },\r\n//   formCard: {\r\n//     borderRadius: \"12px\",\r\n//     padding: \"20px\",\r\n//     marginBottom: \"18px\",\r\n//     background: \"#ffffff\",\r\n//     border: \"1px solid #eef2f7\",\r\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\r\n//   },\r\n//   formTitle: { \r\n//     fontSize: \"18px\", \r\n//     fontWeight: \"700\", \r\n//     marginBottom: 16,\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   formGrid: {\r\n//     display: \"grid\",\r\n//     gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\r\n//     gap: \"12px\",\r\n//   },\r\n//   formGroup: { \r\n//     display: \"flex\", \r\n//     flexDirection: \"column\", \r\n//     gap: \"6px\" \r\n//   },\r\n//   label: { \r\n//     fontWeight: \"600\", \r\n//     fontSize: \"13px\", \r\n//     color: \"#233142\" \r\n//   },\r\n//   input: {\r\n//     padding: \"10px\",\r\n//     borderRadius: \"8px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     fontSize: \"13px\",\r\n//     outline: \"none\",\r\n//   },\r\n//   textarea: {\r\n//     padding: \"10px\",\r\n//     borderRadius: \"8px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     minHeight: 80,\r\n//     fontSize: \"13px\",\r\n//     outline: \"none\",\r\n//     resize: \"vertical\",\r\n//   },\r\n//   fileInput: { \r\n//     padding: \"6px\",\r\n//     fontSize: \"13px\",\r\n//   },\r\n//   formActions: { \r\n//     marginTop: 16, \r\n//     display: \"flex\", \r\n//     gap: 10 \r\n//   },\r\n//   btnPrimary: {\r\n//     background: \"#007bff\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"8px\",\r\n//     padding: \"10px 20px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   btnSmall: {\r\n//     background: \"#28a745\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"6px\",\r\n//     padding: \"6px 12px\",\r\n//     cursor: \"pointer\",\r\n//     fontSize: \"12px\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   btnDelete: {\r\n//     background: \"#dc3545\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"8px\",\r\n//     padding: \"8px 14px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   btnCancel: {\r\n//     background: \"#6c757d\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"8px\",\r\n//     padding: \"10px 20px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   tableCard: { \r\n//     marginTop: 16,\r\n//     background: \"#fff\",\r\n//     borderRadius: \"12px\",\r\n//     padding: \"16px\",\r\n//     border: \"1px solid #eef2f7\",\r\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\r\n//   },\r\n//   tableHeader: { \r\n//     display: \"flex\", \r\n//     justifyContent: \"space-between\", \r\n//     marginBottom: 12,\r\n//     alignItems: \"center\",\r\n//   },\r\n//   tableTitle: { \r\n//     fontSize: \"18px\", \r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   totalCount: { \r\n//     fontSize: \"14px\", \r\n//     color: \"#6c757d\", \r\n//     fontWeight: \"600\" \r\n//   },\r\n//   tableWrapper: { \r\n//     overflowX: \"auto\",\r\n//     border: \"1px solid #e9ecef\",\r\n//     borderRadius: \"8px\",\r\n//   },\r\n//   table: { \r\n//     width: \"100%\", \r\n//     borderCollapse: \"collapse\", \r\n//     fontSize: \"13px\" \r\n//   },\r\n//   th: { \r\n//     background: \"#f8f9fa\", \r\n//     padding: \"12px 10px\", \r\n//     fontWeight: \"700\", \r\n//     color: \"#0d3b66\", \r\n//     textAlign: \"left\",\r\n//     borderBottom: \"2px solid #dee2e6\",\r\n//     whiteSpace: \"nowrap\",\r\n//   },\r\n//   tr: { \r\n//     borderBottom: \"1px solid #edf2f7\",\r\n//     transition: \"background 0.2s\",\r\n//   },\r\n//   td: { \r\n//     padding: \"12px 10px\", \r\n//     whiteSpace: \"nowrap\", \r\n//     verticalAlign: \"middle\" \r\n//   },\r\n//   tableImg: { \r\n//     width: \"50px\", \r\n//     height: \"50px\", \r\n//     borderRadius: \"6px\", \r\n//     objectFit: \"cover\" \r\n//   },\r\n//   statusActive: { \r\n//     background: \"#d4edda\", \r\n//     padding: \"6px 12px\", \r\n//     borderRadius: \"6px\", \r\n//     color: \"#155724\", \r\n//     fontWeight: \"600\", \r\n//     border: \"1px solid #c3e6cb\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"12px\",\r\n//   },\r\n//   statusInactive: { \r\n//     background: \"#f8d7da\", \r\n//     padding: \"6px 12px\", \r\n//     borderRadius: \"6px\", \r\n//     color: \"#721c24\", \r\n//     fontWeight: \"600\", \r\n//     border: \"1px solid #f5c6cb\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"12px\",\r\n//   },\r\n//   menuButton: { \r\n//     background: \"#f0f0f0\", \r\n//     border: \"1px solid #ddd\", \r\n//     borderRadius: \"6px\", \r\n//     padding: \"6px 10px\", \r\n//     fontSize: \"16px\", \r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"700\",\r\n//   },\r\n//   dropdown: { \r\n//     position: \"absolute\", \r\n//     right: 0, \r\n//     top: 36, \r\n//     background: \"#fff\", \r\n//     border: \"1px solid #ddd\", \r\n//     borderRadius: 8, \r\n//     zIndex: 100, \r\n//     minWidth: 140,\r\n//     boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\r\n//   },\r\n//   dropdownItem: { \r\n//     display: \"block\", \r\n//     width: \"100%\", \r\n//     padding: \"10px 14px\", \r\n//     background: \"transparent\", \r\n//     border: \"none\", \r\n//     textAlign: \"left\", \r\n//     cursor: \"pointer\", \r\n//     fontSize: 13, \r\n//     fontWeight: 500,\r\n//     transition: \"background 0.2s\",\r\n//   },\r\n//   dropdownItemDelete: { \r\n//     display: \"block\", \r\n//     width: \"100%\", \r\n//     padding: \"10px 14px\", \r\n//     background: \"transparent\", \r\n//     border: \"none\", \r\n//     textAlign: \"left\", \r\n//     cursor: \"pointer\", \r\n//     fontSize: 13, \r\n//     fontWeight: 500, \r\n//     color: \"#dc3545\",\r\n//     transition: \"background 0.2s\",\r\n//   },\r\n//   pagination: { \r\n//     marginTop: 16, \r\n//     display: \"flex\", \r\n//     justifyContent: \"center\", \r\n//     gap: 8,\r\n//     flexWrap: \"wrap\",\r\n//   },\r\n//   paginationBtn: { \r\n//     padding: \"8px 12px\", \r\n//     borderRadius: 6, \r\n//     background: \"#fff\", \r\n//     border: \"1px solid #dee2e6\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"13px\",\r\n//     fontWeight: \"500\",\r\n//   },\r\n//   paginationBtnActive: { \r\n//     padding: \"8px 12px\", \r\n//     borderRadius: 6, \r\n//     background: \"#007bff\", \r\n//     color: \"white\", \r\n//     border: \"1px solid #007bff\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"13px\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   modalOverlay: { \r\n//     position: \"fixed\", \r\n//     top: 0, \r\n//     left: 0, \r\n//     right: 0, \r\n//     bottom: 0, \r\n//     background: \"rgba(0,0,0,0.5)\", \r\n//     display: \"flex\", \r\n//     justifyContent: \"center\", \r\n//     alignItems: \"center\", \r\n//     zIndex: 1000, \r\n//     padding: 20 \r\n//   },\r\n//   modal: { \r\n//     background: \"#fff\", \r\n//     borderRadius: 12, \r\n//     padding: 24, \r\n//     maxWidth: 700, \r\n//     width: \"100%\", \r\n//     maxHeight: \"90vh\", \r\n//     overflowY: \"auto\",\r\n//     boxShadow: \"0 8px 32px rgba(0,0,0,0.2)\",\r\n//   },\r\n//   modalTitle: { \r\n//     fontSize: 20, \r\n//     fontWeight: \"700\", \r\n//     color: \"#0d3b66\", \r\n//     marginBottom: 16, \r\n//     textAlign: \"center\" \r\n//   },\r\n// }\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PriceList.css\"\r\nconst API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\r\nconst CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\r\n\r\nexport default function PriceList() {\r\n  const [items, setItems] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [subcategories, setSubcategories] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    category: \"\",\r\n    subcategory: \"\",\r\n    description: \"\",\r\n    basePrice: \"\",\r\n    profitLoss: \"\",\r\n    validTill: \"\",\r\n    file: null,\r\n    status: \"inactive\",\r\n  });\r\n\r\n  const [editId, setEditId] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [activeMenu, setActiveMenu] = useState(null);\r\n\r\n  const [selectedItems, setSelectedItems] = useState([]);\r\n  const [bulkMode, setBulkMode] = useState(false);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 30;\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"\");\r\n  const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n  const [filterSubs, setFilterSubs] = useState([]);\r\n\r\n  // Quick edit states for inline editing\r\n  const [quickBasePrices, setQuickBasePrices] = useState({});\r\n  const [quickProfitLoss, setQuickProfitLoss] = useState({});\r\n\r\n  // NEW: sort state\r\n  const [sortOrder, setSortOrder] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (categories.length > 0) fetchItems();\r\n  }, [categories]);\r\n\r\n  useEffect(() => {\r\n    if (!filterCategory) {\r\n      setFilterSubs([]);\r\n      setFilterSubcategory(\"\");\r\n      return;\r\n    }\r\n    const cat = categories.find((c) => c._id === filterCategory);\r\n    setFilterSubs(cat?.subcategories || []);\r\n    setFilterSubcategory(\"\");\r\n  }, [filterCategory, categories]);\r\n\r\n  useEffect(() => {\r\n    if (!form.category) {\r\n      setSubcategories([]);\r\n      setForm((prev) => ({ ...prev, subcategory: \"\" }));\r\n      return;\r\n    }\r\n    const cat = categories.find((c) => c._id === form.category);\r\n    setSubcategories(cat?.subcategories || []);\r\n  }, [form.category, categories]);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const res = await axios.get(CATEGORY_URL);\r\n      if (res.data?.success) setCategories(res.data.categories || []);\r\n    } catch (err) {\r\n      console.error(\"Fetch categories error\", err);\r\n      alert(\"Could not fetch categories\");\r\n    }\r\n  };\r\n\r\n  const fetchItems = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(API_URL);\r\n      if (res.data?.success) {\r\n        const raw = res.data.data || [];\r\n\r\n        const enriched = raw.map((item) => {\r\n          // normalize category/subcategory\r\n          const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\r\n          let subObj = null;\r\n\r\n          if (catObj?.subcategories && item.subcategory) {\r\n            // item.subcategory may be an object with id or an id string\r\n            const subId = item.subcategory?.id || item.subcategory?._id || item.subcategory;\r\n            subObj = catObj.subcategories.find((s) => s._id === subId) || null;\r\n          }\r\n\r\n          return {\r\n            ...item,\r\n            // ensure numeric fields aren't undefined\r\n            basePrice: Number(item.basePrice || 0),\r\n            profitLoss: Number(item.profitLoss || 0),\r\n            salePrice: Number(item.salePrice || 0),\r\n            lockedPrice: Number(item.lockedPrice || 0),\r\n            yesterdayLock: Number(item.yesterdayLock || 0),\r\n            brokerDisplay: Number(item.brokerDisplay || 0),\r\n            category: catObj ? { _id: catObj._id, name: catObj.name } : (item.category || null),\r\n            subcategory: subObj\r\n              ? { _id: subObj._id, name: subObj.name }\r\n              : item.subcategory?.id\r\n              ? { _id: item.subcategory.id, name: item.subcategory.name }\r\n              : item.subcategory || null,\r\n          };\r\n        });\r\n\r\n        // setItems(enriched);\r\n        setItems(\r\n  enriched.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\r\n);\r\n\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Fetch items error\", err);\r\n      alert(\"Could not fetch items\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    if (files?.length) {\r\n      setForm((p) => ({ ...p, file: files[0] }));\r\n    } else {\r\n      setForm((p) => ({ ...p, [name]: value }));\r\n    }\r\n  };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     setLoading(true);\r\n\r\n//     try {\r\n//       // üõë Duplicate product name check\r\n// const nameExists = items.some(\r\n//   (p) =>\r\n//     p.name.trim().toLowerCase() === form.name.trim().toLowerCase() &&\r\n//     p._id !== editId\r\n// );\r\n\r\n// if (nameExists) {\r\n//   alert(\"‚ùå Product name already exists!\");\r\n//   setLoading(false);\r\n//   return;\r\n// }\r\nconst handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  setLoading(true);\r\n\r\n  // üõë Duplicate product name check (PASTE HERE)\r\n  const nameExists = items.some(\r\n    (p) =>\r\n      p.name.trim().toLowerCase() === form.name.trim().toLowerCase() &&\r\n      p._id !== editId\r\n  );\r\n\r\n  if (nameExists) {\r\n    alert(\"‚ùå Product name already exists!\");\r\n    setLoading(false);\r\n    return;\r\n  }\r\n\r\n  try {\r\n      \r\n\r\n      if (!form.name || !form.category || !form.basePrice) {\r\n        alert(\"Name, category & base price are required\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const fd = new FormData();\r\n      fd.append(\"name\", form.name.trim());\r\n      fd.append(\"category\", form.category);\r\n\r\n      // if (form.subcategory) {\r\n      //   const sub = subcategories.find((s) => s._id === form.subcategory);\r\n      //   if (sub) {\r\n      //     fd.append(\"subcategory[id]\", sub._id);\r\n      //     fd.append(\"subcategory[name]\", sub.name);\r\n      //     fd.append(\"subcategory[image]\", sub.image || \"\");\r\n      //   }\r\n      // }\r\nif (form.subcategory) {\r\n  const sub = subcategories.find((s) => s._id === form.subcategory);\r\n  if (sub) {\r\n    fd.append(\r\n      \"subcategory\",\r\n      JSON.stringify({\r\n        id: sub._id,\r\n        name: sub.name,\r\n        image: sub.image || \"\"\r\n      })\r\n    );\r\n  }\r\n} else {\r\n  fd.append(\"subcategory\", JSON.stringify(null));\r\n}\r\n\r\n      fd.append(\"basePrice\", form.basePrice);\r\n      fd.append(\"profitLoss\", form.profitLoss || 0);\r\n      if (form.description) fd.append(\"description\", form.description);\r\n      if (form.validTill) fd.append(\"validTill\", form.validTill);\r\n      fd.append(\"status\", form.status);\r\n      if (form.file) fd.append(\"file\", form.file);\r\n\r\n      if (editId) {\r\n        await axios.put(`${API_URL}/${editId}`, fd);\r\n        alert(\"Updated successfully\");\r\n      } else {\r\n        await axios.post(API_URL, fd);\r\n        alert(\"Added successfully\");\r\n      }\r\n\r\n      await fetchItems();\r\n      resetForm();\r\n    } catch (err) {\r\n      console.error(\"Save error\", err);\r\n      if (err.response?.data?.message === \"Product name already exists\") {\r\n        alert(\"‚ùå Product name already exists!\");\r\n      } else {\r\n        alert(\"Save failed!\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setForm({\r\n      name: \"\",\r\n      category: \"\",\r\n      subcategory: \"\",\r\n      description: \"\",\r\n      basePrice: \"\",\r\n      profitLoss: \"\",\r\n      validTill: \"\",\r\n      file: null,\r\n      status: \"inactive\",\r\n    });\r\n    setEditId(null);\r\n    setShowModal(false);\r\n    setShowForm(false);\r\n  };\r\n\r\n  const handleEdit = (item) => {\r\n    setForm({\r\n      name: item.name || \"\",\r\n      category: item.category?._id?.toString() || \"\",\r\n      subcategory: item.subcategory?._id || \"\",\r\n      description: item.description || \"\",\r\n      basePrice: item.basePrice || \"\",\r\n      profitLoss: item.profitLoss || 0,\r\n      validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\r\n      file: null,\r\n      status: item.status || \"inactive\",\r\n    });\r\n\r\n    const cat = categories.find((c) => c._id === item.category?._id);\r\n    setSubcategories(cat?.subcategories || []);\r\n\r\n    setEditId(item._id);\r\n    setShowModal(true);\r\n    setActiveMenu(null);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Delete this item?\")) return;\r\n    try {\r\n      await axios.delete(`${API_URL}/${id}`);\r\n      setItems((prev) => prev.filter((x) => x._id !== id));\r\n      setSelectedItems((prev) => prev.filter((x) => x !== id));\r\n      setActiveMenu(null);\r\n    } catch (err) {\r\n      console.error(\"Delete error\", err);\r\n      alert(\"Delete failed\");\r\n    }\r\n  };\r\n\r\n  const handleStatusToggle = async (item) => {\r\n    try {\r\n      const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\r\n      await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\r\n      setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\r\n    } catch (err) {\r\n      console.error(\"Status toggle error\", err);\r\n      alert(\"Status update failed\");\r\n    }\r\n  };\r\n\r\n  const updateLocalItemField = (id, key, value) => {\r\n    setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\r\n  };\r\n\r\n  const handleBulkSave = async () => {\r\n    if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n    const updates = items\r\n      .filter((x) => selectedItems.includes(x._id))\r\n      .map((x) => ({\r\n        id: x._id,\r\n        basePrice: Number(x.basePrice),\r\n        profitLoss: Number(x.profitLoss),\r\n        status: x.status,\r\n      }));\r\n\r\n    try {\r\n      await axios.post(`${API_URL}/bulk-update`, { products: updates });\r\n      alert(\"Bulk save successful\");\r\n      setBulkMode(false);\r\n      setSelectedItems([]);\r\n      fetchItems();\r\n    } catch (err) {\r\n      console.error(\"Bulk save error\", err);\r\n      alert(\"Bulk save failed\");\r\n    }\r\n  };\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (!selectedItems.length) return alert(\"No items selected\");\r\n    if (!window.confirm(\"Delete selected items?\")) return;\r\n\r\n    try {\r\n      await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\r\n      setSelectedItems([]);\r\n      fetchItems();\r\n      setBulkMode(false);\r\n    } catch (err) {\r\n      console.error(\"Bulk delete error\", err);\r\n      alert(\"Bulk delete failed\");\r\n    }\r\n  };\r\n\r\n  // Update Base Price inline\r\n  const updateBasePrice = async (item) => {\r\n    const newBase = Number(quickBasePrices[item._id] ?? item.basePrice);\r\n    if (isNaN(newBase)) return alert(\"Invalid Base Price\");\r\n\r\n    try {\r\n      setLoading(true);\r\n      const fd = new FormData();\r\n      fd.append(\"name\", item.name);\r\n      fd.append(\"category\", item.category?._id);\r\n      if (item.subcategory?.id) fd.append(\"subcategory\", item.subcategory.id);\r\n      fd.append(\"description\", item.description || \"\");\r\n      fd.append(\"basePrice\", newBase);\r\n      fd.append(\"profitLoss\", item.profitLoss);\r\n      fd.append(\"status\", item.status);\r\n\r\n      const res = await axios.put(`${API_URL}/${item._id}`, fd);\r\n      if (res.data.success) {\r\n        await fetchItems();\r\n        setQuickBasePrices((p) => ({ ...p, [item._id]: undefined }));\r\n        alert(\"Base price updated\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Update failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Update Profit/Loss inline using updateDiff\r\n  const updateProfitLoss = async (item) => {\r\n    const diff = Number(quickProfitLoss[item._id] ?? 0);\r\n    if (isNaN(diff)) return alert(\"Invalid Profit/Loss\");\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.put(`${API_URL}/updateDiff/${item._id}`, { diff });\r\n      if (res.data.success) {\r\n        await fetchItems();\r\n        setQuickProfitLoss((p) => ({ ...p, [item._id]: undefined }));\r\n        alert(\"Profit/Loss updated\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Update failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Filtering\r\n  const filteredItems = items.filter((item) => {\r\n    const t = search.toLowerCase();\r\n    const matchText =\r\n      (item.name || \"\").toLowerCase().includes(t) ||\r\n      (item.category?.name || \"\").toLowerCase().includes(t) ||\r\n      (item.subcategory?.name || \"\").toLowerCase().includes(t);\r\n\r\n    const matchCategory = !filterCategory || item.category?._id === filterCategory;\r\n    const matchSub = !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n\r\n    return matchText && matchCategory && matchSub;\r\n  });\r\n\r\n  // NEW: SORTING\r\n  let sortedItems = [...filteredItems];\r\n  if (sortOrder === \"low\") {\r\n    sortedItems.sort((a, b) => (Number(a.salePrice) || 0) - (Number(b.salePrice) || 0));\r\n  } else if (sortOrder === \"high\") {\r\n    sortedItems.sort((a, b) => (Number(b.salePrice) || 0) - (Number(a.salePrice) || 0));\r\n  }\r\n\r\n  const indexOfLast = currentPage * itemsPerPage;\r\n  const currentItems = sortedItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n  const totalPages = Math.max(1, Math.ceil(sortedItems.length / itemsPerPage));\r\n\r\n  return (\r\n    <div className=\"container\" style={styles.container}>\r\n      <div style={styles.header}>\r\n        <h1 style={styles.title}>Product Management</h1>\r\n      </div>\r\n\r\n      <div style={{ marginBottom: 12, display: \"flex\", gap: 12, flexWrap: \"wrap\", alignItems: \"center\" }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search product, category or subcategory...\"\r\n          value={search}\r\n          onChange={(e) => {\r\n            setSearch(e.target.value);\r\n            setCurrentPage(1);\r\n          }}\r\n          style={styles.searchInput}\r\n        />\r\n\r\n        {/* <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n          <label style={styles.smallLabel}>Sort</label>\r\n          <select\r\n            value={sortOrder}\r\n            onChange={(e) => setSortOrder(e.target.value)}\r\n            style={styles.sortSelect}\r\n          >\r\n            <option value=\"\">Default</option>\r\n            <option value=\"low\">Price: Low ‚Üí High</option>\r\n            <option value=\"high\">Price: High ‚Üí Low</option>\r\n          </select>\r\n        </div> */}\r\n\r\n        <button\r\n          style={styles.addButton}\r\n          onClick={() => {\r\n            setShowForm(!showForm);\r\n            setEditId(null);\r\n          }}\r\n        >\r\n          {showForm ? \"‚úñ Close\" : \"‚ûï Add Product\"}\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", gap: 8, marginBottom: 12, flexWrap: \"wrap\" }}>\r\n        <button\r\n          style={styles.exportButton}\r\n          onClick={() => window.open(`${API_URL}/export`, \"_blank\")}\r\n        >\r\n          ‚¨á Export CSV\r\n        </button>\r\n\r\n        <label style={{ cursor: \"pointer\" }}>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".csv\"\r\n            style={{ display: \"none\" }}\r\n            onChange={async (e) => {\r\n              try {\r\n                const fd = new FormData();\r\n                fd.append(\"file\", e.target.files[0]);\r\n                await axios.post(`${API_URL}/import`, fd);\r\n                alert(\"Imported successfully\");\r\n                fetchItems();\r\n              } catch (err) {\r\n                alert(\"Import failed\");\r\n              }\r\n            }}\r\n          />\r\n          <span style={styles.importButton}>üì§ Import CSV</span>\r\n        </label>\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", gap: 10, marginBottom: 12, flexWrap: \"wrap\" }}>\r\n        <select\r\n          value={filterCategory}\r\n          onChange={(e) => setFilterCategory(e.target.value)}\r\n          style={styles.select}\r\n        >\r\n          <option value=\"\">Filter by Category</option>\r\n          {categories.map((c) => (\r\n            <option key={c._id} value={c._id}>\r\n              {c.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <select\r\n          value={filterSubcategory}\r\n          onChange={(e) => setFilterSubcategory(e.target.value)}\r\n          disabled={!filterSubs.length}\r\n          style={styles.select}\r\n        >\r\n          <option value=\"\">Filter by Subcategory</option>\r\n          {filterSubs.map((s) => (\r\n            <option key={s._id} value={s._id}>\r\n              {s.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {selectedItems.length > 0 && (\r\n        <div style={styles.bulkBar}>\r\n          {!bulkMode ? (\r\n            <div style={{ display: \"flex\", gap: 8 }}>\r\n              <button style={styles.btnDelete} onClick={handleBulkDelete}>\r\n                üóë Bulk Delete\r\n              </button>\r\n              <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\r\n                ‚úè Bulk Edit\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div style={styles.bulkPanel}>\r\n              <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\r\n\r\n              {items\r\n                .filter((item) => selectedItems.includes(item._id))\r\n                .map((item) => (\r\n                  <div key={item._id} style={styles.bulkItemBox}>\r\n                    <h4 style={styles.bulkItemTitle}>{item.name}</h4>\r\n\r\n                    <div style={styles.formGrid}>\r\n                      <div style={styles.formGroup}>\r\n                        <label style={styles.label}>Base Price</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={item.basePrice}\r\n                          onChange={(e) => updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))}\r\n                          style={styles.input}\r\n                        />\r\n                      </div>\r\n\r\n                      <div style={styles.formGroup}>\r\n                        <label style={styles.label}>Profit/Loss</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={item.profitLoss}\r\n                          onChange={(e) => updateLocalItemField(item._id, \"profitLoss\", Number(e.target.value))}\r\n                          style={styles.input}\r\n                        />\r\n                      </div>\r\n\r\n                      <div style={styles.formGroup}>\r\n                        <label style={styles.label}>Status</label>\r\n                        <select\r\n                          value={item.status}\r\n                          onChange={(e) => updateLocalItemField(item._id, \"status\", e.target.value)}\r\n                          style={styles.select}\r\n                        >\r\n                          <option value=\"active\">active</option>\r\n                          <option value=\"inactive\">inactive</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n\r\n              <div style={{ display: \"flex\", gap: 10, marginTop: 12, flexWrap: 'wrap' }}>\r\n                <button style={styles.btnPrimary} onClick={handleBulkSave}>\r\n                  ‚úî Save All\r\n                </button>\r\n\r\n                <button\r\n                  style={styles.btnPrimary}\r\n                  onClick={async () => {\r\n                    if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n                    for (let id of selectedItems) await axios.post(`${API_URL}/copy/${id}`);\r\n\r\n                    alert(\"Selected copied\");\r\n                    fetchItems();\r\n                  }}\r\n                >\r\n                  üìÑ Copy Selected\r\n                </button>\r\n\r\n                <button\r\n                  style={styles.btnPrimary}\r\n                  onClick={async () => {\r\n                    if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n                    const res = await axios.post(\r\n                      `${API_URL}/export-selected`,\r\n                      { ids: selectedItems },\r\n                      { responseType: \"blob\" }\r\n                    );\r\n\r\n                    const url = window.URL.createObjectURL(new Blob([res.data]));\r\n                    const a = document.createElement(\"a\");\r\n                    a.href = url;\r\n                    a.download = \"selected.csv\";\r\n                    a.click();\r\n                  }}\r\n                >\r\n                  ‚¨á Export Selected\r\n                </button>\r\n\r\n                <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\r\n                  ‚úñ Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {showForm && (\r\n        <div style={styles.formCard}>\r\n          <h2 style={styles.formTitle}>‚ûï Add / Edit Product</h2>\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div style={styles.formGrid}>\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Product Name *</label>\r\n                <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Category *</label>\r\n                <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n                  <option value=\"\">Select Category</option>\r\n                  {categories.map((c) => (\r\n                    <option value={c._id} key={c._id}>\r\n                      {c.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Subcategory</label>\r\n                <select\r\n                  name=\"subcategory\"\r\n                  value={form.subcategory}\r\n                  onChange={handleChange}\r\n                  disabled={!subcategories.length}\r\n                  style={styles.select}\r\n                >\r\n                  <option value=\"\">Select Subcategory</option>\r\n                  {subcategories.map((s) => (\r\n                    <option value={s._id} key={s._id}>\r\n                      {s.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Base Price *</label>\r\n                <input\r\n                  type=\"number\"\r\n                  required\r\n                  name=\"basePrice\"\r\n                  value={form.basePrice}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Profit/Loss</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"profitLoss\"\r\n                  value={form.profitLoss}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Valid Till</label>\r\n                <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Image</label>\r\n                <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Status</label>\r\n                <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n                  <option value=\"active\">Active</option>\r\n                  <option value=\"inactive\">Inactive</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Description</label>\r\n              <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n            </div>\r\n\r\n            <div style={styles.formActions}>\r\n              <button style={styles.btnPrimary} disabled={loading}>\r\n                {loading ? \"Saving...\" : editId ? \"Update Product\" : \"Add Product\"}\r\n              </button>\r\n\r\n              <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      <div style={styles.tableCard}>\r\n        <div style={styles.tableHeader}>\r\n          <h2 style={styles.tableTitle}>Items</h2>\r\n          <span style={styles.totalCount}>Total: {filteredItems.length}</span>\r\n        </div>\r\n\r\n        <div style={styles.tableWrapper}>\r\n          <table style={styles.table}>\r\n            <thead>\r\n              <tr>\r\n                <th style={styles.th}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\r\n                    onChange={() => {\r\n                      if (selectedItems.length === filteredItems.length) setSelectedItems([]);\r\n                      else setSelectedItems(filteredItems.map((x) => x._id));\r\n                    }}\r\n                  />\r\n                </th>\r\n                <th style={styles.th}>Sr</th>\r\n                <th style={styles.th}>Image</th>\r\n                <th style={styles.th}>Name</th>\r\n                <th style={styles.th}>Category</th>\r\n                <th style={styles.th}>Subcategory</th>\r\n                <th style={styles.th}>Base Price</th>\r\n                <th style={styles.th}>Profit/Loss</th>\r\n                <th style={styles.th}>Sale Price</th>\r\n                <th style={styles.th}>Price Lock</th>\r\n                <th style={styles.th}>Teji/Maddi</th>\r\n                <th style={styles.th}>Status</th>\r\n                <th style={styles.th}>Actions</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {currentItems.map((item, i) => (\r\n                <tr key={item._id} style={styles.tr}>\r\n                  <td style={styles.td}>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedItems.includes(item._id)}\r\n                      onChange={() =>\r\n                        setSelectedItems((prev) =>\r\n                          prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]\r\n                        )\r\n                      }\r\n                    />\r\n                  </td>\r\n\r\n                  <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n\r\n                  <td style={styles.td}>\r\n                    {item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}\r\n                  </td>\r\n\r\n                  <td style={styles.td}>{item.name}</td>\r\n                  <td style={styles.td}>{item.category?.name || \"-\"}</td>\r\n                  <td style={styles.td}>{item.subcategory?.name || \"-\"}</td>\r\n\r\n                  {/* BASE PRICE - Editable */}\r\n                  <td style={styles.td}>\r\n                    <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={quickBasePrices[item._id] !== undefined ? quickBasePrices[item._id] : item.basePrice}\r\n                        onChange={(e) => setQuickBasePrices((p) => ({ ...p, [item._id]: e.target.value }))}\r\n                        style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n                      />\r\n                      <button style={styles.btnSmall} onClick={() => updateBasePrice(item)}>\r\n                        ‚úî\r\n                      </button>\r\n                    </div>\r\n                    <small style={{ color: \"#28a745\", display: \"block\", marginTop: 4 }}>Saved: ‚Çπ{item.basePrice}</small>\r\n                  </td>\r\n\r\n                  {/* PROFIT/LOSS - Editable */}\r\n                  <td style={styles.td}>\r\n                    <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        placeholder=\"change\"\r\n                        value={quickProfitLoss[item._id] ?? \"\"}\r\n                        onChange={(e) => setQuickProfitLoss((p) => ({ ...p, [item._id]: e.target.value }))}\r\n                        style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n                      />\r\n                      <button style={styles.btnSmall} onClick={() => updateProfitLoss(item)}>\r\n                        ‚úî\r\n                      </button>\r\n                    </div>\r\n                    <small style={{ color: \"#666\", display: \"block\", marginTop: 4 }}>Current: {item.profitLoss}</small>\r\n                  </td>\r\n\r\n                  {/* SALE PRICE */}\r\n                  <td style={styles.td}>‚Çπ{item.salePrice}</td>\r\n\r\n                  {/* PRICE LOCK */}\r\n                  <td style={styles.td}>‚Çπ{item.lockedPrice}</td>\r\n\r\n                  {/* TEJI/MADDI */}\r\n                  <td style={styles.td}>\r\n                    {item.lockedPrice === 0 ? (\r\n                      <span style={{ color: \"#6c757d\", fontWeight: \"600\" }}>0</span>\r\n                    ) : (\r\n                      (() => {\r\n                        const teji = item.salePrice - item.lockedPrice;\r\n                        return (\r\n                          <span\r\n                            style={{\r\n                              color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\r\n                              fontWeight: \"600\",\r\n                            }}\r\n                          >\r\n                            {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\r\n                          </span>\r\n                        );\r\n                      })()\r\n                    )}\r\n                  </td>\r\n\r\n                  {/* STATUS */}\r\n                  <td style={styles.td}>\r\n                    <button\r\n                      style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\r\n                      onClick={() => handleStatusToggle(item)}\r\n                    >\r\n                      {item.status === \"active\" ? \"Active\" : \"Inactive\"}\r\n                    </button>\r\n                  </td>\r\n\r\n                  {/* ACTIONS */}\r\n                  <td style={styles.td}>\r\n                    <div style={{ position: \"relative\" }}>\r\n                      <button\r\n                        style={styles.menuButton}\r\n                        onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\r\n                      >\r\n                        ‚ãÆ\r\n                      </button>\r\n\r\n                      {activeMenu === item._id && (\r\n                        <div style={styles.dropdown}>\r\n                          <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\r\n                            ‚úè Edit\r\n                          </button>\r\n\r\n                          <button\r\n                            style={styles.dropdownItem}\r\n                            onClick={async () => {\r\n                              await axios.post(`${API_URL}/copy/${item._id}`);\r\n                              alert(\"Copied successfully\");\r\n                              fetchItems();\r\n                            }}\r\n                          >\r\n                            üìÑ Copy\r\n                          </button>\r\n\r\n                          <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\r\n                            üóë Delete\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div style={styles.pagination}>\r\n          <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\r\n            Previous\r\n          </button>\r\n\r\n          {Array.from({ length: totalPages }, (_, i) => (\r\n            <button\r\n              key={i}\r\n              style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\r\n              onClick={() => setCurrentPage(i + 1)}\r\n            >\r\n              {i + 1}\r\n            </button>\r\n          ))}\r\n\r\n          <button\r\n            style={styles.paginationBtn}\r\n            disabled={currentPage === totalPages}\r\n            onClick={() => setCurrentPage((p) => p + 1)}\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\r\n          <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n            <h2 style={styles.modalTitle}>‚úè Edit Product</h2>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n              <div style={styles.formGrid}>\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Product Name *</label>\r\n                  <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Category *</label>\r\n                  <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n                    <option value=\"\">Select Category</option>\r\n                    {categories.map((c) => (\r\n                      <option value={c._id} key={c._id}>\r\n                        {c.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Subcategory</label>\r\n                  <select\r\n                    name=\"subcategory\"\r\n                    value={form.subcategory}\r\n                    onChange={handleChange}\r\n                    disabled={!subcategories.length}\r\n                    style={styles.select}\r\n                  >\r\n                    <option value=\"\">Select Subcategory</option>\r\n                    {subcategories.map((s) => (\r\n                      <option value={s._id} key={s._id}>\r\n                        {s.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Base Price *</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    required\r\n                    name=\"basePrice\"\r\n                    value={form.basePrice}\r\n                    onChange={handleChange}\r\n                    style={styles.input}\r\n                  />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Profit/Loss</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"profitLoss\"\r\n                    value={form.profitLoss}\r\n                    onChange={handleChange}\r\n                    style={styles.input}\r\n                  />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Valid Till</label>\r\n                  <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Image</label>\r\n                  <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Status</label>\r\n                  <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"inactive\">Inactive</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Description</label>\r\n                <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n              </div>\r\n\r\n              <div style={styles.formActions}>\r\n                <button style={styles.btnPrimary} disabled={loading}>\r\n                  {loading ? \"Saving...\" : \"Update\"}\r\n                </button>\r\n\r\n                <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: { padding: 20, fontFamily: \"Inter, Arial, sans-serif\", background: \"#f6f8fa\", minHeight: \"100vh\" },\r\n  header: { marginBottom: 8 },\r\n  title: {\r\n    fontSize: \"22px\",\r\n    fontWeight: 800,\r\n    color: \"#0f1724\",\r\n    marginBottom: \"8px\",\r\n  },\r\n  searchInput: {\r\n    flex: \"1\",\r\n    minWidth: \"260px\",\r\n    padding: \"12px 14px\",\r\n    borderRadius: \"12px\",\r\n    border: \"1px solid #e2e8f0\",\r\n    background: \"#fff\",\r\n    fontSize: \"14px\",\r\n    outline: \"none\",\r\n    boxShadow: \"0 1px 2px rgba(16,24,40,0.03)\",\r\n  },\r\n  addButton: {\r\n    background: \"#0b69ff\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"10px\",\r\n    padding: \"10px 16px\",\r\n    fontSize: \"14px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    boxShadow: \"0 6px 18px rgba(11,105,255,0.12)\",\r\n  },\r\n  exportButton: {\r\n    background: \"#fff\",\r\n    color: \"#0f1724\",\r\n    border: \"1px solid #e6eefc\",\r\n    borderRadius: 10,\r\n    padding: \"8px 12px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n  },\r\n  importButton: {\r\n    background: \"#fff\",\r\n    color: \"#0f1724\",\r\n    border: \"1px solid #e6eefc\",\r\n    borderRadius: 10,\r\n    padding: \"8px 12px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    marginLeft: 8,\r\n  },\r\n  select: {\r\n    padding: \"10px 12px\",\r\n    borderRadius: \"10px\",\r\n    border: \"1px solid #e2e8f0\",\r\n    background: \"#fff\",\r\n    fontSize: \"13px\",\r\n    minWidth: \"160px\",\r\n  },\r\n  sortSelect: {\r\n    padding: \"10px 12px\",\r\n    borderRadius: \"10px\",\r\n    border: \"1px solid #dbeafe\",\r\n    background: \"#f8fbff\",\r\n    fontSize: \"13px\",\r\n    minWidth: \"170px\",\r\n    fontWeight: 700,\r\n    color: \"#0f1724\",\r\n  },\r\n  smallLabel: {\r\n    fontSize: 12,\r\n    color: \"#475569\",\r\n    fontWeight: 700,\r\n    marginRight: 6,\r\n  },\r\n  bulkBar: {\r\n    background: \"#eef2ff\",\r\n    border: \"1px solid #dbeafe\",\r\n    borderRadius: \"10px\",\r\n    padding: \"12px\",\r\n    marginBottom: \"12px\",\r\n  },\r\n  bulkPanel: {\r\n    width: \"100%\",\r\n    background: \"#fff\",\r\n    border: \"1px solid #eef2ff\",\r\n    padding: \"12px\",\r\n    borderRadius: \"10px\",\r\n  },\r\n  bulkPanelTitle: {\r\n    textAlign: \"center\",\r\n    fontSize: \"16px\",\r\n    fontWeight: 700,\r\n    marginBottom: \"10px\",\r\n    color: \"#0f1724\",\r\n  },\r\n  bulkItemBox: {\r\n    background: \"#ffffff\",\r\n    border: \"1px solid #eef2ff\",\r\n    padding: \"12px\",\r\n    borderRadius: \"8px\",\r\n    marginBottom: \"10px\",\r\n  },\r\n  bulkItemTitle: {\r\n    fontSize: \"14px\",\r\n    fontWeight: 700,\r\n    marginBottom: \"8px\",\r\n    color: \"#0f1724\",\r\n  },\r\n  formCard: {\r\n    borderRadius: \"12px\",\r\n    padding: \"18px\",\r\n    marginBottom: \"18px\",\r\n    background: \"#fff\",\r\n    border: \"1px solid #eef2ff\",\r\n    boxShadow: \"0 4px 16px rgba(2,6,23,0.04)\",\r\n  },\r\n  formTitle: {\r\n    fontSize: \"18px\",\r\n    fontWeight: 800,\r\n    marginBottom: 16,\r\n    color: \"#0f1724\",\r\n  },\r\n  formGrid: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\r\n    gap: \"12px\",\r\n  },\r\n  formGroup: { display: \"flex\", flexDirection: \"column\", gap: \"6px\" },\r\n  label: { fontWeight: 700, fontSize: \"13px\", color: \"#0f1724\" },\r\n  input: {\r\n    padding: \"10px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #e6eef8\",\r\n    background: \"#fff\",\r\n    fontSize: \"13px\",\r\n    outline: \"none\",\r\n  },\r\n  textarea: {\r\n    padding: \"10px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #e6eef8\",\r\n    background: \"#fff\",\r\n    minHeight: 80,\r\n    fontSize: \"13px\",\r\n    outline: \"none\",\r\n    resize: \"vertical\",\r\n  },\r\n  fileInput: { padding: \"6px\", fontSize: \"13px\" },\r\n  formActions: { marginTop: 16, display: \"flex\", gap: 10 },\r\n  btnPrimary: {\r\n    background: \"#0b69ff\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"10px 20px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    fontSize: \"14px\",\r\n  },\r\n  btnSmall: {\r\n    background: \"#10b981\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"6px\",\r\n    padding: \"6px 12px\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"12px\",\r\n    fontWeight: 700,\r\n  },\r\n  btnDelete: {\r\n    background: \"#ef4444\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"8px 14px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    fontSize: \"14px\",\r\n  },\r\n  btnCancel: {\r\n    background: \"#6b7280\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"10px 20px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    fontSize: \"14px\",\r\n  },\r\n  tableCard: {\r\n    marginTop: 16,\r\n    background: \"#fff\",\r\n    borderRadius: \"12px\",\r\n    padding: \"16px\",\r\n    border: \"1px solid #eef2ff\",\r\n    boxShadow: \"0 6px 22px rgba(2,6,23,0.04)\",\r\n  },\r\n  tableHeader: { display: \"flex\", justifyContent: \"space-between\", marginBottom: 12, alignItems: \"center\" },\r\n  tableTitle: { fontSize: \"18px\", fontWeight: 800, color: \"#0f1724\" },\r\n  totalCount: { fontSize: \"14px\", color: \"#64748b\", fontWeight: 700 },\r\n  tableWrapper: { overflowX: \"auto\", border: \"1px solid #eef2ff\", borderRadius: \"8px\" },\r\n  table: { width: \"100%\", borderCollapse: \"collapse\", fontSize: \"13px\" },\r\n  th: {\r\n    background: \"#fbfdff\",\r\n    padding: \"12px 10px\",\r\n    fontWeight: 800,\r\n    color: \"#0f1724\",\r\n    textAlign: \"left\",\r\n    borderBottom: \"2px solid #eef2ff\",\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n  tr: { borderBottom: \"1px solid #f1f5f9\", transition: \"background 0.2s\" },\r\n  td: { padding: \"12px 10px\", whiteSpace: \"nowrap\", verticalAlign: \"middle\" },\r\n  tableImg: { width: \"50px\", height: \"50px\", borderRadius: \"6px\", objectFit: \"cover\" },\r\n  statusActive: {\r\n    background: \"#d1fae5\",\r\n    padding: \"6px 12px\",\r\n    borderRadius: \"6px\",\r\n    color: \"#065f46\",\r\n    fontWeight: 700,\r\n    border: \"1px solid #bbf7d0\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"12px\",\r\n  },\r\n  statusInactive: {\r\n    background: \"#fee2e2\",\r\n    padding: \"6px 12px\",\r\n    borderRadius: \"6px\",\r\n    color: \"#991b1b\",\r\n    fontWeight: 700,\r\n    border: \"1px solid #fecaca\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"12px\",\r\n  },\r\n  menuButton: { background: \"#fff\", border: \"1px solid #e6eef8\", borderRadius: \"6px\", padding: \"6px 10px\", fontSize: \"16px\", cursor: \"pointer\", fontWeight: 700 },\r\n  dropdown: { position: \"absolute\", right: 0, top: 36, background: \"#fff\", border: \"1px solid #e6eef8\", borderRadius: 8, zIndex: 100, minWidth: 140, boxShadow: \"0 8px 30px rgba(2,6,23,0.08)\" },\r\n  dropdownItem: { display: \"block\", width: \"100%\", padding: \"10px 14px\", background: \"transparent\", border: \"none\", textAlign: \"left\", cursor: \"pointer\", fontSize: 13, fontWeight: 700, transition: \"background 0.12s\" },\r\n  dropdownItemDelete: { display: \"block\", width: \"100%\", padding: \"10px 14px\", background: \"transparent\", border: \"none\", textAlign: \"left\", cursor: \"pointer\", fontSize: 13, fontWeight: 700, color: \"#ef4444\", transition: \"background 0.12s\" },\r\n  pagination: { marginTop: 16, display: \"flex\", justifyContent: \"center\", gap: 8, flexWrap: \"wrap\" },\r\n  paginationBtn: { padding: \"8px 12px\", borderRadius: 8, background: \"#fff\", border: \"1px solid #e6eef8\", cursor: \"pointer\", fontSize: \"13px\", fontWeight: 700 },\r\n  paginationBtnActive: { padding: \"8px 12px\", borderRadius: 8, background: \"#0b69ff\", color: \"white\", border: \"1px solid #0b69ff\", cursor: \"pointer\", fontSize: \"13px\", fontWeight: 800 },\r\n  modalOverlay: { position: \"fixed\", top: 0, left: 0, right: 0, bottom: 0, background: \"rgba(2,6,23,0.5)\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", zIndex: 1000, padding: 20 },\r\n  modal: { background: \"#fff\", borderRadius: 12, padding: 24, maxWidth: 700, width: \"100%\", maxHeight: \"90vh\", overflowY: \"auto\", boxShadow: \"0 12px 48px rgba(2,6,23,0.12)\" },\r\n  modalTitle: { fontSize: 20, fontWeight: 800, color: \"#0f1724\", marginBottom: 16, textAlign: \"center\" },\r\n};\r\n"],"mappings":"sHACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}