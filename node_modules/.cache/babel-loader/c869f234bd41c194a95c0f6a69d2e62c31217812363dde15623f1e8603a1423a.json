{"ast":null,"code":"var _jsxFileName = \"E:\\\\infyle\\\\Grocerry_final\\\\frontend\\\\src\\\\pages\\\\PriceList.jsx\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n\n// const API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\n// const CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\n\n// export default function PriceList() {\n//   const [items, setItems] = useState([]);\n//   const [categories, setCategories] = useState([]);\n//   const [subcategories, setSubcategories] = useState([]);\n//   const [search, setSearch] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n\n//   const [form, setForm] = useState({\n//     name: \"\",\n//     category: \"\",\n//     subcategory: \"\",\n//     description: \"\",\n//     basePrice: \"\",\n//     profitLoss: \"\",\n//     validTill: \"\",\n//     file: null,\n//     status: \"inactive\",\n//   });\n\n//   const [editId, setEditId] = useState(null);\n//   const [showForm, setShowForm] = useState(false);\n//   const [showModal, setShowModal] = useState(false);\n//   const [activeMenu, setActiveMenu] = useState(null);\n\n//   const [selectedItems, setSelectedItems] = useState([]);\n//   const [bulkMode, setBulkMode] = useState(false);\n\n//   const [currentPage, setCurrentPage] = useState(1);\n//   const itemsPerPage = 30;\n\n//   const [filterCategory, setFilterCategory] = useState(\"\");\n//   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\n//   const [filterSubs, setFilterSubs] = useState([]);\n\n//   // Quick edit states for inline editing\n//   const [quickBasePrices, setQuickBasePrices] = useState({});\n//   const [quickProfitLoss, setQuickProfitLoss] = useState({});\n\n//   useEffect(() => {\n//     fetchCategories();\n//   }, []);\n\n//   useEffect(() => {\n//     if (categories.length > 0) fetchItems();\n//   }, [categories]);\n\n//   useEffect(() => {\n//     if (!filterCategory) {\n//       setFilterSubs([]);\n//       setFilterSubcategory(\"\");\n//       return;\n//     }\n//     const cat = categories.find((c) => c._id === filterCategory);\n//     setFilterSubs(cat?.subcategories || []);\n//     setFilterSubcategory(\"\");\n//   }, [filterCategory, categories]);\n\n//   useEffect(() => {\n//     if (!form.category) {\n//       setSubcategories([]);\n//       setForm((prev) => ({ ...prev, subcategory: \"\" }));\n//       return;\n//     }\n//     const cat = categories.find((c) => c._id === form.category);\n//     setSubcategories(cat?.subcategories || []);\n//   }, [form.category, categories]);\n\n//   const fetchCategories = async () => {\n//     try {\n//       const res = await axios.get(CATEGORY_URL);\n//       if (res.data?.success) setCategories(res.data.categories || []);\n//     } catch (err) {\n//       console.error(\"Fetch categories error\", err);\n//       alert(\"Could not fetch categories\");\n//     }\n//   };\n\n//   const fetchItems = async () => {\n//     try {\n//       setLoading(true);\n//       const res = await axios.get(API_URL);\n//       if (res.data?.success) {\n//         const raw = res.data.data || [];\n//         // const enriched = raw.map((item) => {\n//         //   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\n//         //   const subObj = catObj?.subcategories?.find((s) => s._id === (item.subcategory?.id || item.subcategory?._id));\n\n//         //   return {\n//         //     ...item,\n//         //     basePrice: item.basePrice || 0,\n//         //     profitLoss: item.profitLoss || 0,\n//         //     salePrice: item.salePrice || 0,\n//         //     lockedPrice: item.lockedPrice || 0,\n//         //     yesterdayLock: item.yesterdayLock || 0,\n//         //     brokerDisplay: item.brokerDisplay || 0,\n//         //     category: catObj ? { _id: catObj._id, name: catObj.name } : item.category,\n//         //     subcategory: subObj ? { _id: subObj._id, name: subObj.name } : item.subcategory,\n//         //   };\n//         // });\n//         const enriched = raw.map((item) => {\n//   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\n\n//   const subObj = catObj?.subcategories?.find(\n//     (s) => s._id === item.subcategory?.id\n//   );\n\n//   return {\n//     ...item,\n//     category: catObj ? { _id: catObj._id, name: catObj.name } : null,\n//     subcategory: subObj\n//       ? { _id: subObj._id, name: subObj.name }\n//       : item.subcategory?.id\n//       ? { _id: item.subcategory.id, name: item.subcategory.name }\n//       : null,\n//   };\n// });\n\n//         setItems(enriched);\n//       }\n//     } catch (err) {\n//       console.error(\"Fetch items error\", err);\n//       alert(\"Could not fetch items\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleChange = (e) => {\n//     const { name, value, files } = e.target;\n//     if (files?.length) {\n//       setForm((p) => ({ ...p, file: files[0] }));\n//     } else {\n//       setForm((p) => ({ ...p, [name]: value }));\n//     }\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n\n//     try {\n//       if (!form.name || !form.category || !form.basePrice) {\n//         alert(\"Name, category & base price are required\");\n//         setLoading(false);\n//         return;\n//       }\n\n//       const fd = new FormData();\n//       fd.append(\"name\", form.name);\n//       fd.append(\"category\", form.category);\n//       // if (form.subcategory) fd.append(\"subcategory\", form.subcategory);\n//       if (form.subcategory) {\n//   const sub = subcategories.find((s) => s._id === form.subcategory);\n//   fd.append(\"subcategory[id]\", sub._id);\n//   fd.append(\"subcategory[name]\", sub.name);\n//   fd.append(\"subcategory[image]\", sub.image || \"\");\n// }\n\n//       fd.append(\"basePrice\", form.basePrice);\n//       fd.append(\"profitLoss\", form.profitLoss || 0);\n//       if (form.description) fd.append(\"description\", form.description);\n//       if (form.validTill) fd.append(\"validTill\", form.validTill);\n//       fd.append(\"status\", form.status);\n//       if (form.file) fd.append(\"file\", form.file);\n\n//       if (editId) {\n//         await axios.put(`${API_URL}/${editId}`, fd);\n//         alert(\"Updated successfully\");\n//       } else {\n//         await axios.post(API_URL, fd);\n//         alert(\"Added successfully\");\n//       }\n\n//       await fetchItems();\n//       resetForm();\n//     } catch (err) {\n//       console.error(\"Save error\", err);\n//       alert(\"Save failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const resetForm = () => {\n//     setForm({\n//       name: \"\",\n//       category: \"\",\n//       subcategory: \"\",\n//       description: \"\",\n//       basePrice: \"\",\n//       profitLoss: \"\",\n//       validTill: \"\",\n//       file: null,\n//       status: \"inactive\",\n//     });\n//     setEditId(null);\n//     setShowModal(false);\n//     setShowForm(false);\n//   };\n\n//   const handleEdit = (item) => {\n//     setForm({\n//       name: item.name || \"\",\n//       category: item.category?._id?.toString() || \"\",\n//       // subcategory: item.subcategory?.id?.toString() || \"\",\n//       subcategory: item.subcategory?._id || \"\",\n\n//       description: item.description || \"\",\n//       basePrice: item.basePrice || \"\",\n//       profitLoss: item.profitLoss || 0,\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\n//       file: null,\n//       status: item.status || \"inactive\",\n//     });\n\n//     const cat = categories.find((c) => c._id === item.category?._id);\n//     setSubcategories(cat?.subcategories || []);\n\n//     setEditId(item._id);\n//     setShowModal(true);\n//     setActiveMenu(null);\n//   };\n\n//   const handleDelete = async (id) => {\n//     if (!window.confirm(\"Delete this item?\")) return;\n//     try {\n//       await axios.delete(`${API_URL}/${id}`);\n//       setItems((prev) => prev.filter((x) => x._id !== id));\n//       setSelectedItems((prev) => prev.filter((x) => x !== id));\n//       setActiveMenu(null);\n//     } catch (err) {\n//       console.error(\"Delete error\", err);\n//       alert(\"Delete failed\");\n//     }\n//   };\n\n//   const handleStatusToggle = async (item) => {\n//     try {\n//       const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\n//       await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\n//       setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\n//     } catch (err) {\n//       console.error(\"Status toggle error\", err);\n//       alert(\"Status update failed\");\n//     }\n//   };\n\n//   const updateLocalItemField = (id, key, value) => {\n//     setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\n//   };\n\n//   const handleBulkSave = async () => {\n//     if (!selectedItems.length) return alert(\"No items selected\");\n\n//     const updates = items\n//       .filter((x) => selectedItems.includes(x._id))\n//       .map((x) => ({\n//         id: x._id,\n//         basePrice: Number(x.basePrice),\n//         profitLoss: Number(x.profitLoss),\n//         status: x.status,\n//       }));\n\n//     try {\n//       await axios.post(`${API_URL}/bulk-update`, { products: updates });\n//       alert(\"Bulk save successful\");\n//       setBulkMode(false);\n//       setSelectedItems([]);\n//       fetchItems();\n//     } catch (err) {\n//       console.error(\"Bulk save error\", err);\n//       alert(\"Bulk save failed\");\n//     }\n//   };\n\n//   const handleBulkDelete = async () => {\n//     if (!selectedItems.length) return alert(\"No items selected\");\n//     if (!window.confirm(\"Delete selected items?\")) return;\n\n//     try {\n//       await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\n//       setSelectedItems([]);\n//       fetchItems();\n//       setBulkMode(false);\n//     } catch (err) {\n//       console.error(\"Bulk delete error\", err);\n//       alert(\"Bulk delete failed\");\n//     }\n//   };\n\n//   // Update Base Price inline\n//   const updateBasePrice = async (item) => {\n//     const newBase = Number(quickBasePrices[item._id] ?? item.basePrice);\n//     if (isNaN(newBase)) return alert(\"Invalid Base Price\");\n\n//     try {\n//       setLoading(true);\n//       const fd = new FormData();\n//       fd.append(\"name\", item.name);\n//       fd.append(\"category\", item.category?._id);\n//       if (item.subcategory?.id) fd.append(\"subcategory\", item.subcategory.id);\n//       fd.append(\"description\", item.description || \"\");\n//       fd.append(\"basePrice\", newBase);\n//       fd.append(\"profitLoss\", item.profitLoss);\n//       fd.append(\"status\", item.status);\n\n//       const res = await axios.put(`${API_URL}/${item._id}`, fd);\n//       if (res.data.success) {\n//         await fetchItems();\n//         setQuickBasePrices((p) => ({ ...p, [item._id]: undefined }));\n//         alert(\"Base price updated\");\n//       }\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Update failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   // Update Profit/Loss inline using updateDiff\n//   const updateProfitLoss = async (item) => {\n//     const diff = Number(quickProfitLoss[item._id] ?? 0);\n//     if (isNaN(diff)) return alert(\"Invalid Profit/Loss\");\n\n//     try {\n//       setLoading(true);\n//       const res = await axios.put(`${API_URL}/updateDiff/${item._id}`, { diff });\n//       if (res.data.success) {\n//         await fetchItems();\n//         setQuickProfitLoss((p) => ({ ...p, [item._id]: undefined }));\n//         alert(\"Profit/Loss updated\");\n//       }\n//     } catch (err) {\n//       console.error(err);\n//       alert(\"Update failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const filteredItems = items.filter((item) => {\n//     const t = search.toLowerCase();\n//     const matchText =\n//       (item.name || \"\").toLowerCase().includes(t) ||\n//       (item.category?.name || \"\").toLowerCase().includes(t) ||\n//       (item.subcategory?.name || \"\").toLowerCase().includes(t);\n\n//     const matchCategory = !filterCategory || item.category?._id === filterCategory;\n//     const matchSub = !filterSubcategory || item.subcategory?._id === filterSubcategory;\n\n//     return matchText && matchCategory && matchSub;\n//   });\n\n//   const indexOfLast = currentPage * itemsPerPage;\n//   const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\n//   const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\n\n//   return (\n//     <div className=\"container\" style={styles.container}>\n//       <div style={styles.header}>\n//         <h1 style={styles.title}>Product Management</h1>\n//       </div>\n\n//       <div style={{ marginBottom: 12, display: \"flex\", gap: 12, flexWrap: \"wrap\" }}>\n//         <input\n//           type=\"text\"\n//           placeholder=\"Search product, category or subcategory...\"\n//           value={search}\n//           onChange={(e) => {\n//             setSearch(e.target.value);\n//             setCurrentPage(1);\n//           }}\n//           style={styles.searchInput}\n//         />\n\n//         <button\n//           style={styles.addButton}\n//           onClick={() => {\n//             setShowForm(!showForm);\n//             setEditId(null);\n//           }}\n//         >\n//           {showForm ? \"‚úñ Close\" : \"‚ûï Add Product\"}\n//         </button>\n//       </div>\n// <button\n//   style={styles.addButton}\n//   onClick={() => window.open(`${API_URL}/export`, \"_blank\")}\n// >\n//   ‚¨á Export CSV\n// </button>\n\n// <label style={{ cursor: \"pointer\" }}>\n//   <input\n//     type=\"file\"\n//     accept=\".csv\"\n//     style={{ display: \"none\" }}\n//     onChange={async (e) => {\n//       try {\n//         const fd = new FormData();\n//         fd.append(\"file\", e.target.files[0]);\n//         await axios.post(`${API_URL}/import`, fd);\n//         alert(\"Imported successfully\");\n//         fetchItems();\n//       } catch (err) {\n//         alert(\"Import failed\");\n//       }\n//     }}\n//   />\n//   <span style={styles.addButton}>üì§ Import CSV</span>\n// </label>\n\n//       <div style={{ display: \"flex\", gap: 10, marginBottom: 12, flexWrap: \"wrap\" }}>\n//         <select\n//           value={filterCategory}\n//           onChange={(e) => setFilterCategory(e.target.value)}\n//           style={styles.select}\n//         >\n//           <option value=\"\">Filter by Category</option>\n//           {categories.map((c) => (\n//             <option key={c._id} value={c._id}>\n//               {c.name}\n//             </option>\n//           ))}\n//         </select>\n\n//         <select\n//           value={filterSubcategory}\n//           onChange={(e) => setFilterSubcategory(e.target.value)}\n//           disabled={!filterSubs.length}\n//           style={styles.select}\n//         >\n//           <option value=\"\">Filter by Subcategory</option>\n//           {filterSubs.map((s) => (\n//             <option key={s._id} value={s._id}>\n//               {s.name}\n//             </option>\n//           ))}\n//         </select>\n//       </div>\n\n//       {selectedItems.length > 0 && (\n//         <div style={styles.bulkBar}>\n//           {!bulkMode ? (\n//             <div style={{ display: \"flex\", gap: 8 }}>\n//               <button style={styles.btnDelete} onClick={handleBulkDelete}>\n//                 üóë Bulk Delete\n//               </button>\n//               <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\n//                 ‚úè Bulk Edit\n//               </button>\n//             </div>\n//           ) : (\n//             <div style={styles.bulkPanel}>\n//               <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\n\n//               {items\n//                 .filter((item) => selectedItems.includes(item._id))\n//                 .map((item) => (\n//                   <div key={item._id} style={styles.bulkItemBox}>\n//                     <h4 style={styles.bulkItemTitle}>{item.name}</h4>\n\n//                     <div style={styles.formGrid}>\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Base Price</label>\n//                         <input\n//                           type=\"number\"\n//                           value={item.basePrice}\n//                           onChange={(e) => updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))}\n//                           style={styles.input}\n//                         />\n//                       </div>\n\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Profit/Loss</label>\n//                         <input\n//                           type=\"number\"\n//                           value={item.profitLoss}\n//                           onChange={(e) => updateLocalItemField(item._id, \"profitLoss\", Number(e.target.value))}\n//                           style={styles.input}\n//                         />\n//                       </div>\n\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Status</label>\n//                         <select\n//                           value={item.status}\n//                           onChange={(e) => updateLocalItemField(item._id, \"status\", e.target.value)}\n//                           style={styles.select}\n//                         >\n//                           <option value=\"active\">active</option>\n//                           <option value=\"inactive\">inactive</option>\n//                         </select>\n//                       </div>\n//                     </div>\n//                   </div>\n//                 ))}\n\n//               {/* <div style={{ display: \"flex\", gap: 10, marginTop: 12 }}>\n//                 <button style={styles.btnPrimary} onClick={handleBulkSave}>\n//                   ‚úî Save All\n//                 </button>\n//                 <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\n//                   ‚úñ Cancel\n//                 </button>\n//               </div> */}\n//               <div style={{ display: \"flex\", gap: 10, marginTop: 12, flexWrap: 'wrap' }}>\n\n//   <button style={styles.btnPrimary} onClick={handleBulkSave}>\n//     ‚úî Save All\n//   </button>\n\n//   <button\n//     style={styles.btnPrimary}\n//     onClick={async () => {\n//       if (!selectedItems.length) return alert(\"No items selected\");\n\n//       for (let id of selectedItems) await axios.post(`${API_URL}/copy/${id}`);\n\n//       alert(\"Selected copied\");\n//       fetchItems();\n//     }}\n//   >\n//     üìÑ Copy Selected\n//   </button>\n\n//   <button\n//     style={styles.btnPrimary}\n//     onClick={async () => {\n//       if (!selectedItems.length) return alert(\"No items selected\");\n\n//       const res = await axios.post(\n//         `${API_URL}/export-selected`,\n//         { ids: selectedItems },\n//         { responseType: \"blob\" }\n//       );\n\n//       const url = window.URL.createObjectURL(new Blob([res.data]));\n//       const a = document.createElement(\"a\");\n//       a.href = url;\n//       a.download = \"selected.csv\";\n//       a.click();\n//     }}\n//   >\n//     ‚¨á Export Selected\n//   </button>\n\n//   <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\n//     ‚úñ Cancel\n//   </button>\n// </div>\n\n//             </div>\n//           )}\n//         </div>\n//       )}\n\n//       {showForm && (\n//         <div style={styles.formCard}>\n//           <h2 style={styles.formTitle}>‚ûï Add / Edit Product</h2>\n\n//           <form onSubmit={handleSubmit}>\n//             <div style={styles.formGrid}>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Product Name *</label>\n//                 <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Category *</label>\n//                 <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\n//                   <option value=\"\">Select Category</option>\n//                   {categories.map((c) => (\n//                     <option value={c._id} key={c._id}>\n//                       {c.name}\n//                     </option>\n//                   ))}\n//                 </select>\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Subcategory</label>\n//                 <select\n//                   name=\"subcategory\"\n//                   value={form.subcategory}\n//                   onChange={handleChange}\n//                   disabled={!subcategories.length}\n//                   style={styles.select}\n//                 >\n//                   <option value=\"\">Select Subcategory</option>\n//                   {subcategories.map((s) => (\n//                     // <option value={s._id} key={s._id}>\n//                     //   {s.name}\n//                     // </option>\n//                     <option value={s._id}>{s.name}</option>\n\n//                   ))}\n//                 </select>\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Base Price *</label>\n//                 <input\n//                   type=\"number\"\n//                   required\n//                   name=\"basePrice\"\n//                   value={form.basePrice}\n//                   onChange={handleChange}\n//                   style={styles.input}\n//                 />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Profit/Loss</label>\n//                 <input\n//                   type=\"number\"\n//                   name=\"profitLoss\"\n//                   value={form.profitLoss}\n//                   onChange={handleChange}\n//                   style={styles.input}\n//                 />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Valid Till</label>\n//                 <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Image</label>\n//                 <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Status</label>\n//                 <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\n//                   <option value=\"active\">Active</option>\n//                   <option value=\"inactive\">Inactive</option>\n//                 </select>\n//               </div>\n//             </div>\n\n//             <div style={styles.formGroup}>\n//               <label style={styles.label}>Description</label>\n//               <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\n//             </div>\n\n//             <div style={styles.formActions}>\n//               <button style={styles.btnPrimary} disabled={loading}>\n//                 {loading ? \"Saving...\" : editId ? \"Update Product\" : \"Add Product\"}\n//               </button>\n\n//               <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\n//                 Cancel\n//               </button>\n//             </div>\n//           </form>\n//         </div>\n//       )}\n\n//       <div style={styles.tableCard}>\n//         <div style={styles.tableHeader}>\n//           <h2 style={styles.tableTitle}>Items</h2>\n//           <span style={styles.totalCount}>Total: {filteredItems.length}</span>\n//         </div>\n\n//         <div style={styles.tableWrapper}>\n//           <table style={styles.table}>\n//             <thead>\n//               <tr>\n//                 <th style={styles.th}>\n//                   <input\n//                     type=\"checkbox\"\n//                     checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\n//                     onChange={() => {\n//                       if (selectedItems.length === filteredItems.length) setSelectedItems([]);\n//                       else setSelectedItems(filteredItems.map((x) => x._id));\n//                     }}\n//                   />\n//                 </th>\n//                 <th style={styles.th}>Sr</th>\n//                 <th style={styles.th}>Image</th>\n//                 <th style={styles.th}>Name</th>\n//                 <th style={styles.th}>Category</th>\n//                 <th style={styles.th}>Subcategory</th>\n//                 <th style={styles.th}>Base Price</th>\n//                 <th style={styles.th}>Profit/Loss</th>\n//                 <th style={styles.th}>Sale Price</th>\n//                 <th style={styles.th}>Price Lock</th>\n//                 <th style={styles.th}>Teji/Maddi</th>\n//                 <th style={styles.th}>Status</th>\n//                 <th style={styles.th}>Actions</th>\n//               </tr>\n//             </thead>\n\n//             <tbody>\n//               {currentItems.map((item, i) => (\n//                 <tr key={item._id} style={styles.tr}>\n//                   <td style={styles.td}>\n//                     <input\n//                       type=\"checkbox\"\n//                       checked={selectedItems.includes(item._id)}\n//                       onChange={() =>\n//                         setSelectedItems((prev) =>\n//                           prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]\n//                         )\n//                       }\n//                     />\n//                   </td>\n\n//                   <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\n\n//                   <td style={styles.td}>\n//                     {item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}\n//                   </td>\n\n//                   <td style={styles.td}>{item.name}</td>\n//                   <td style={styles.td}>{item.category?.name || \"-\"}</td>\n//                   {/* <td style={styles.td}>{item.subcategory?.name || \"-\"}</td> */}\n//                   <td>{item.subcategory?.name || \"-\"}</td>\n\n//                   {/* BASE PRICE - Editable */}\n//                   <td style={styles.td}>\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n//                       <input\n//                         type=\"number\"\n//                         value={quickBasePrices[item._id] !== undefined ? quickBasePrices[item._id] : item.basePrice}\n//                         onChange={(e) => setQuickBasePrices((p) => ({ ...p, [item._id]: e.target.value }))}\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\n//                       />\n//                       <button style={styles.btnSmall} onClick={() => updateBasePrice(item)}>\n//                         ‚úî\n//                       </button>\n//                     </div>\n//                     <small style={{ color: \"#28a745\", display: \"block\", marginTop: 4 }}>Saved: ‚Çπ{item.basePrice}</small>\n//                   </td>\n\n//                   {/* PROFIT/LOSS - Editable */}\n//                   <td style={styles.td}>\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n//                       <input\n//                         type=\"number\"\n//                         placeholder=\"change\"\n//                         value={quickProfitLoss[item._id] ?? \"\"}\n//                         onChange={(e) => setQuickProfitLoss((p) => ({ ...p, [item._id]: e.target.value }))}\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\n//                       />\n//                       <button style={styles.btnSmall} onClick={() => updateProfitLoss(item)}>\n//                         ‚úî\n//                       </button>\n//                     </div>\n//                     <small style={{ color: \"#666\", display: \"block\", marginTop: 4 }}>Current: {item.profitLoss}</small>\n//                   </td>\n\n//                   {/* SALE PRICE */}\n//                   <td style={styles.td}>‚Çπ{item.salePrice}</td>\n\n//                   {/* PRICE LOCK */}\n//                   <td style={styles.td}>‚Çπ{item.lockedPrice}</td>\n\n//                   {/* TEJI/MADDI */}\n//                   {/* <td style={styles.td}>\n//   {(() => {\n//     const teji = item.salePrice - item.lockedPrice;\n//     return (\n//       <span\n//         style={{\n//           color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\n//           fontWeight: \"600\",\n//         }}\n//       >\n//         {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\n//       </span>\n//     );\n//   })()}\n// </td> */}\n// <td style={styles.td}>\n//   {item.lockedPrice === 0 ? (\n//     <span style={{ color: \"#6c757d\", fontWeight: \"600\" }}>0</span>\n//   ) : (\n//     (() => {\n//       const teji = item.salePrice - item.lockedPrice;\n//       return (\n//         <span\n//           style={{\n//             color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\n//             fontWeight: \"600\",\n//           }}\n//         >\n//           {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\n//         </span>\n//       );\n//     })()\n//   )}\n// </td>\n\n//                   {/* STATUS */}\n//                   <td style={styles.td}>\n//                     <button\n//                       style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\n//                       onClick={() => handleStatusToggle(item)}\n//                     >\n//                       {item.status === \"active\" ? \"Active\" : \"Inactive\"}\n//                     </button>\n//                   </td>\n\n//                   {/* ACTIONS */}\n//                   <td style={styles.td}>\n//                     <div style={{ position: \"relative\" }}>\n//                       <button\n//                         style={styles.menuButton}\n//                         onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\n//                       >\n//                         ‚ãÆ\n//                       </button>\n\n//                       {activeMenu === item._id && (\n//                         <div style={styles.dropdown}>\n//                           {/* <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\n//                             ‚úè Edit\n//                           </button>\n//                           <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\n//                             üóë Delete\n//                           </button> */}\n//                           <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\n//   ‚úè Edit\n// </button>\n\n// <button\n//   style={styles.dropdownItem}\n//   onClick={async () => {\n//     await axios.post(`${API_URL}/copy/${item._id}`);\n//     alert(\"Copied successfully\");\n//     fetchItems();\n//   }}\n// >\n//   üìÑ Copy\n// </button>\n\n// <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\n//   üóë Delete\n// </button>\n\n//                         </div>\n//                       )}\n//                     </div>\n//                   </td>\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//         </div>\n\n//         <div style={styles.pagination}>\n//           <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\n//             Previous\n//           </button>\n\n//           {Array.from({ length: totalPages }, (_, i) => (\n//             <button\n//               key={i}\n//               style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\n//               onClick={() => setCurrentPage(i + 1)}\n//             >\n//               {i + 1}\n//             </button>\n//           ))}\n\n//           <button\n//             style={styles.paginationBtn}\n//             disabled={currentPage === totalPages}\n//             onClick={() => setCurrentPage((p) => p + 1)}\n//           >\n//             Next\n//           </button>\n//         </div>\n//       </div>\n\n//       {showModal && (\n//         <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\n//           <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\n//             <h2 style={styles.modalTitle}>‚úè Edit Product</h2>\n\n//             <form onSubmit={handleSubmit}>\n//               <div style={styles.formGrid}>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Product Name *</label>\n//                   <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Category *</label>\n//                   <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\n//                     <option value=\"\">Select Category</option>\n//                     {categories.map((c) => (\n//                       <option value={c._id} key={c._id}>\n//                         {c.name}\n//                       </option>\n//                     ))}\n//                   </select>\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Subcategory</label>\n//                   <select\n//                     name=\"subcategory\"\n//                     value={form.subcategory}\n//                     onChange={handleChange}\n//                     disabled={!subcategories.length}\n//                     style={styles.select}\n//                   >\n//                     <option value=\"\">Select Subcategory</option>\n//                     {subcategories.map((s) => (\n//                       <option value={s._id} key={s._id}>\n//                         {s.name}\n//                       </option>\n//                     ))}\n//                   </select>\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Base Price *</label>\n//                   <input\n//                     type=\"number\"\n//                     required\n//                     name=\"basePrice\"\n//                     value={form.basePrice}\n//                     onChange={handleChange}\n//                     style={styles.input}\n//                   />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Profit/Loss</label>\n//                   <input\n//                     type=\"number\"\n//                     name=\"profitLoss\"\n//                     value={form.profitLoss}\n//                     onChange={handleChange}\n//                     style={styles.input}\n//                   />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Valid Till</label>\n//                   <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Image</label>\n//                   <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Status</label>\n//                   <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\n//                     <option value=\"active\">Active</option>\n//                     <option value=\"inactive\">Inactive</option>\n//                   </select>\n//                 </div>\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Description</label>\n//                 <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\n//               </div>\n\n//               <div style={styles.formActions}>\n//                 <button style={styles.btnPrimary} disabled={loading}>\n//                   {loading ? \"Saving...\" : \"Update\"}\n//                 </button>\n\n//                 <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\n//                   Cancel\n//                 </button>\n//               </div>\n//             </form>\n//           </div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n// const styles = {\n//   container: { padding: 16, fontFamily: \"Arial, sans-serif\" },\n//   header: { marginBottom: 8 },\n//   title: {\n//     fontSize: \"24px\",\n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//     marginBottom: \"8px\",\n//   },\n//   searchInput: {\n//     flex: \"1\",\n//     minWidth: \"250px\",\n//     padding: \"10px 12px\",\n//     borderRadius: \"10px\",\n//     border: \"1px solid #ced4da\",\n//     background: \"#f9fbfc\",\n//     fontSize: \"14px\",\n//     outline: \"none\",\n//   },\n//   addButton: {\n//     background: \"#007bff\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"10px\",\n//     padding: \"10px 16px\",\n//     fontSize: \"14px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//   },\n//   select: {\n//     padding: \"8px 12px\",\n//     borderRadius: \"8px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     fontSize: \"13px\",\n//     minWidth: \"150px\",\n//   },\n//   bulkBar: {\n//     background: \"#e9f2ff\",\n//     border: \"1px solid #c4d9ff\",\n//     borderRadius: \"10px\",\n//     padding: \"12px\",\n//     marginBottom: \"12px\",\n//   },\n//   bulkPanel: {\n//     width: \"100%\",\n//     background: \"#f7faff\",\n//     border: \"1px solid #cfe2ff\",\n//     padding: \"12px\",\n//     borderRadius: \"10px\",\n//   },\n//   bulkPanelTitle: {\n//     textAlign: \"center\",\n//     fontSize: \"16px\",\n//     fontWeight: \"700\",\n//     marginBottom: \"10px\",\n//     color: \"#0d3b66\",\n//   },\n//   bulkItemBox: {\n//     background: \"#fff\",\n//     border: \"1px solid #dbe5f5\",\n//     padding: \"12px\",\n//     borderRadius: \"8px\",\n//     marginBottom: \"10px\",\n//   },\n//   bulkItemTitle: {\n//     fontSize: \"14px\",\n//     fontWeight: \"600\",\n//     marginBottom: \"8px\",\n//     color: \"#233142\",\n//   },\n//   formCard: {\n//     borderRadius: \"12px\",\n//     padding: \"20px\",\n//     marginBottom: \"18px\",\n//     background: \"#ffffff\",\n//     border: \"1px solid #eef2f7\",\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\n//   },\n//   formTitle: { \n//     fontSize: \"18px\", \n//     fontWeight: \"700\", \n//     marginBottom: 16,\n//     color: \"#0d3b66\",\n//   },\n//   formGrid: {\n//     display: \"grid\",\n//     gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\n//     gap: \"12px\",\n//   },\n//   formGroup: { \n//     display: \"flex\", \n//     flexDirection: \"column\", \n//     gap: \"6px\" \n//   },\n//   label: { \n//     fontWeight: \"600\", \n//     fontSize: \"13px\", \n//     color: \"#233142\" \n//   },\n//   input: {\n//     padding: \"10px\",\n//     borderRadius: \"8px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     fontSize: \"13px\",\n//     outline: \"none\",\n//   },\n//   textarea: {\n//     padding: \"10px\",\n//     borderRadius: \"8px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     minHeight: 80,\n//     fontSize: \"13px\",\n//     outline: \"none\",\n//     resize: \"vertical\",\n//   },\n//   fileInput: { \n//     padding: \"6px\",\n//     fontSize: \"13px\",\n//   },\n//   formActions: { \n//     marginTop: 16, \n//     display: \"flex\", \n//     gap: 10 \n//   },\n//   btnPrimary: {\n//     background: \"#007bff\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"8px\",\n//     padding: \"10px 20px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//   },\n//   btnSmall: {\n//     background: \"#28a745\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"6px\",\n//     padding: \"6px 12px\",\n//     cursor: \"pointer\",\n//     fontSize: \"12px\",\n//     fontWeight: \"600\",\n//   },\n//   btnDelete: {\n//     background: \"#dc3545\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"8px\",\n//     padding: \"8px 14px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//   },\n//   btnCancel: {\n//     background: \"#6c757d\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"8px\",\n//     padding: \"10px 20px\",\n//     cursor: \"pointer\",\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//   },\n//   tableCard: { \n//     marginTop: 16,\n//     background: \"#fff\",\n//     borderRadius: \"12px\",\n//     padding: \"16px\",\n//     border: \"1px solid #eef2f7\",\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\n//   },\n//   tableHeader: { \n//     display: \"flex\", \n//     justifyContent: \"space-between\", \n//     marginBottom: 12,\n//     alignItems: \"center\",\n//   },\n//   tableTitle: { \n//     fontSize: \"18px\", \n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//   },\n//   totalCount: { \n//     fontSize: \"14px\", \n//     color: \"#6c757d\", \n//     fontWeight: \"600\" \n//   },\n//   tableWrapper: { \n//     overflowX: \"auto\",\n//     border: \"1px solid #e9ecef\",\n//     borderRadius: \"8px\",\n//   },\n//   table: { \n//     width: \"100%\", \n//     borderCollapse: \"collapse\", \n//     fontSize: \"13px\" \n//   },\n//   th: { \n//     background: \"#f8f9fa\", \n//     padding: \"12px 10px\", \n//     fontWeight: \"700\", \n//     color: \"#0d3b66\", \n//     textAlign: \"left\",\n//     borderBottom: \"2px solid #dee2e6\",\n//     whiteSpace: \"nowrap\",\n//   },\n//   tr: { \n//     borderBottom: \"1px solid #edf2f7\",\n//     transition: \"background 0.2s\",\n//   },\n//   td: { \n//     padding: \"12px 10px\", \n//     whiteSpace: \"nowrap\", \n//     verticalAlign: \"middle\" \n//   },\n//   tableImg: { \n//     width: \"50px\", \n//     height: \"50px\", \n//     borderRadius: \"6px\", \n//     objectFit: \"cover\" \n//   },\n//   statusActive: { \n//     background: \"#d4edda\", \n//     padding: \"6px 12px\", \n//     borderRadius: \"6px\", \n//     color: \"#155724\", \n//     fontWeight: \"600\", \n//     border: \"1px solid #c3e6cb\", \n//     cursor: \"pointer\",\n//     fontSize: \"12px\",\n//   },\n//   statusInactive: { \n//     background: \"#f8d7da\", \n//     padding: \"6px 12px\", \n//     borderRadius: \"6px\", \n//     color: \"#721c24\", \n//     fontWeight: \"600\", \n//     border: \"1px solid #f5c6cb\", \n//     cursor: \"pointer\",\n//     fontSize: \"12px\",\n//   },\n//   menuButton: { \n//     background: \"#f0f0f0\", \n//     border: \"1px solid #ddd\", \n//     borderRadius: \"6px\", \n//     padding: \"6px 10px\", \n//     fontSize: \"16px\", \n//     cursor: \"pointer\",\n//     fontWeight: \"700\",\n//   },\n//   dropdown: { \n//     position: \"absolute\", \n//     right: 0, \n//     top: 36, \n//     background: \"#fff\", \n//     border: \"1px solid #ddd\", \n//     borderRadius: 8, \n//     zIndex: 100, \n//     minWidth: 140,\n//     boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n//   },\n//   dropdownItem: { \n//     display: \"block\", \n//     width: \"100%\", \n//     padding: \"10px 14px\", \n//     background: \"transparent\", \n//     border: \"none\", \n//     textAlign: \"left\", \n//     cursor: \"pointer\", \n//     fontSize: 13, \n//     fontWeight: 500,\n//     transition: \"background 0.2s\",\n//   },\n//   dropdownItemDelete: { \n//     display: \"block\", \n//     width: \"100%\", \n//     padding: \"10px 14px\", \n//     background: \"transparent\", \n//     border: \"none\", \n//     textAlign: \"left\", \n//     cursor: \"pointer\", \n//     fontSize: 13, \n//     fontWeight: 500, \n//     color: \"#dc3545\",\n//     transition: \"background 0.2s\",\n//   },\n//   pagination: { \n//     marginTop: 16, \n//     display: \"flex\", \n//     justifyContent: \"center\", \n//     gap: 8,\n//     flexWrap: \"wrap\",\n//   },\n//   paginationBtn: { \n//     padding: \"8px 12px\", \n//     borderRadius: 6, \n//     background: \"#fff\", \n//     border: \"1px solid #dee2e6\", \n//     cursor: \"pointer\",\n//     fontSize: \"13px\",\n//     fontWeight: \"500\",\n//   },\n//   paginationBtnActive: { \n//     padding: \"8px 12px\", \n//     borderRadius: 6, \n//     background: \"#007bff\", \n//     color: \"white\", \n//     border: \"1px solid #007bff\", \n//     cursor: \"pointer\",\n//     fontSize: \"13px\",\n//     fontWeight: \"600\",\n//   },\n//   modalOverlay: { \n//     position: \"fixed\", \n//     top: 0, \n//     left: 0, \n//     right: 0, \n//     bottom: 0, \n//     background: \"rgba(0,0,0,0.5)\", \n//     display: \"flex\", \n//     justifyContent: \"center\", \n//     alignItems: \"center\", \n//     zIndex: 1000, \n//     padding: 20 \n//   },\n//   modal: { \n//     background: \"#fff\", \n//     borderRadius: 12, \n//     padding: 24, \n//     maxWidth: 700, \n//     width: \"100%\", \n//     maxHeight: \"90vh\", \n//     overflowY: \"auto\",\n//     boxShadow: \"0 8px 32px rgba(0,0,0,0.2)\",\n//   },\n//   modalTitle: { \n//     fontSize: 20, \n//     fontWeight: \"700\", \n//     color: \"#0d3b66\", \n//     marginBottom: 16, \n//     textAlign: \"center\" \n//   },\n// }\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./PriceList.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\nconst CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\nexport default function PriceList() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [subcategories, setSubcategories] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [form, setForm] = useState({\n    name: \"\",\n    category: \"\",\n    subcategory: \"\",\n    description: \"\",\n    basePrice: \"\",\n    profitLoss: \"\",\n    validTill: \"\",\n    file: null,\n    status: \"inactive\"\n  });\n  const [editId, setEditId] = useState(null);\n  const [showForm, setShowForm] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [activeMenu, setActiveMenu] = useState(null);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [bulkMode, setBulkMode] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 30;\n  const [filterCategory, setFilterCategory] = useState(\"\");\n  const [filterSubcategory, setFilterSubcategory] = useState(\"\");\n  const [filterSubs, setFilterSubs] = useState([]);\n\n  // Quick edit states for inline editing\n  const [quickBasePrices, setQuickBasePrices] = useState({});\n  const [quickProfitLoss, setQuickProfitLoss] = useState({});\n\n  // NEW: sort state\n  const [sortOrder, setSortOrder] = useState(\"\");\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n  useEffect(() => {\n    if (categories.length > 0) fetchItems();\n  }, [categories]);\n  useEffect(() => {\n    if (!filterCategory) {\n      setFilterSubs([]);\n      setFilterSubcategory(\"\");\n      return;\n    }\n    const cat = categories.find(c => c._id === filterCategory);\n    setFilterSubs((cat === null || cat === void 0 ? void 0 : cat.subcategories) || []);\n    setFilterSubcategory(\"\");\n  }, [filterCategory, categories]);\n  useEffect(() => {\n    if (!form.category) {\n      setSubcategories([]);\n      setForm(prev => ({\n        ...prev,\n        subcategory: \"\"\n      }));\n      return;\n    }\n    const cat = categories.find(c => c._id === form.category);\n    setSubcategories((cat === null || cat === void 0 ? void 0 : cat.subcategories) || []);\n  }, [form.category, categories]);\n  const fetchCategories = async () => {\n    try {\n      var _res$data;\n      const res = await axios.get(CATEGORY_URL);\n      if ((_res$data = res.data) !== null && _res$data !== void 0 && _res$data.success) setCategories(res.data.categories || []);\n    } catch (err) {\n      console.error(\"Fetch categories error\", err);\n      alert(\"Could not fetch categories\");\n    }\n  };\n  const fetchItems = async () => {\n    try {\n      var _res$data2;\n      setLoading(true);\n      const res = await axios.get(API_URL);\n      if ((_res$data2 = res.data) !== null && _res$data2 !== void 0 && _res$data2.success) {\n        const raw = res.data.data || [];\n        const enriched = raw.map(item => {\n          var _item$subcategory3;\n          // normalize category/subcategory\n          const catObj = categories.find(c => {\n            var _item$category;\n            return c._id === (((_item$category = item.category) === null || _item$category === void 0 ? void 0 : _item$category._id) || item.category);\n          });\n          let subObj = null;\n          if (catObj !== null && catObj !== void 0 && catObj.subcategories && item.subcategory) {\n            var _item$subcategory, _item$subcategory2;\n            // item.subcategory may be an object with id or an id string\n            const subId = ((_item$subcategory = item.subcategory) === null || _item$subcategory === void 0 ? void 0 : _item$subcategory.id) || ((_item$subcategory2 = item.subcategory) === null || _item$subcategory2 === void 0 ? void 0 : _item$subcategory2._id) || item.subcategory;\n            subObj = catObj.subcategories.find(s => s._id === subId) || null;\n          }\n          return {\n            ...item,\n            // ensure numeric fields aren't undefined\n            basePrice: Number(item.basePrice || 0),\n            profitLoss: Number(item.profitLoss || 0),\n            salePrice: Number(item.salePrice || 0),\n            lockedPrice: Number(item.lockedPrice || 0),\n            yesterdayLock: Number(item.yesterdayLock || 0),\n            brokerDisplay: Number(item.brokerDisplay || 0),\n            category: catObj ? {\n              _id: catObj._id,\n              name: catObj.name\n            } : item.category || null,\n            subcategory: subObj ? {\n              _id: subObj._id,\n              name: subObj.name\n            } : (_item$subcategory3 = item.subcategory) !== null && _item$subcategory3 !== void 0 && _item$subcategory3.id ? {\n              _id: item.subcategory.id,\n              name: item.subcategory.name\n            } : item.subcategory || null\n          };\n        });\n\n        // setItems(enriched);\n        setItems(enriched.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)));\n      }\n    } catch (err) {\n      console.error(\"Fetch items error\", err);\n      alert(\"Could not fetch items\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (files !== null && files !== void 0 && files.length) {\n      setForm(p => ({\n        ...p,\n        file: files[0]\n      }));\n    } else {\n      setForm(p => ({\n        ...p,\n        [name]: value\n      }));\n    }\n  };\n\n  //   const handleSubmit = async (e) => {\n  //     e.preventDefault();\n  //     setLoading(true);\n\n  //     try {\n  //       // üõë Duplicate product name check\n  // const nameExists = items.some(\n  //   (p) =>\n  //     p.name.trim().toLowerCase() === form.name.trim().toLowerCase() &&\n  //     p._id !== editId\n  // );\n\n  // if (nameExists) {\n  //   alert(\"‚ùå Product name already exists!\");\n  //   setLoading(false);\n  //   return;\n  // }\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n\n    // üõë Duplicate product name check (PASTE HERE)\n    const nameExists = items.some(p => p.name.trim().toLowerCase() === form.name.trim().toLowerCase() && p._id !== editId);\n    if (nameExists) {\n      alert(\"‚ùå Product name already exists!\");\n      setLoading(false);\n      return;\n    }\n    try {\n      if (!form.name || !form.category || !form.basePrice) {\n        alert(\"Name, category & base price are required\");\n        setLoading(false);\n        return;\n      }\n      const fd = new FormData();\n      fd.append(\"name\", form.name.trim());\n      fd.append(\"category\", form.category);\n\n      // if (form.subcategory) {\n      //   const sub = subcategories.find((s) => s._id === form.subcategory);\n      //   if (sub) {\n      //     fd.append(\"subcategory[id]\", sub._id);\n      //     fd.append(\"subcategory[name]\", sub.name);\n      //     fd.append(\"subcategory[image]\", sub.image || \"\");\n      //   }\n      // }\n      if (form.subcategory) {\n        const sub = subcategories.find(s => s._id === form.subcategory);\n        if (sub) {\n          fd.append(\"subcategory\", JSON.stringify({\n            id: sub._id,\n            name: sub.name,\n            image: sub.image || \"\"\n          }));\n        }\n      } else {\n        fd.append(\"subcategory\", JSON.stringify(null));\n      }\n      fd.append(\"basePrice\", form.basePrice);\n      fd.append(\"profitLoss\", form.profitLoss || 0);\n      if (form.description) fd.append(\"description\", form.description);\n      if (form.validTill) fd.append(\"validTill\", form.validTill);\n      fd.append(\"status\", form.status);\n      if (form.file) fd.append(\"file\", form.file);\n      if (editId) {\n        await axios.put(`${API_URL}/${editId}`, fd);\n        alert(\"Updated successfully\");\n      } else {\n        await axios.post(API_URL, fd);\n        alert(\"Added successfully\");\n      }\n      await fetchItems();\n      resetForm();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Save error\", err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) === \"Product name already exists\") {\n        alert(\"‚ùå Product name already exists!\");\n      } else {\n        alert(\"Save failed!\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const resetForm = () => {\n    setForm({\n      name: \"\",\n      category: \"\",\n      subcategory: \"\",\n      description: \"\",\n      basePrice: \"\",\n      profitLoss: \"\",\n      validTill: \"\",\n      file: null,\n      status: \"inactive\"\n    });\n    setEditId(null);\n    setShowModal(false);\n    setShowForm(false);\n  };\n  const handleEdit = item => {\n    var _item$category2, _item$category2$_id, _item$subcategory4;\n    setForm({\n      name: item.name || \"\",\n      category: ((_item$category2 = item.category) === null || _item$category2 === void 0 ? void 0 : (_item$category2$_id = _item$category2._id) === null || _item$category2$_id === void 0 ? void 0 : _item$category2$_id.toString()) || \"\",\n      subcategory: ((_item$subcategory4 = item.subcategory) === null || _item$subcategory4 === void 0 ? void 0 : _item$subcategory4._id) || \"\",\n      description: item.description || \"\",\n      basePrice: item.basePrice || \"\",\n      profitLoss: item.profitLoss || 0,\n      validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\n      file: null,\n      status: item.status || \"inactive\"\n    });\n    const cat = categories.find(c => {\n      var _item$category3;\n      return c._id === ((_item$category3 = item.category) === null || _item$category3 === void 0 ? void 0 : _item$category3._id);\n    });\n    setSubcategories((cat === null || cat === void 0 ? void 0 : cat.subcategories) || []);\n    setEditId(item._id);\n    setShowModal(true);\n    setActiveMenu(null);\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Delete this item?\")) return;\n    try {\n      await axios.delete(`${API_URL}/${id}`);\n      setItems(prev => prev.filter(x => x._id !== id));\n      setSelectedItems(prev => prev.filter(x => x !== id));\n      setActiveMenu(null);\n    } catch (err) {\n      console.error(\"Delete error\", err);\n      alert(\"Delete failed\");\n    }\n  };\n  const handleStatusToggle = async item => {\n    try {\n      const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\n      await axios.put(`${API_URL}/status/${item._id}`, {\n        status: newStatus\n      });\n      setItems(prev => prev.map(x => x._id === item._id ? {\n        ...x,\n        status: newStatus\n      } : x));\n    } catch (err) {\n      console.error(\"Status toggle error\", err);\n      alert(\"Status update failed\");\n    }\n  };\n  const updateLocalItemField = (id, key, value) => {\n    setItems(prev => prev.map(x => x._id === id ? {\n      ...x,\n      [key]: value\n    } : x));\n  };\n  const handleBulkSave = async () => {\n    if (!selectedItems.length) return alert(\"No items selected\");\n    const updates = items.filter(x => selectedItems.includes(x._id)).map(x => ({\n      id: x._id,\n      basePrice: Number(x.basePrice),\n      profitLoss: Number(x.profitLoss),\n      status: x.status\n    }));\n    try {\n      await axios.post(`${API_URL}/bulk-update`, {\n        products: updates\n      });\n      alert(\"Bulk save successful\");\n      setBulkMode(false);\n      setSelectedItems([]);\n      fetchItems();\n    } catch (err) {\n      console.error(\"Bulk save error\", err);\n      alert(\"Bulk save failed\");\n    }\n  };\n  const handleBulkDelete = async () => {\n    if (!selectedItems.length) return alert(\"No items selected\");\n    if (!window.confirm(\"Delete selected items?\")) return;\n    try {\n      await Promise.all(selectedItems.map(id => axios.delete(`${API_URL}/${id}`)));\n      setSelectedItems([]);\n      fetchItems();\n      setBulkMode(false);\n    } catch (err) {\n      console.error(\"Bulk delete error\", err);\n      alert(\"Bulk delete failed\");\n    }\n  };\n\n  // Update Base Price inline\n  const updateBasePrice = async item => {\n    var _quickBasePrices$item;\n    const newBase = Number((_quickBasePrices$item = quickBasePrices[item._id]) !== null && _quickBasePrices$item !== void 0 ? _quickBasePrices$item : item.basePrice);\n    if (isNaN(newBase)) return alert(\"Invalid Base Price\");\n    try {\n      var _item$category4, _item$subcategory5;\n      setLoading(true);\n      const fd = new FormData();\n      fd.append(\"name\", item.name);\n      fd.append(\"category\", (_item$category4 = item.category) === null || _item$category4 === void 0 ? void 0 : _item$category4._id);\n      if ((_item$subcategory5 = item.subcategory) !== null && _item$subcategory5 !== void 0 && _item$subcategory5.id) fd.append(\"subcategory\", item.subcategory.id);\n      fd.append(\"description\", item.description || \"\");\n      fd.append(\"basePrice\", newBase);\n      fd.append(\"profitLoss\", item.profitLoss);\n      fd.append(\"status\", item.status);\n      const res = await axios.put(`${API_URL}/${item._id}`, fd);\n      if (res.data.success) {\n        await fetchItems();\n        setQuickBasePrices(p => ({\n          ...p,\n          [item._id]: undefined\n        }));\n        alert(\"Base price updated\");\n      }\n    } catch (err) {\n      console.error(err);\n      alert(\"Update failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update Profit/Loss inline using updateDiff\n  const updateProfitLoss = async item => {\n    var _quickProfitLoss$item;\n    const diff = Number((_quickProfitLoss$item = quickProfitLoss[item._id]) !== null && _quickProfitLoss$item !== void 0 ? _quickProfitLoss$item : 0);\n    if (isNaN(diff)) return alert(\"Invalid Profit/Loss\");\n    try {\n      setLoading(true);\n      const res = await axios.put(`${API_URL}/updateDiff/${item._id}`, {\n        diff\n      });\n      if (res.data.success) {\n        await fetchItems();\n        setQuickProfitLoss(p => ({\n          ...p,\n          [item._id]: undefined\n        }));\n        alert(\"Profit/Loss updated\");\n      }\n    } catch (err) {\n      console.error(err);\n      alert(\"Update failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Filtering\n  const filteredItems = items.filter(item => {\n    var _item$category5, _item$subcategory6, _item$category6, _item$subcategory7;\n    const t = search.toLowerCase();\n    const matchText = (item.name || \"\").toLowerCase().includes(t) || (((_item$category5 = item.category) === null || _item$category5 === void 0 ? void 0 : _item$category5.name) || \"\").toLowerCase().includes(t) || (((_item$subcategory6 = item.subcategory) === null || _item$subcategory6 === void 0 ? void 0 : _item$subcategory6.name) || \"\").toLowerCase().includes(t);\n    const matchCategory = !filterCategory || ((_item$category6 = item.category) === null || _item$category6 === void 0 ? void 0 : _item$category6._id) === filterCategory;\n    const matchSub = !filterSubcategory || ((_item$subcategory7 = item.subcategory) === null || _item$subcategory7 === void 0 ? void 0 : _item$subcategory7._id) === filterSubcategory;\n    return matchText && matchCategory && matchSub;\n  });\n\n  // NEW: SORTING\n  let sortedItems = [...filteredItems];\n  if (sortOrder === \"low\") {\n    sortedItems.sort((a, b) => (Number(a.salePrice) || 0) - (Number(b.salePrice) || 0));\n  } else if (sortOrder === \"high\") {\n    sortedItems.sort((a, b) => (Number(b.salePrice) || 0) - (Number(a.salePrice) || 0));\n  }\n  const indexOfLast = currentPage * itemsPerPage;\n  const currentItems = sortedItems.slice(indexOfLast - itemsPerPage, indexOfLast);\n  const totalPages = Math.max(1, Math.ceil(sortedItems.length / itemsPerPage));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: styles.title,\n        children: \"Product Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1776,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1775,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12,\n        display: \"flex\",\n        gap: 12,\n        flexWrap: \"wrap\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search product, category or subcategory...\",\n        value: search,\n        onChange: e => {\n          setSearch(e.target.value);\n          setCurrentPage(1);\n        },\n        style: styles.searchInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1780,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: styles.addButton,\n        onClick: () => {\n          setShowForm(!showForm);\n          setEditId(null);\n        },\n        children: showForm ? \"‚úñ Close\" : \"‚ûï Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1804,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1779,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        marginBottom: 12,\n        flexWrap: \"wrap\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        style: styles.exportButton,\n        onClick: () => window.open(`${API_URL}/export`, \"_blank\"),\n        children: \"\\u2B07 Export CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1816,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          cursor: \"pointer\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".csv\",\n          style: {\n            display: \"none\"\n          },\n          onChange: async e => {\n            try {\n              const fd = new FormData();\n              fd.append(\"file\", e.target.files[0]);\n              await axios.post(`${API_URL}/import`, fd);\n              alert(\"Imported successfully\");\n              fetchItems();\n            } catch (err) {\n              alert(\"Import failed\");\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1824,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.importButton,\n          children: \"\\uD83D\\uDCE4 Import CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1840,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1823,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1815,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 10,\n        marginBottom: 12,\n        flexWrap: \"wrap\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: filterCategory,\n        onChange: e => setFilterCategory(e.target.value),\n        style: styles.select,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Filter by Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1850,\n          columnNumber: 11\n        }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c._id,\n          children: c.name\n        }, c._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1852,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1845,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: filterSubcategory,\n        onChange: e => setFilterSubcategory(e.target.value),\n        disabled: !filterSubs.length,\n        style: styles.select,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Filter by Subcategory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1864,\n          columnNumber: 11\n        }, this), filterSubs.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: s._id,\n          children: s.name\n        }, s._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1866,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1858,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1844,\n      columnNumber: 7\n    }, this), selectedItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.bulkBar,\n      children: !bulkMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.btnDelete,\n          onClick: handleBulkDelete,\n          children: \"\\uD83D\\uDDD1 Bulk Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1877,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.btnPrimary,\n          onClick: () => setBulkMode(true),\n          children: \"\\u270F Bulk Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1880,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1876,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.bulkPanel,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.bulkPanelTitle,\n          children: \"\\u270F Bulk Edit Selected Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1886,\n          columnNumber: 15\n        }, this), items.filter(item => selectedItems.includes(item._id)).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.bulkItemBox,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: styles.bulkItemTitle,\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1892,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGrid,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Base Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1896,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: item.basePrice,\n                onChange: e => updateLocalItemField(item._id, \"basePrice\", Number(e.target.value)),\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1897,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1895,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Profit/Loss\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1906,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: item.profitLoss,\n                onChange: e => updateLocalItemField(item._id, \"profitLoss\", Number(e.target.value)),\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1907,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1905,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1916,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: item.status,\n                onChange: e => updateLocalItemField(item._id, \"status\", e.target.value),\n                style: styles.select,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"active\",\n                  children: \"active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1922,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"inactive\",\n                  children: \"inactive\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1923,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1917,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1915,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1894,\n            columnNumber: 21\n          }, this)]\n        }, item._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1891,\n          columnNumber: 19\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 10,\n            marginTop: 12,\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnPrimary,\n            onClick: handleBulkSave,\n            children: \"\\u2714 Save All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1931,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnPrimary,\n            onClick: async () => {\n              if (!selectedItems.length) return alert(\"No items selected\");\n              for (let id of selectedItems) await axios.post(`${API_URL}/copy/${id}`);\n              alert(\"Selected copied\");\n              fetchItems();\n            },\n            children: \"\\uD83D\\uDCC4 Copy Selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1935,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnPrimary,\n            onClick: async () => {\n              if (!selectedItems.length) return alert(\"No items selected\");\n              const res = await axios.post(`${API_URL}/export-selected`, {\n                ids: selectedItems\n              }, {\n                responseType: \"blob\"\n              });\n              const url = window.URL.createObjectURL(new Blob([res.data]));\n              const a = document.createElement(\"a\");\n              a.href = url;\n              a.download = \"selected.csv\";\n              a.click();\n            },\n            children: \"\\u2B07 Export Selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1949,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnCancel,\n            onClick: () => setBulkMode(false),\n            children: \"\\u2716 Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1970,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1930,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1885,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1874,\n      columnNumber: 9\n    }, this), showForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.formCard,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: styles.formTitle,\n        children: \"\\u2795 Add / Edit Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1981,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGrid,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Product Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1986,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              name: \"name\",\n              value: form.name,\n              onChange: handleChange,\n              style: styles.input\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1987,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1985,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Category *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1991,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              required: true,\n              name: \"category\",\n              value: form.category,\n              onChange: handleChange,\n              style: styles.select,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1993,\n                columnNumber: 19\n              }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: c._id,\n                children: c.name\n              }, c._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1995,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1992,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1990,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Subcategory\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2003,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"subcategory\",\n              value: form.subcategory,\n              onChange: handleChange,\n              disabled: !subcategories.length,\n              style: styles.select,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Subcategory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2011,\n                columnNumber: 19\n              }, this), subcategories.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: s._id,\n                children: s.name\n              }, s._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2013,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2004,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2002,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Base Price *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2021,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              required: true,\n              name: \"basePrice\",\n              value: form.basePrice,\n              onChange: handleChange,\n              style: styles.input\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2022,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2020,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Profit/Loss\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2033,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"profitLoss\",\n              value: form.profitLoss,\n              onChange: handleChange,\n              style: styles.input\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2034,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2032,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Valid Till\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2044,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"validTill\",\n              value: form.validTill,\n              onChange: handleChange,\n              style: styles.input\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2045,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2043,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2049,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleChange,\n              style: styles.fileInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2050,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2048,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2054,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"status\",\n              value: form.status,\n              onChange: handleChange,\n              style: styles.select,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"active\",\n                children: \"Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2056,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"inactive\",\n                children: \"Inactive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2057,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2055,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2053,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1984,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formGroup,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: styles.label,\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2063,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            value: form.description,\n            onChange: handleChange,\n            style: styles.textarea\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2064,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2062,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.formActions,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnPrimary,\n            disabled: loading,\n            children: loading ? \"Saving...\" : editId ? \"Update Product\" : \"Add Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2068,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            style: styles.btnCancel,\n            onClick: resetForm,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2072,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2067,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1983,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1980,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.tableCard,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.tableHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.tableTitle,\n          children: \"Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2082,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.totalCount,\n          children: [\"Total: \", filteredItems.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2083,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2081,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.tableWrapper,\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: styles.table,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedItems.length === filteredItems.length && filteredItems.length > 0,\n                  onChange: () => {\n                    if (selectedItems.length === filteredItems.length) setSelectedItems([]);else setSelectedItems(filteredItems.map(x => x._id));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2091,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2090,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Sr\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2101,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Subcategory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Base Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Profit/Loss\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Sale Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Price Lock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2108,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Teji/Maddi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2111,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2089,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2088,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: currentItems.map((item, i) => {\n              var _item$category7, _item$subcategory8, _quickProfitLoss$item2;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: styles.tr,\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: selectedItems.includes(item._id),\n                    onChange: () => setSelectedItems(prev => prev.includes(item._id) ? prev.filter(x => x !== item._id) : [...prev, item._id])\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2119,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2118,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: (currentPage - 1) * itemsPerPage + (i + 1)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2130,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.image,\n                    style: styles.tableImg,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2133,\n                    columnNumber: 35\n                  }, this) : \"No Img\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2136,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: ((_item$category7 = item.category) === null || _item$category7 === void 0 ? void 0 : _item$category7.name) || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2137,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: ((_item$subcategory8 = item.subcategory) === null || _item$subcategory8 === void 0 ? void 0 : _item$subcategory8.name) || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2138,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      gap: 8,\n                      alignItems: \"center\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: quickBasePrices[item._id] !== undefined ? quickBasePrices[item._id] : item.basePrice,\n                      onChange: e => setQuickBasePrices(p => ({\n                        ...p,\n                        [item._id]: e.target.value\n                      })),\n                      style: {\n                        ...styles.input,\n                        padding: \"6px 8px\",\n                        width: 80\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2143,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: styles.btnSmall,\n                      onClick: () => updateBasePrice(item),\n                      children: \"\\u2714\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2149,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2142,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: \"#28a745\",\n                      display: \"block\",\n                      marginTop: 4\n                    },\n                    children: [\"Saved: \\u20B9\", item.basePrice]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2153,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2141,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      gap: 8,\n                      alignItems: \"center\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      placeholder: \"change\",\n                      value: (_quickProfitLoss$item2 = quickProfitLoss[item._id]) !== null && _quickProfitLoss$item2 !== void 0 ? _quickProfitLoss$item2 : \"\",\n                      onChange: e => setQuickProfitLoss(p => ({\n                        ...p,\n                        [item._id]: e.target.value\n                      })),\n                      style: {\n                        ...styles.input,\n                        padding: \"6px 8px\",\n                        width: 80\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2159,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      style: styles.btnSmall,\n                      onClick: () => updateProfitLoss(item),\n                      children: \"\\u2714\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2166,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2158,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: \"#666\",\n                      display: \"block\",\n                      marginTop: 4\n                    },\n                    children: [\"Current: \", item.profitLoss]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2170,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2157,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: [\"\\u20B9\", item.salePrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2174,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: [\"\\u20B9\", item.lockedPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.lockedPrice === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"#6c757d\",\n                      fontWeight: \"600\"\n                    },\n                    children: \"0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2182,\n                    columnNumber: 23\n                  }, this) : (() => {\n                    const teji = item.salePrice - item.lockedPrice;\n                    return /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\n                        fontWeight: \"600\"\n                      },\n                      children: [teji >= 0 ? \"‚ñ≤\" : \"‚ñº\", \" \", Math.abs(teji)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2187,\n                      columnNumber: 27\n                    }, this);\n                  })()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: item.status === \"active\" ? styles.statusActive : styles.statusInactive,\n                    onClick: () => handleStatusToggle(item),\n                    children: item.status === \"active\" ? \"Active\" : \"Inactive\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2202,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2201,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      position: \"relative\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      style: styles.menuButton,\n                      onClick: () => setActiveMenu(activeMenu === item._id ? null : item._id),\n                      children: \"\\u22EE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2213,\n                      columnNumber: 23\n                    }, this), activeMenu === item._id && /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: styles.dropdown,\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        style: styles.dropdownItem,\n                        onClick: () => handleEdit(item),\n                        children: \"\\u270F Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2222,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        style: styles.dropdownItem,\n                        onClick: async () => {\n                          await axios.post(`${API_URL}/copy/${item._id}`);\n                          alert(\"Copied successfully\");\n                          fetchItems();\n                        },\n                        children: \"\\uD83D\\uDCC4 Copy\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2226,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        style: styles.dropdownItemDelete,\n                        onClick: () => handleDelete(item._id),\n                        children: \"\\uD83D\\uDDD1 Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2237,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2221,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2212,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2211,\n                  columnNumber: 19\n                }, this)]\n              }, item._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2117,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2087,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2086,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.pagination,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.paginationBtn,\n          disabled: currentPage === 1,\n          onClick: () => setCurrentPage(p => p - 1),\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2251,\n          columnNumber: 11\n        }, this), Array.from({\n          length: totalPages\n        }, (_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n          style: i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn,\n          onClick: () => setCurrentPage(i + 1),\n          children: i + 1\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2256,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.paginationBtn,\n          disabled: currentPage === totalPages,\n          onClick: () => setCurrentPage(p => p + 1),\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2080,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.modalOverlay,\n      onClick: () => setShowModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modal,\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.modalTitle,\n          children: \"\\u270F Edit Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2278,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGrid,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Product Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2283,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                required: true,\n                name: \"name\",\n                value: form.name,\n                onChange: handleChange,\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2284,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2282,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Category *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2288,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                required: true,\n                name: \"category\",\n                value: form.category,\n                onChange: handleChange,\n                style: styles.select,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2290,\n                  columnNumber: 21\n                }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: c._id,\n                  children: c.name\n                }, c._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2292,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2289,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Subcategory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2300,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"subcategory\",\n                value: form.subcategory,\n                onChange: handleChange,\n                disabled: !subcategories.length,\n                style: styles.select,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Subcategory\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2308,\n                  columnNumber: 21\n                }, this), subcategories.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: s._id,\n                  children: s.name\n                }, s._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2310,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2301,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2299,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Base Price *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2318,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                required: true,\n                name: \"basePrice\",\n                value: form.basePrice,\n                onChange: handleChange,\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2319,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Profit/Loss\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2330,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"profitLoss\",\n                value: form.profitLoss,\n                onChange: handleChange,\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2331,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Valid Till\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"validTill\",\n                value: form.validTill,\n                onChange: handleChange,\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2340,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2346,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleChange,\n                style: styles.fileInput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2347,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2345,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2351,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"status\",\n                value: form.status,\n                onChange: handleChange,\n                style: styles.select,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"active\",\n                  children: \"Active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2353,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"inactive\",\n                  children: \"Inactive\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2354,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2352,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2350,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2281,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2360,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              value: form.description,\n              onChange: handleChange,\n              style: styles.textarea\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2361,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formActions,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.btnPrimary,\n              disabled: loading,\n              children: loading ? \"Saving...\" : \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2365,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              style: styles.btnCancel,\n              onClick: resetForm,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2369,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2364,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2280,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2277,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2276,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1774,\n    columnNumber: 5\n  }, this);\n}\n_s(PriceList, \"1/Ucom2LFcizZO+fNORjbie/sI4=\");\n_c = PriceList;\nconst styles = {\n  container: {\n    fontFamily: \"Inter, Arial, sans-serif\",\n    background: \"#f6f8fa\",\n    minHeight: \"100vh\"\n  },\n  header: {\n    marginBottom: 8\n  },\n  title: {\n    fontSize: \"22px\",\n    fontWeight: 800,\n    color: \"#0f1724\",\n    marginBottom: \"8px\"\n  },\n  searchInput: {\n    flex: \"1\",\n    minWidth: \"260px\",\n    padding: \"12px 14px\",\n    borderRadius: \"12px\",\n    border: \"1px solid #e2e8f0\",\n    background: \"#fff\",\n    fontSize: \"14px\",\n    outline: \"none\",\n    boxShadow: \"0 1px 2px rgba(16,24,40,0.03)\"\n  },\n  addButton: {\n    background: \"#ff0b0bff\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"10px\",\n    padding: \"10px 16px\",\n    fontSize: \"14px\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    boxShadow: \"0 6px 18px rgba(11,105,255,0.12)\"\n  },\n  exportButton: {\n    background: \"#fff\",\n    color: \"#0f1724\",\n    border: \"1px solid #e6eefc\",\n    borderRadius: 10,\n    padding: \"8px 12px\",\n    cursor: \"pointer\",\n    fontWeight: 700\n  },\n  importButton: {\n    background: \"#fff\",\n    color: \"#0f1724\",\n    border: \"1px solid #e6eefc\",\n    borderRadius: 10,\n    padding: \"8px 12px\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    marginLeft: 8\n  },\n  select: {\n    padding: \"10px 12px\",\n    borderRadius: \"10px\",\n    border: \"1px solid #e2e8f0\",\n    background: \"#fff\",\n    fontSize: \"13px\",\n    minWidth: \"160px\"\n  },\n  sortSelect: {\n    padding: \"10px 12px\",\n    borderRadius: \"10px\",\n    border: \"1px solid #dbeafe\",\n    background: \"#f8fbff\",\n    fontSize: \"13px\",\n    minWidth: \"170px\",\n    fontWeight: 700,\n    color: \"#0f1724\"\n  },\n  smallLabel: {\n    fontSize: 12,\n    color: \"#475569\",\n    fontWeight: 700,\n    marginRight: 6\n  },\n  bulkBar: {\n    background: \"#eef2ff\",\n    border: \"1px solid #dbeafe\",\n    borderRadius: \"10px\",\n    padding: \"12px\",\n    marginBottom: \"12px\"\n  },\n  bulkPanel: {\n    width: \"100%\",\n    background: \"#fff\",\n    border: \"1px solid #eef2ff\",\n    padding: \"12px\",\n    borderRadius: \"10px\"\n  },\n  bulkPanelTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: 700,\n    marginBottom: \"10px\",\n    color: \"#0f1724\"\n  },\n  bulkItemBox: {\n    background: \"#ffffff\",\n    border: \"1px solid #eef2ff\",\n    padding: \"12px\",\n    borderRadius: \"8px\",\n    marginBottom: \"10px\"\n  },\n  bulkItemTitle: {\n    fontSize: \"14px\",\n    fontWeight: 700,\n    marginBottom: \"8px\",\n    color: \"#0f1724\"\n  },\n  formCard: {\n    borderRadius: \"12px\",\n    padding: \"18px\",\n    marginBottom: \"18px\",\n    background: \"#fff\",\n    border: \"1px solid #eef2ff\",\n    boxShadow: \"0 4px 16px rgba(2,6,23,0.04)\"\n  },\n  formTitle: {\n    fontSize: \"18px\",\n    fontWeight: 800,\n    marginBottom: 16,\n    color: \"#0f1724\"\n  },\n  formGrid: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\n    gap: \"12px\"\n  },\n  formGroup: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"6px\"\n  },\n  label: {\n    fontWeight: 700,\n    fontSize: \"13px\",\n    color: \"#0f1724\"\n  },\n  input: {\n    padding: \"10px\",\n    borderRadius: \"8px\",\n    border: \"1px solid #e6eef8\",\n    background: \"#fff\",\n    fontSize: \"13px\",\n    outline: \"none\"\n  },\n  textarea: {\n    padding: \"10px\",\n    borderRadius: \"8px\",\n    border: \"1px solid #e6eef8\",\n    background: \"#fff\",\n    minHeight: 80,\n    fontSize: \"13px\",\n    outline: \"none\",\n    resize: \"vertical\"\n  },\n  fileInput: {\n    padding: \"6px\",\n    fontSize: \"13px\"\n  },\n  formActions: {\n    marginTop: 16,\n    display: \"flex\",\n    gap: 10\n  },\n  btnPrimary: {\n    background: \"#ff0b0bff\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"8px\",\n    padding: \"10px 20px\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    fontSize: \"14px\"\n  },\n  btnSmall: {\n    background: \"#b91010ff\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"6px\",\n    padding: \"6px 12px\",\n    cursor: \"pointer\",\n    fontSize: \"12px\",\n    fontWeight: 700\n  },\n  btnDelete: {\n    background: \"#ef4444\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"8px\",\n    padding: \"8px 14px\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    fontSize: \"14px\"\n  },\n  btnCancel: {\n    background: \"#6b7280\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"8px\",\n    padding: \"10px 20px\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    fontSize: \"14px\"\n  },\n  tableCard: {\n    marginTop: 16\n  },\n  tableHeader: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    marginBottom: 12,\n    alignItems: \"center\"\n  },\n  tableTitle: {\n    fontSize: \"18px\",\n    fontWeight: 800,\n    color: \"#0f1724\"\n  },\n  totalCount: {\n    fontSize: \"14px\",\n    color: \"#64748b\",\n    fontWeight: 700\n  },\n  tableWrapper: {\n    overflowX: \"auto\",\n    border: \"1px solid #eef2ff\",\n    borderRadius: \"8px\"\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"collapse\",\n    fontSize: \"13px\"\n  },\n  th: {\n    background: \"#fbfdff\",\n    padding: \"12px 10px\",\n    fontWeight: 800,\n    color: \"#0f1724\",\n    textAlign: \"left\",\n    borderBottom: \"2px solid #eef2ff\",\n    whiteSpace: \"nowrap\"\n  },\n  tr: {\n    borderBottom: \"1px solid #f1f5f9\",\n    transition: \"background 0.2s\"\n  },\n  td: {\n    padding: \"12px 10px\",\n    whiteSpace: \"nowrap\",\n    verticalAlign: \"middle\"\n  },\n  tableImg: {\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"6px\",\n    objectFit: \"cover\"\n  },\n  statusActive: {\n    background: \"#d1fae5\",\n    padding: \"6px 12px\",\n    borderRadius: \"6px\",\n    color: \"#065f46\",\n    fontWeight: 700,\n    border: \"1px solid #bbf7d0\",\n    cursor: \"pointer\",\n    fontSize: \"12px\"\n  },\n  statusInactive: {\n    background: \"#fee2e2\",\n    padding: \"6px 12px\",\n    borderRadius: \"6px\",\n    color: \"#991b1b\",\n    fontWeight: 700,\n    border: \"1px solid #fecaca\",\n    cursor: \"pointer\",\n    fontSize: \"12px\"\n  },\n  menuButton: {\n    background: \"#fff\",\n    border: \"1px solid #e6eef8\",\n    borderRadius: \"6px\",\n    padding: \"6px 10px\",\n    fontSize: \"16px\",\n    cursor: \"pointer\",\n    fontWeight: 700\n  },\n  dropdown: {\n    position: \"absolute\",\n    right: 0,\n    top: 36,\n    background: \"#fff\",\n    border: \"1px solid #e6eef8\",\n    borderRadius: 8,\n    zIndex: 100,\n    minWidth: 140,\n    boxShadow: \"0 8px 30px rgba(2,6,23,0.08)\"\n  },\n  dropdownItem: {\n    display: \"block\",\n    width: \"100%\",\n    padding: \"10px 14px\",\n    background: \"transparent\",\n    border: \"none\",\n    textAlign: \"left\",\n    cursor: \"pointer\",\n    fontSize: 13,\n    fontWeight: 700,\n    transition: \"background 0.12s\"\n  },\n  dropdownItemDelete: {\n    display: \"block\",\n    width: \"100%\",\n    padding: \"10px 14px\",\n    background: \"transparent\",\n    border: \"none\",\n    textAlign: \"left\",\n    cursor: \"pointer\",\n    fontSize: 13,\n    fontWeight: 700,\n    color: \"#ef4444\",\n    transition: \"background 0.12s\"\n  },\n  pagination: {\n    marginTop: 16,\n    display: \"flex\",\n    justifyContent: \"center\",\n    gap: 8,\n    flexWrap: \"wrap\"\n  },\n  paginationBtn: {\n    padding: \"8px 12px\",\n    borderRadius: 8,\n    background: \"#fff\",\n    border: \"1px solid #e6eef8\",\n    cursor: \"pointer\",\n    fontSize: \"13px\",\n    fontWeight: 700\n  },\n  paginationBtnActive: {\n    padding: \"8px 12px\",\n    borderRadius: 8,\n    background: \"#0b69ff\",\n    color: \"white\",\n    border: \"1px solid #0b69ff\",\n    cursor: \"pointer\",\n    fontSize: \"13px\",\n    fontWeight: 800\n  },\n  modalOverlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    background: \"rgba(2,6,23,0.5)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: 1000,\n    padding: 20\n  },\n  modal: {\n    background: \"#fff\",\n    borderRadius: 12,\n    padding: 24,\n    maxWidth: 700,\n    width: \"100%\",\n    maxHeight: \"90vh\",\n    overflowY: \"auto\",\n    boxShadow: \"0 12px 48px rgba(2,6,23,0.12)\"\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 800,\n    color: \"#0f1724\",\n    marginBottom: 16,\n    textAlign: \"center\"\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"PriceList\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","API_URL","CATEGORY_URL","PriceList","_s","items","setItems","categories","setCategories","subcategories","setSubcategories","search","setSearch","loading","setLoading","form","setForm","name","category","subcategory","description","basePrice","profitLoss","validTill","file","status","editId","setEditId","showForm","setShowForm","showModal","setShowModal","activeMenu","setActiveMenu","selectedItems","setSelectedItems","bulkMode","setBulkMode","currentPage","setCurrentPage","itemsPerPage","filterCategory","setFilterCategory","filterSubcategory","setFilterSubcategory","filterSubs","setFilterSubs","quickBasePrices","setQuickBasePrices","quickProfitLoss","setQuickProfitLoss","sortOrder","setSortOrder","fetchCategories","length","fetchItems","cat","find","c","_id","prev","_res$data","res","get","data","success","err","console","error","alert","_res$data2","raw","enriched","map","item","_item$subcategory3","catObj","_item$category","subObj","_item$subcategory","_item$subcategory2","subId","id","s","Number","salePrice","lockedPrice","yesterdayLock","brokerDisplay","sort","a","b","Date","createdAt","handleChange","e","value","files","target","p","handleSubmit","preventDefault","nameExists","some","trim","toLowerCase","fd","FormData","append","sub","JSON","stringify","image","put","post","resetForm","_err$response","_err$response$data","response","message","handleEdit","_item$category2","_item$category2$_id","_item$subcategory4","toString","split","_item$category3","handleDelete","window","confirm","delete","filter","x","handleStatusToggle","newStatus","updateLocalItemField","key","handleBulkSave","updates","includes","products","handleBulkDelete","Promise","all","updateBasePrice","_quickBasePrices$item","newBase","isNaN","_item$category4","_item$subcategory5","undefined","updateProfitLoss","_quickProfitLoss$item","diff","filteredItems","_item$category5","_item$subcategory6","_item$category6","_item$subcategory7","t","matchText","matchCategory","matchSub","sortedItems","indexOfLast","currentItems","slice","totalPages","Math","max","ceil","className","style","styles","container","children","header","title","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","display","gap","flexWrap","alignItems","type","placeholder","onChange","searchInput","addButton","onClick","exportButton","open","cursor","accept","importButton","select","disabled","bulkBar","btnDelete","btnPrimary","bulkPanel","bulkPanelTitle","bulkItemBox","bulkItemTitle","formGrid","formGroup","label","input","marginTop","ids","responseType","url","URL","createObjectURL","Blob","document","createElement","href","download","click","btnCancel","formCard","formTitle","onSubmit","required","fileInput","textarea","formActions","tableCard","tableHeader","tableTitle","totalCount","tableWrapper","table","th","checked","i","_item$category7","_item$subcategory8","_quickProfitLoss$item2","tr","td","src","tableImg","alt","padding","width","btnSmall","color","fontWeight","teji","abs","statusActive","statusInactive","position","menuButton","dropdown","dropdownItem","dropdownItemDelete","pagination","paginationBtn","Array","from","_","paginationBtnActive","modalOverlay","modal","stopPropagation","modalTitle","_c","fontFamily","background","minHeight","fontSize","flex","minWidth","borderRadius","border","outline","boxShadow","marginLeft","sortSelect","smallLabel","marginRight","textAlign","gridTemplateColumns","flexDirection","resize","justifyContent","overflowX","borderCollapse","borderBottom","whiteSpace","transition","verticalAlign","height","objectFit","right","top","zIndex","left","bottom","maxWidth","maxHeight","overflowY","$RefreshReg$"],"sources":["E:/infyle/Grocerry_final/frontend/src/pages/PriceList.jsx"],"sourcesContent":["\r\n// import React, { useEffect, useState, useRef } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// const API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\r\n// const CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\r\n\r\n// export default function PriceList() {\r\n//   const [items, setItems] = useState([]);\r\n//   const [categories, setCategories] = useState([]);\r\n//   const [subcategories, setSubcategories] = useState([]);\r\n//   const [search, setSearch] = useState(\"\");\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   const [form, setForm] = useState({\r\n//     name: \"\",\r\n//     category: \"\",\r\n//     subcategory: \"\",\r\n//     description: \"\",\r\n//     basePrice: \"\",\r\n//     profitLoss: \"\",\r\n//     validTill: \"\",\r\n//     file: null,\r\n//     status: \"inactive\",\r\n//   });\r\n\r\n//   const [editId, setEditId] = useState(null);\r\n//   const [showForm, setShowForm] = useState(false);\r\n//   const [showModal, setShowModal] = useState(false);\r\n//   const [activeMenu, setActiveMenu] = useState(null);\r\n\r\n//   const [selectedItems, setSelectedItems] = useState([]);\r\n//   const [bulkMode, setBulkMode] = useState(false);\r\n\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const itemsPerPage = 30;\r\n\r\n//   const [filterCategory, setFilterCategory] = useState(\"\");\r\n//   const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n//   const [filterSubs, setFilterSubs] = useState([]);\r\n\r\n//   // Quick edit states for inline editing\r\n//   const [quickBasePrices, setQuickBasePrices] = useState({});\r\n//   const [quickProfitLoss, setQuickProfitLoss] = useState({});\r\n\r\n//   useEffect(() => {\r\n//     fetchCategories();\r\n//   }, []);\r\n\r\n//   useEffect(() => {\r\n//     if (categories.length > 0) fetchItems();\r\n//   }, [categories]);\r\n\r\n//   useEffect(() => {\r\n//     if (!filterCategory) {\r\n//       setFilterSubs([]);\r\n//       setFilterSubcategory(\"\");\r\n//       return;\r\n//     }\r\n//     const cat = categories.find((c) => c._id === filterCategory);\r\n//     setFilterSubs(cat?.subcategories || []);\r\n//     setFilterSubcategory(\"\");\r\n//   }, [filterCategory, categories]);\r\n\r\n//   useEffect(() => {\r\n//     if (!form.category) {\r\n//       setSubcategories([]);\r\n//       setForm((prev) => ({ ...prev, subcategory: \"\" }));\r\n//       return;\r\n//     }\r\n//     const cat = categories.find((c) => c._id === form.category);\r\n//     setSubcategories(cat?.subcategories || []);\r\n//   }, [form.category, categories]);\r\n\r\n//   const fetchCategories = async () => {\r\n//     try {\r\n//       const res = await axios.get(CATEGORY_URL);\r\n//       if (res.data?.success) setCategories(res.data.categories || []);\r\n//     } catch (err) {\r\n//       console.error(\"Fetch categories error\", err);\r\n//       alert(\"Could not fetch categories\");\r\n//     }\r\n//   };\r\n\r\n//   const fetchItems = async () => {\r\n//     try {\r\n//       setLoading(true);\r\n//       const res = await axios.get(API_URL);\r\n//       if (res.data?.success) {\r\n//         const raw = res.data.data || [];\r\n//         // const enriched = raw.map((item) => {\r\n//         //   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\r\n//         //   const subObj = catObj?.subcategories?.find((s) => s._id === (item.subcategory?.id || item.subcategory?._id));\r\n\r\n//         //   return {\r\n//         //     ...item,\r\n//         //     basePrice: item.basePrice || 0,\r\n//         //     profitLoss: item.profitLoss || 0,\r\n//         //     salePrice: item.salePrice || 0,\r\n//         //     lockedPrice: item.lockedPrice || 0,\r\n//         //     yesterdayLock: item.yesterdayLock || 0,\r\n//         //     brokerDisplay: item.brokerDisplay || 0,\r\n//         //     category: catObj ? { _id: catObj._id, name: catObj.name } : item.category,\r\n//         //     subcategory: subObj ? { _id: subObj._id, name: subObj.name } : item.subcategory,\r\n//         //   };\r\n//         // });\r\n//         const enriched = raw.map((item) => {\r\n//   const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\r\n\r\n//   const subObj = catObj?.subcategories?.find(\r\n//     (s) => s._id === item.subcategory?.id\r\n//   );\r\n\r\n//   return {\r\n//     ...item,\r\n//     category: catObj ? { _id: catObj._id, name: catObj.name } : null,\r\n//     subcategory: subObj\r\n//       ? { _id: subObj._id, name: subObj.name }\r\n//       : item.subcategory?.id\r\n//       ? { _id: item.subcategory.id, name: item.subcategory.name }\r\n//       : null,\r\n//   };\r\n// });\r\n\r\n//         setItems(enriched);\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Fetch items error\", err);\r\n//       alert(\"Could not fetch items\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const handleChange = (e) => {\r\n//     const { name, value, files } = e.target;\r\n//     if (files?.length) {\r\n//       setForm((p) => ({ ...p, file: files[0] }));\r\n//     } else {\r\n//       setForm((p) => ({ ...p, [name]: value }));\r\n//     }\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     setLoading(true);\r\n\r\n//     try {\r\n//       if (!form.name || !form.category || !form.basePrice) {\r\n//         alert(\"Name, category & base price are required\");\r\n//         setLoading(false);\r\n//         return;\r\n//       }\r\n\r\n//       const fd = new FormData();\r\n//       fd.append(\"name\", form.name);\r\n//       fd.append(\"category\", form.category);\r\n//       // if (form.subcategory) fd.append(\"subcategory\", form.subcategory);\r\n//       if (form.subcategory) {\r\n//   const sub = subcategories.find((s) => s._id === form.subcategory);\r\n//   fd.append(\"subcategory[id]\", sub._id);\r\n//   fd.append(\"subcategory[name]\", sub.name);\r\n//   fd.append(\"subcategory[image]\", sub.image || \"\");\r\n// }\r\n\r\n//       fd.append(\"basePrice\", form.basePrice);\r\n//       fd.append(\"profitLoss\", form.profitLoss || 0);\r\n//       if (form.description) fd.append(\"description\", form.description);\r\n//       if (form.validTill) fd.append(\"validTill\", form.validTill);\r\n//       fd.append(\"status\", form.status);\r\n//       if (form.file) fd.append(\"file\", form.file);\r\n\r\n//       if (editId) {\r\n//         await axios.put(`${API_URL}/${editId}`, fd);\r\n//         alert(\"Updated successfully\");\r\n//       } else {\r\n//         await axios.post(API_URL, fd);\r\n//         alert(\"Added successfully\");\r\n//       }\r\n\r\n//       await fetchItems();\r\n//       resetForm();\r\n//     } catch (err) {\r\n//       console.error(\"Save error\", err);\r\n//       alert(\"Save failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const resetForm = () => {\r\n//     setForm({\r\n//       name: \"\",\r\n//       category: \"\",\r\n//       subcategory: \"\",\r\n//       description: \"\",\r\n//       basePrice: \"\",\r\n//       profitLoss: \"\",\r\n//       validTill: \"\",\r\n//       file: null,\r\n//       status: \"inactive\",\r\n//     });\r\n//     setEditId(null);\r\n//     setShowModal(false);\r\n//     setShowForm(false);\r\n//   };\r\n\r\n//   const handleEdit = (item) => {\r\n//     setForm({\r\n//       name: item.name || \"\",\r\n//       category: item.category?._id?.toString() || \"\",\r\n//       // subcategory: item.subcategory?.id?.toString() || \"\",\r\n//       subcategory: item.subcategory?._id || \"\",\r\n\r\n//       description: item.description || \"\",\r\n//       basePrice: item.basePrice || \"\",\r\n//       profitLoss: item.profitLoss || 0,\r\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\r\n//       file: null,\r\n//       status: item.status || \"inactive\",\r\n//     });\r\n\r\n//     const cat = categories.find((c) => c._id === item.category?._id);\r\n//     setSubcategories(cat?.subcategories || []);\r\n\r\n//     setEditId(item._id);\r\n//     setShowModal(true);\r\n//     setActiveMenu(null);\r\n//   };\r\n\r\n//   const handleDelete = async (id) => {\r\n//     if (!window.confirm(\"Delete this item?\")) return;\r\n//     try {\r\n//       await axios.delete(`${API_URL}/${id}`);\r\n//       setItems((prev) => prev.filter((x) => x._id !== id));\r\n//       setSelectedItems((prev) => prev.filter((x) => x !== id));\r\n//       setActiveMenu(null);\r\n//     } catch (err) {\r\n//       console.error(\"Delete error\", err);\r\n//       alert(\"Delete failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleStatusToggle = async (item) => {\r\n//     try {\r\n//       const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\r\n//       await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\r\n//       setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\r\n//     } catch (err) {\r\n//       console.error(\"Status toggle error\", err);\r\n//       alert(\"Status update failed\");\r\n//     }\r\n//   };\r\n\r\n//   const updateLocalItemField = (id, key, value) => {\r\n//     setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\r\n//   };\r\n\r\n//   const handleBulkSave = async () => {\r\n//     if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n//     const updates = items\r\n//       .filter((x) => selectedItems.includes(x._id))\r\n//       .map((x) => ({\r\n//         id: x._id,\r\n//         basePrice: Number(x.basePrice),\r\n//         profitLoss: Number(x.profitLoss),\r\n//         status: x.status,\r\n//       }));\r\n\r\n//     try {\r\n//       await axios.post(`${API_URL}/bulk-update`, { products: updates });\r\n//       alert(\"Bulk save successful\");\r\n//       setBulkMode(false);\r\n//       setSelectedItems([]);\r\n//       fetchItems();\r\n//     } catch (err) {\r\n//       console.error(\"Bulk save error\", err);\r\n//       alert(\"Bulk save failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleBulkDelete = async () => {\r\n//     if (!selectedItems.length) return alert(\"No items selected\");\r\n//     if (!window.confirm(\"Delete selected items?\")) return;\r\n\r\n//     try {\r\n//       await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\r\n//       setSelectedItems([]);\r\n//       fetchItems();\r\n//       setBulkMode(false);\r\n//     } catch (err) {\r\n//       console.error(\"Bulk delete error\", err);\r\n//       alert(\"Bulk delete failed\");\r\n//     }\r\n//   };\r\n\r\n//   // Update Base Price inline\r\n//   const updateBasePrice = async (item) => {\r\n//     const newBase = Number(quickBasePrices[item._id] ?? item.basePrice);\r\n//     if (isNaN(newBase)) return alert(\"Invalid Base Price\");\r\n\r\n//     try {\r\n//       setLoading(true);\r\n//       const fd = new FormData();\r\n//       fd.append(\"name\", item.name);\r\n//       fd.append(\"category\", item.category?._id);\r\n//       if (item.subcategory?.id) fd.append(\"subcategory\", item.subcategory.id);\r\n//       fd.append(\"description\", item.description || \"\");\r\n//       fd.append(\"basePrice\", newBase);\r\n//       fd.append(\"profitLoss\", item.profitLoss);\r\n//       fd.append(\"status\", item.status);\r\n\r\n//       const res = await axios.put(`${API_URL}/${item._id}`, fd);\r\n//       if (res.data.success) {\r\n//         await fetchItems();\r\n//         setQuickBasePrices((p) => ({ ...p, [item._id]: undefined }));\r\n//         alert(\"Base price updated\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Update failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   // Update Profit/Loss inline using updateDiff\r\n//   const updateProfitLoss = async (item) => {\r\n//     const diff = Number(quickProfitLoss[item._id] ?? 0);\r\n//     if (isNaN(diff)) return alert(\"Invalid Profit/Loss\");\r\n\r\n//     try {\r\n//       setLoading(true);\r\n//       const res = await axios.put(`${API_URL}/updateDiff/${item._id}`, { diff });\r\n//       if (res.data.success) {\r\n//         await fetchItems();\r\n//         setQuickProfitLoss((p) => ({ ...p, [item._id]: undefined }));\r\n//         alert(\"Profit/Loss updated\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(err);\r\n//       alert(\"Update failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n\r\n\r\n  \r\n//   const filteredItems = items.filter((item) => {\r\n//     const t = search.toLowerCase();\r\n//     const matchText =\r\n//       (item.name || \"\").toLowerCase().includes(t) ||\r\n//       (item.category?.name || \"\").toLowerCase().includes(t) ||\r\n//       (item.subcategory?.name || \"\").toLowerCase().includes(t);\r\n\r\n//     const matchCategory = !filterCategory || item.category?._id === filterCategory;\r\n//     const matchSub = !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n\r\n//     return matchText && matchCategory && matchSub;\r\n//   });\r\n\r\n//   const indexOfLast = currentPage * itemsPerPage;\r\n//   const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n//   const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\r\n\r\n//   return (\r\n//     <div className=\"container\" style={styles.container}>\r\n//       <div style={styles.header}>\r\n//         <h1 style={styles.title}>Product Management</h1>\r\n//       </div>\r\n\r\n//       <div style={{ marginBottom: 12, display: \"flex\", gap: 12, flexWrap: \"wrap\" }}>\r\n//         <input\r\n//           type=\"text\"\r\n//           placeholder=\"Search product, category or subcategory...\"\r\n//           value={search}\r\n//           onChange={(e) => {\r\n//             setSearch(e.target.value);\r\n//             setCurrentPage(1);\r\n//           }}\r\n//           style={styles.searchInput}\r\n//         />\r\n\r\n//         <button\r\n//           style={styles.addButton}\r\n//           onClick={() => {\r\n//             setShowForm(!showForm);\r\n//             setEditId(null);\r\n//           }}\r\n//         >\r\n//           {showForm ? \"‚úñ Close\" : \"‚ûï Add Product\"}\r\n//         </button>\r\n//       </div>\r\n// <button\r\n//   style={styles.addButton}\r\n//   onClick={() => window.open(`${API_URL}/export`, \"_blank\")}\r\n// >\r\n//   ‚¨á Export CSV\r\n// </button>\r\n\r\n// <label style={{ cursor: \"pointer\" }}>\r\n//   <input\r\n//     type=\"file\"\r\n//     accept=\".csv\"\r\n//     style={{ display: \"none\" }}\r\n//     onChange={async (e) => {\r\n//       try {\r\n//         const fd = new FormData();\r\n//         fd.append(\"file\", e.target.files[0]);\r\n//         await axios.post(`${API_URL}/import`, fd);\r\n//         alert(\"Imported successfully\");\r\n//         fetchItems();\r\n//       } catch (err) {\r\n//         alert(\"Import failed\");\r\n//       }\r\n//     }}\r\n//   />\r\n//   <span style={styles.addButton}>üì§ Import CSV</span>\r\n// </label>\r\n\r\n//       <div style={{ display: \"flex\", gap: 10, marginBottom: 12, flexWrap: \"wrap\" }}>\r\n//         <select\r\n//           value={filterCategory}\r\n//           onChange={(e) => setFilterCategory(e.target.value)}\r\n//           style={styles.select}\r\n//         >\r\n//           <option value=\"\">Filter by Category</option>\r\n//           {categories.map((c) => (\r\n//             <option key={c._id} value={c._id}>\r\n//               {c.name}\r\n//             </option>\r\n//           ))}\r\n//         </select>\r\n\r\n//         <select\r\n//           value={filterSubcategory}\r\n//           onChange={(e) => setFilterSubcategory(e.target.value)}\r\n//           disabled={!filterSubs.length}\r\n//           style={styles.select}\r\n//         >\r\n//           <option value=\"\">Filter by Subcategory</option>\r\n//           {filterSubs.map((s) => (\r\n//             <option key={s._id} value={s._id}>\r\n//               {s.name}\r\n//             </option>\r\n//           ))}\r\n//         </select>\r\n//       </div>\r\n\r\n//       {selectedItems.length > 0 && (\r\n//         <div style={styles.bulkBar}>\r\n//           {!bulkMode ? (\r\n//             <div style={{ display: \"flex\", gap: 8 }}>\r\n//               <button style={styles.btnDelete} onClick={handleBulkDelete}>\r\n//                 üóë Bulk Delete\r\n//               </button>\r\n//               <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\r\n//                 ‚úè Bulk Edit\r\n//               </button>\r\n//             </div>\r\n//           ) : (\r\n//             <div style={styles.bulkPanel}>\r\n//               <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\r\n\r\n//               {items\r\n//                 .filter((item) => selectedItems.includes(item._id))\r\n//                 .map((item) => (\r\n//                   <div key={item._id} style={styles.bulkItemBox}>\r\n//                     <h4 style={styles.bulkItemTitle}>{item.name}</h4>\r\n\r\n//                     <div style={styles.formGrid}>\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Base Price</label>\r\n//                         <input\r\n//                           type=\"number\"\r\n//                           value={item.basePrice}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))}\r\n//                           style={styles.input}\r\n//                         />\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Profit/Loss</label>\r\n//                         <input\r\n//                           type=\"number\"\r\n//                           value={item.profitLoss}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"profitLoss\", Number(e.target.value))}\r\n//                           style={styles.input}\r\n//                         />\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Status</label>\r\n//                         <select\r\n//                           value={item.status}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"status\", e.target.value)}\r\n//                           style={styles.select}\r\n//                         >\r\n//                           <option value=\"active\">active</option>\r\n//                           <option value=\"inactive\">inactive</option>\r\n//                         </select>\r\n//                       </div>\r\n//                     </div>\r\n//                   </div>\r\n//                 ))}\r\n\r\n//               {/* <div style={{ display: \"flex\", gap: 10, marginTop: 12 }}>\r\n//                 <button style={styles.btnPrimary} onClick={handleBulkSave}>\r\n//                   ‚úî Save All\r\n//                 </button>\r\n//                 <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\r\n//                   ‚úñ Cancel\r\n//                 </button>\r\n//               </div> */}\r\n//               <div style={{ display: \"flex\", gap: 10, marginTop: 12, flexWrap: 'wrap' }}>\r\n\r\n//   <button style={styles.btnPrimary} onClick={handleBulkSave}>\r\n//     ‚úî Save All\r\n//   </button>\r\n\r\n//   <button\r\n//     style={styles.btnPrimary}\r\n//     onClick={async () => {\r\n//       if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n//       for (let id of selectedItems) await axios.post(`${API_URL}/copy/${id}`);\r\n\r\n//       alert(\"Selected copied\");\r\n//       fetchItems();\r\n//     }}\r\n//   >\r\n//     üìÑ Copy Selected\r\n//   </button>\r\n\r\n//   <button\r\n//     style={styles.btnPrimary}\r\n//     onClick={async () => {\r\n//       if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n//       const res = await axios.post(\r\n//         `${API_URL}/export-selected`,\r\n//         { ids: selectedItems },\r\n//         { responseType: \"blob\" }\r\n//       );\r\n\r\n//       const url = window.URL.createObjectURL(new Blob([res.data]));\r\n//       const a = document.createElement(\"a\");\r\n//       a.href = url;\r\n//       a.download = \"selected.csv\";\r\n//       a.click();\r\n//     }}\r\n//   >\r\n//     ‚¨á Export Selected\r\n//   </button>\r\n\r\n//   <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\r\n//     ‚úñ Cancel\r\n//   </button>\r\n// </div>\r\n\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       )}\r\n\r\n//       {showForm && (\r\n//         <div style={styles.formCard}>\r\n//           <h2 style={styles.formTitle}>‚ûï Add / Edit Product</h2>\r\n\r\n//           <form onSubmit={handleSubmit}>\r\n//             <div style={styles.formGrid}>\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Product Name *</label>\r\n//                 <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Category *</label>\r\n//                 <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n//                   <option value=\"\">Select Category</option>\r\n//                   {categories.map((c) => (\r\n//                     <option value={c._id} key={c._id}>\r\n//                       {c.name}\r\n//                     </option>\r\n//                   ))}\r\n//                 </select>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Subcategory</label>\r\n//                 <select\r\n//                   name=\"subcategory\"\r\n//                   value={form.subcategory}\r\n//                   onChange={handleChange}\r\n//                   disabled={!subcategories.length}\r\n//                   style={styles.select}\r\n//                 >\r\n//                   <option value=\"\">Select Subcategory</option>\r\n//                   {subcategories.map((s) => (\r\n//                     // <option value={s._id} key={s._id}>\r\n//                     //   {s.name}\r\n//                     // </option>\r\n//                     <option value={s._id}>{s.name}</option>\r\n\r\n//                   ))}\r\n//                 </select>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Base Price *</label>\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   required\r\n//                   name=\"basePrice\"\r\n//                   value={form.basePrice}\r\n//                   onChange={handleChange}\r\n//                   style={styles.input}\r\n//                 />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Profit/Loss</label>\r\n//                 <input\r\n//                   type=\"number\"\r\n//                   name=\"profitLoss\"\r\n//                   value={form.profitLoss}\r\n//                   onChange={handleChange}\r\n//                   style={styles.input}\r\n//                 />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Valid Till</label>\r\n//                 <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Image</label>\r\n//                 <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Status</label>\r\n//                 <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n//                   <option value=\"active\">Active</option>\r\n//                   <option value=\"inactive\">Inactive</option>\r\n//                 </select>\r\n//               </div>\r\n//             </div>\r\n\r\n//             <div style={styles.formGroup}>\r\n//               <label style={styles.label}>Description</label>\r\n//               <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n//             </div>\r\n\r\n//             <div style={styles.formActions}>\r\n//               <button style={styles.btnPrimary} disabled={loading}>\r\n//                 {loading ? \"Saving...\" : editId ? \"Update Product\" : \"Add Product\"}\r\n//               </button>\r\n\r\n//               <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n//                 Cancel\r\n//               </button>\r\n//             </div>\r\n//           </form>\r\n//         </div>\r\n//       )}\r\n  \r\n//       <div style={styles.tableCard}>\r\n//         <div style={styles.tableHeader}>\r\n//           <h2 style={styles.tableTitle}>Items</h2>\r\n//           <span style={styles.totalCount}>Total: {filteredItems.length}</span>\r\n//         </div>\r\n\r\n//         <div style={styles.tableWrapper}>\r\n//           <table style={styles.table}>\r\n//             <thead>\r\n//               <tr>\r\n//                 <th style={styles.th}>\r\n//                   <input\r\n//                     type=\"checkbox\"\r\n//                     checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\r\n//                     onChange={() => {\r\n//                       if (selectedItems.length === filteredItems.length) setSelectedItems([]);\r\n//                       else setSelectedItems(filteredItems.map((x) => x._id));\r\n//                     }}\r\n//                   />\r\n//                 </th>\r\n//                 <th style={styles.th}>Sr</th>\r\n//                 <th style={styles.th}>Image</th>\r\n//                 <th style={styles.th}>Name</th>\r\n//                 <th style={styles.th}>Category</th>\r\n//                 <th style={styles.th}>Subcategory</th>\r\n//                 <th style={styles.th}>Base Price</th>\r\n//                 <th style={styles.th}>Profit/Loss</th>\r\n//                 <th style={styles.th}>Sale Price</th>\r\n//                 <th style={styles.th}>Price Lock</th>\r\n//                 <th style={styles.th}>Teji/Maddi</th>\r\n//                 <th style={styles.th}>Status</th>\r\n//                 <th style={styles.th}>Actions</th>\r\n//               </tr>\r\n//             </thead>\r\n\r\n//             <tbody>\r\n//               {currentItems.map((item, i) => (\r\n//                 <tr key={item._id} style={styles.tr}>\r\n//                   <td style={styles.td}>\r\n//                     <input\r\n//                       type=\"checkbox\"\r\n//                       checked={selectedItems.includes(item._id)}\r\n//                       onChange={() =>\r\n//                         setSelectedItems((prev) =>\r\n//                           prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]\r\n//                         )\r\n//                       }\r\n//                     />\r\n//                   </td>\r\n\r\n//                   <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n\r\n//                   <td style={styles.td}>\r\n//                     {item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}\r\n//                   </td>\r\n\r\n//                   <td style={styles.td}>{item.name}</td>\r\n//                   <td style={styles.td}>{item.category?.name || \"-\"}</td>\r\n//                   {/* <td style={styles.td}>{item.subcategory?.name || \"-\"}</td> */}\r\n//                   <td>{item.subcategory?.name || \"-\"}</td>\r\n\r\n\r\n//                   {/* BASE PRICE - Editable */}\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n//                       <input\r\n//                         type=\"number\"\r\n//                         value={quickBasePrices[item._id] !== undefined ? quickBasePrices[item._id] : item.basePrice}\r\n//                         onChange={(e) => setQuickBasePrices((p) => ({ ...p, [item._id]: e.target.value }))}\r\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n//                       />\r\n//                       <button style={styles.btnSmall} onClick={() => updateBasePrice(item)}>\r\n//                         ‚úî\r\n//                       </button>\r\n//                     </div>\r\n//                     <small style={{ color: \"#28a745\", display: \"block\", marginTop: 4 }}>Saved: ‚Çπ{item.basePrice}</small>\r\n//                   </td>\r\n\r\n//                   {/* PROFIT/LOSS - Editable */}\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n//                       <input\r\n//                         type=\"number\"\r\n//                         placeholder=\"change\"\r\n//                         value={quickProfitLoss[item._id] ?? \"\"}\r\n//                         onChange={(e) => setQuickProfitLoss((p) => ({ ...p, [item._id]: e.target.value }))}\r\n//                         style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n//                       />\r\n//                       <button style={styles.btnSmall} onClick={() => updateProfitLoss(item)}>\r\n//                         ‚úî\r\n//                       </button>\r\n//                     </div>\r\n//                     <small style={{ color: \"#666\", display: \"block\", marginTop: 4 }}>Current: {item.profitLoss}</small>\r\n//                   </td>\r\n\r\n//                   {/* SALE PRICE */}\r\n//                   <td style={styles.td}>‚Çπ{item.salePrice}</td>\r\n \r\n//                   {/* PRICE LOCK */}\r\n//                   <td style={styles.td}>‚Çπ{item.lockedPrice}</td>\r\n\r\n//                   {/* TEJI/MADDI */}\r\n//                   {/* <td style={styles.td}>\r\n//   {(() => {\r\n//     const teji = item.salePrice - item.lockedPrice;\r\n//     return (\r\n//       <span\r\n//         style={{\r\n//           color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\r\n//           fontWeight: \"600\",\r\n//         }}\r\n//       >\r\n//         {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\r\n//       </span>\r\n//     );\r\n//   })()}\r\n// </td> */}\r\n// <td style={styles.td}>\r\n//   {item.lockedPrice === 0 ? (\r\n//     <span style={{ color: \"#6c757d\", fontWeight: \"600\" }}>0</span>\r\n//   ) : (\r\n//     (() => {\r\n//       const teji = item.salePrice - item.lockedPrice;\r\n//       return (\r\n//         <span\r\n//           style={{\r\n//             color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\r\n//             fontWeight: \"600\",\r\n//           }}\r\n//         >\r\n//           {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\r\n//         </span>\r\n//       );\r\n//     })()\r\n//   )}\r\n// </td>\r\n\r\n\r\n//                   {/* STATUS */}\r\n//                   <td style={styles.td}>\r\n//                     <button\r\n//                       style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\r\n//                       onClick={() => handleStatusToggle(item)}\r\n//                     >\r\n//                       {item.status === \"active\" ? \"Active\" : \"Inactive\"}\r\n//                     </button>\r\n//                   </td>\r\n\r\n//                   {/* ACTIONS */}\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ position: \"relative\" }}>\r\n//                       <button\r\n//                         style={styles.menuButton}\r\n//                         onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\r\n//                       >\r\n//                         ‚ãÆ\r\n//                       </button>\r\n\r\n//                       {activeMenu === item._id && (\r\n//                         <div style={styles.dropdown}>\r\n//                           {/* <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\r\n//                             ‚úè Edit\r\n//                           </button>\r\n//                           <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\r\n//                             üóë Delete\r\n//                           </button> */}\r\n//                           <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\r\n//   ‚úè Edit\r\n// </button>\r\n\r\n// <button\r\n//   style={styles.dropdownItem}\r\n//   onClick={async () => {\r\n//     await axios.post(`${API_URL}/copy/${item._id}`);\r\n//     alert(\"Copied successfully\");\r\n//     fetchItems();\r\n//   }}\r\n// >\r\n//   üìÑ Copy\r\n// </button>\r\n\r\n// <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\r\n//   üóë Delete\r\n// </button>\r\n\r\n//                         </div>\r\n//                       )}\r\n//                     </div>\r\n//                   </td>\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//         </div>\r\n\r\n//         <div style={styles.pagination}>\r\n//           <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\r\n//             Previous\r\n//           </button>\r\n\r\n//           {Array.from({ length: totalPages }, (_, i) => (\r\n//             <button\r\n//               key={i}\r\n//               style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\r\n//               onClick={() => setCurrentPage(i + 1)}\r\n//             >\r\n//               {i + 1}\r\n//             </button>\r\n//           ))}\r\n\r\n//           <button\r\n//             style={styles.paginationBtn}\r\n//             disabled={currentPage === totalPages}\r\n//             onClick={() => setCurrentPage((p) => p + 1)}\r\n//           >\r\n//             Next\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {showModal && (\r\n//         <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\r\n//           <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n//             <h2 style={styles.modalTitle}>‚úè Edit Product</h2>\r\n\r\n//             <form onSubmit={handleSubmit}>\r\n//               <div style={styles.formGrid}>\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Product Name *</label>\r\n//                   <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Category *</label>\r\n//                   <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n//                     <option value=\"\">Select Category</option>\r\n//                     {categories.map((c) => (\r\n//                       <option value={c._id} key={c._id}>\r\n//                         {c.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Subcategory</label>\r\n//                   <select\r\n//                     name=\"subcategory\"\r\n//                     value={form.subcategory}\r\n//                     onChange={handleChange}\r\n//                     disabled={!subcategories.length}\r\n//                     style={styles.select}\r\n//                   >\r\n//                     <option value=\"\">Select Subcategory</option>\r\n//                     {subcategories.map((s) => (\r\n//                       <option value={s._id} key={s._id}>\r\n//                         {s.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Base Price *</label>\r\n//                   <input\r\n//                     type=\"number\"\r\n//                     required\r\n//                     name=\"basePrice\"\r\n//                     value={form.basePrice}\r\n//                     onChange={handleChange}\r\n//                     style={styles.input}\r\n//                   />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Profit/Loss</label>\r\n//                   <input\r\n//                     type=\"number\"\r\n//                     name=\"profitLoss\"\r\n//                     value={form.profitLoss}\r\n//                     onChange={handleChange}\r\n//                     style={styles.input}\r\n//                   />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Valid Till</label>\r\n//                   <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Image</label>\r\n//                   <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Status</label>\r\n//                   <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n//                     <option value=\"active\">Active</option>\r\n//                     <option value=\"inactive\">Inactive</option>\r\n//                   </select>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Description</label>\r\n//                 <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n//               </div>\r\n\r\n//               <div style={styles.formActions}>\r\n//                 <button style={styles.btnPrimary} disabled={loading}>\r\n//                   {loading ? \"Saving...\" : \"Update\"}\r\n//                 </button>\r\n\r\n//                 <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n//                   Cancel\r\n//                 </button>\r\n//               </div>\r\n//             </form>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// const styles = {\r\n//   container: { padding: 16, fontFamily: \"Arial, sans-serif\" },\r\n//   header: { marginBottom: 8 },\r\n//   title: {\r\n//     fontSize: \"24px\",\r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//     marginBottom: \"8px\",\r\n//   },\r\n//   searchInput: {\r\n//     flex: \"1\",\r\n//     minWidth: \"250px\",\r\n//     padding: \"10px 12px\",\r\n//     borderRadius: \"10px\",\r\n//     border: \"1px solid #ced4da\",\r\n//     background: \"#f9fbfc\",\r\n//     fontSize: \"14px\",\r\n//     outline: \"none\",\r\n//   },\r\n//   addButton: {\r\n//     background: \"#007bff\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"10px 16px\",\r\n//     fontSize: \"14px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   select: {\r\n//     padding: \"8px 12px\",\r\n//     borderRadius: \"8px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     fontSize: \"13px\",\r\n//     minWidth: \"150px\",\r\n//   },\r\n//   bulkBar: {\r\n//     background: \"#e9f2ff\",\r\n//     border: \"1px solid #c4d9ff\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"12px\",\r\n//     marginBottom: \"12px\",\r\n//   },\r\n//   bulkPanel: {\r\n//     width: \"100%\",\r\n//     background: \"#f7faff\",\r\n//     border: \"1px solid #cfe2ff\",\r\n//     padding: \"12px\",\r\n//     borderRadius: \"10px\",\r\n//   },\r\n//   bulkPanelTitle: {\r\n//     textAlign: \"center\",\r\n//     fontSize: \"16px\",\r\n//     fontWeight: \"700\",\r\n//     marginBottom: \"10px\",\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   bulkItemBox: {\r\n//     background: \"#fff\",\r\n//     border: \"1px solid #dbe5f5\",\r\n//     padding: \"12px\",\r\n//     borderRadius: \"8px\",\r\n//     marginBottom: \"10px\",\r\n//   },\r\n//   bulkItemTitle: {\r\n//     fontSize: \"14px\",\r\n//     fontWeight: \"600\",\r\n//     marginBottom: \"8px\",\r\n//     color: \"#233142\",\r\n//   },\r\n//   formCard: {\r\n//     borderRadius: \"12px\",\r\n//     padding: \"20px\",\r\n//     marginBottom: \"18px\",\r\n//     background: \"#ffffff\",\r\n//     border: \"1px solid #eef2f7\",\r\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\r\n//   },\r\n//   formTitle: { \r\n//     fontSize: \"18px\", \r\n//     fontWeight: \"700\", \r\n//     marginBottom: 16,\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   formGrid: {\r\n//     display: \"grid\",\r\n//     gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\r\n//     gap: \"12px\",\r\n//   },\r\n//   formGroup: { \r\n//     display: \"flex\", \r\n//     flexDirection: \"column\", \r\n//     gap: \"6px\" \r\n//   },\r\n//   label: { \r\n//     fontWeight: \"600\", \r\n//     fontSize: \"13px\", \r\n//     color: \"#233142\" \r\n//   },\r\n//   input: {\r\n//     padding: \"10px\",\r\n//     borderRadius: \"8px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     fontSize: \"13px\",\r\n//     outline: \"none\",\r\n//   },\r\n//   textarea: {\r\n//     padding: \"10px\",\r\n//     borderRadius: \"8px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     minHeight: 80,\r\n//     fontSize: \"13px\",\r\n//     outline: \"none\",\r\n//     resize: \"vertical\",\r\n//   },\r\n//   fileInput: { \r\n//     padding: \"6px\",\r\n//     fontSize: \"13px\",\r\n//   },\r\n//   formActions: { \r\n//     marginTop: 16, \r\n//     display: \"flex\", \r\n//     gap: 10 \r\n//   },\r\n//   btnPrimary: {\r\n//     background: \"#007bff\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"8px\",\r\n//     padding: \"10px 20px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   btnSmall: {\r\n//     background: \"#28a745\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"6px\",\r\n//     padding: \"6px 12px\",\r\n//     cursor: \"pointer\",\r\n//     fontSize: \"12px\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   btnDelete: {\r\n//     background: \"#dc3545\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"8px\",\r\n//     padding: \"8px 14px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   btnCancel: {\r\n//     background: \"#6c757d\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"8px\",\r\n//     padding: \"10px 20px\",\r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   tableCard: { \r\n//     marginTop: 16,\r\n//     background: \"#fff\",\r\n//     borderRadius: \"12px\",\r\n//     padding: \"16px\",\r\n//     border: \"1px solid #eef2f7\",\r\n//     boxShadow: \"0 2px 8px rgba(0,0,0,0.05)\",\r\n//   },\r\n//   tableHeader: { \r\n//     display: \"flex\", \r\n//     justifyContent: \"space-between\", \r\n//     marginBottom: 12,\r\n//     alignItems: \"center\",\r\n//   },\r\n//   tableTitle: { \r\n//     fontSize: \"18px\", \r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   totalCount: { \r\n//     fontSize: \"14px\", \r\n//     color: \"#6c757d\", \r\n//     fontWeight: \"600\" \r\n//   },\r\n//   tableWrapper: { \r\n//     overflowX: \"auto\",\r\n//     border: \"1px solid #e9ecef\",\r\n//     borderRadius: \"8px\",\r\n//   },\r\n//   table: { \r\n//     width: \"100%\", \r\n//     borderCollapse: \"collapse\", \r\n//     fontSize: \"13px\" \r\n//   },\r\n//   th: { \r\n//     background: \"#f8f9fa\", \r\n//     padding: \"12px 10px\", \r\n//     fontWeight: \"700\", \r\n//     color: \"#0d3b66\", \r\n//     textAlign: \"left\",\r\n//     borderBottom: \"2px solid #dee2e6\",\r\n//     whiteSpace: \"nowrap\",\r\n//   },\r\n//   tr: { \r\n//     borderBottom: \"1px solid #edf2f7\",\r\n//     transition: \"background 0.2s\",\r\n//   },\r\n//   td: { \r\n//     padding: \"12px 10px\", \r\n//     whiteSpace: \"nowrap\", \r\n//     verticalAlign: \"middle\" \r\n//   },\r\n//   tableImg: { \r\n//     width: \"50px\", \r\n//     height: \"50px\", \r\n//     borderRadius: \"6px\", \r\n//     objectFit: \"cover\" \r\n//   },\r\n//   statusActive: { \r\n//     background: \"#d4edda\", \r\n//     padding: \"6px 12px\", \r\n//     borderRadius: \"6px\", \r\n//     color: \"#155724\", \r\n//     fontWeight: \"600\", \r\n//     border: \"1px solid #c3e6cb\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"12px\",\r\n//   },\r\n//   statusInactive: { \r\n//     background: \"#f8d7da\", \r\n//     padding: \"6px 12px\", \r\n//     borderRadius: \"6px\", \r\n//     color: \"#721c24\", \r\n//     fontWeight: \"600\", \r\n//     border: \"1px solid #f5c6cb\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"12px\",\r\n//   },\r\n//   menuButton: { \r\n//     background: \"#f0f0f0\", \r\n//     border: \"1px solid #ddd\", \r\n//     borderRadius: \"6px\", \r\n//     padding: \"6px 10px\", \r\n//     fontSize: \"16px\", \r\n//     cursor: \"pointer\",\r\n//     fontWeight: \"700\",\r\n//   },\r\n//   dropdown: { \r\n//     position: \"absolute\", \r\n//     right: 0, \r\n//     top: 36, \r\n//     background: \"#fff\", \r\n//     border: \"1px solid #ddd\", \r\n//     borderRadius: 8, \r\n//     zIndex: 100, \r\n//     minWidth: 140,\r\n//     boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\r\n//   },\r\n//   dropdownItem: { \r\n//     display: \"block\", \r\n//     width: \"100%\", \r\n//     padding: \"10px 14px\", \r\n//     background: \"transparent\", \r\n//     border: \"none\", \r\n//     textAlign: \"left\", \r\n//     cursor: \"pointer\", \r\n//     fontSize: 13, \r\n//     fontWeight: 500,\r\n//     transition: \"background 0.2s\",\r\n//   },\r\n//   dropdownItemDelete: { \r\n//     display: \"block\", \r\n//     width: \"100%\", \r\n//     padding: \"10px 14px\", \r\n//     background: \"transparent\", \r\n//     border: \"none\", \r\n//     textAlign: \"left\", \r\n//     cursor: \"pointer\", \r\n//     fontSize: 13, \r\n//     fontWeight: 500, \r\n//     color: \"#dc3545\",\r\n//     transition: \"background 0.2s\",\r\n//   },\r\n//   pagination: { \r\n//     marginTop: 16, \r\n//     display: \"flex\", \r\n//     justifyContent: \"center\", \r\n//     gap: 8,\r\n//     flexWrap: \"wrap\",\r\n//   },\r\n//   paginationBtn: { \r\n//     padding: \"8px 12px\", \r\n//     borderRadius: 6, \r\n//     background: \"#fff\", \r\n//     border: \"1px solid #dee2e6\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"13px\",\r\n//     fontWeight: \"500\",\r\n//   },\r\n//   paginationBtnActive: { \r\n//     padding: \"8px 12px\", \r\n//     borderRadius: 6, \r\n//     background: \"#007bff\", \r\n//     color: \"white\", \r\n//     border: \"1px solid #007bff\", \r\n//     cursor: \"pointer\",\r\n//     fontSize: \"13px\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   modalOverlay: { \r\n//     position: \"fixed\", \r\n//     top: 0, \r\n//     left: 0, \r\n//     right: 0, \r\n//     bottom: 0, \r\n//     background: \"rgba(0,0,0,0.5)\", \r\n//     display: \"flex\", \r\n//     justifyContent: \"center\", \r\n//     alignItems: \"center\", \r\n//     zIndex: 1000, \r\n//     padding: 20 \r\n//   },\r\n//   modal: { \r\n//     background: \"#fff\", \r\n//     borderRadius: 12, \r\n//     padding: 24, \r\n//     maxWidth: 700, \r\n//     width: \"100%\", \r\n//     maxHeight: \"90vh\", \r\n//     overflowY: \"auto\",\r\n//     boxShadow: \"0 8px 32px rgba(0,0,0,0.2)\",\r\n//   },\r\n//   modalTitle: { \r\n//     fontSize: 20, \r\n//     fontWeight: \"700\", \r\n//     color: \"#0d3b66\", \r\n//     marginBottom: 16, \r\n//     textAlign: \"center\" \r\n//   },\r\n// }\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PriceList.css\"\r\nconst API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\r\nconst CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\r\n\r\nexport default function PriceList() {\r\n  const [items, setItems] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [subcategories, setSubcategories] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    category: \"\",\r\n    subcategory: \"\",\r\n    description: \"\",\r\n    basePrice: \"\",\r\n    profitLoss: \"\",\r\n    validTill: \"\",\r\n    file: null,\r\n    status: \"inactive\",\r\n  });\r\n\r\n  const [editId, setEditId] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [activeMenu, setActiveMenu] = useState(null);\r\n\r\n  const [selectedItems, setSelectedItems] = useState([]);\r\n  const [bulkMode, setBulkMode] = useState(false);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 30;\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"\");\r\n  const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n  const [filterSubs, setFilterSubs] = useState([]);\r\n\r\n  // Quick edit states for inline editing\r\n  const [quickBasePrices, setQuickBasePrices] = useState({});\r\n  const [quickProfitLoss, setQuickProfitLoss] = useState({});\r\n\r\n  // NEW: sort state\r\n  const [sortOrder, setSortOrder] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (categories.length > 0) fetchItems();\r\n  }, [categories]);\r\n\r\n  useEffect(() => {\r\n    if (!filterCategory) {\r\n      setFilterSubs([]);\r\n      setFilterSubcategory(\"\");\r\n      return;\r\n    }\r\n    const cat = categories.find((c) => c._id === filterCategory);\r\n    setFilterSubs(cat?.subcategories || []);\r\n    setFilterSubcategory(\"\");\r\n  }, [filterCategory, categories]);\r\n\r\n  useEffect(() => {\r\n    if (!form.category) {\r\n      setSubcategories([]);\r\n      setForm((prev) => ({ ...prev, subcategory: \"\" }));\r\n      return;\r\n    }\r\n    const cat = categories.find((c) => c._id === form.category);\r\n    setSubcategories(cat?.subcategories || []);\r\n  }, [form.category, categories]);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const res = await axios.get(CATEGORY_URL);\r\n      if (res.data?.success) setCategories(res.data.categories || []);\r\n    } catch (err) {\r\n      console.error(\"Fetch categories error\", err);\r\n      alert(\"Could not fetch categories\");\r\n    }\r\n  };\r\n\r\n  const fetchItems = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(API_URL);\r\n      if (res.data?.success) {\r\n        const raw = res.data.data || [];\r\n\r\n        const enriched = raw.map((item) => {\r\n          // normalize category/subcategory\r\n          const catObj = categories.find((c) => c._id === (item.category?._id || item.category));\r\n          let subObj = null;\r\n\r\n          if (catObj?.subcategories && item.subcategory) {\r\n            // item.subcategory may be an object with id or an id string\r\n            const subId = item.subcategory?.id || item.subcategory?._id || item.subcategory;\r\n            subObj = catObj.subcategories.find((s) => s._id === subId) || null;\r\n          }\r\n\r\n          return {\r\n            ...item,\r\n            // ensure numeric fields aren't undefined\r\n            basePrice: Number(item.basePrice || 0),\r\n            profitLoss: Number(item.profitLoss || 0),\r\n            salePrice: Number(item.salePrice || 0),\r\n            lockedPrice: Number(item.lockedPrice || 0),\r\n            yesterdayLock: Number(item.yesterdayLock || 0),\r\n            brokerDisplay: Number(item.brokerDisplay || 0),\r\n            category: catObj ? { _id: catObj._id, name: catObj.name } : (item.category || null),\r\n            subcategory: subObj\r\n              ? { _id: subObj._id, name: subObj.name }\r\n              : item.subcategory?.id\r\n              ? { _id: item.subcategory.id, name: item.subcategory.name }\r\n              : item.subcategory || null,\r\n          };\r\n        });\r\n\r\n        // setItems(enriched);\r\n        setItems(\r\n  enriched.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\r\n);\r\n\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Fetch items error\", err);\r\n      alert(\"Could not fetch items\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    if (files?.length) {\r\n      setForm((p) => ({ ...p, file: files[0] }));\r\n    } else {\r\n      setForm((p) => ({ ...p, [name]: value }));\r\n    }\r\n  };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     setLoading(true);\r\n\r\n//     try {\r\n//       // üõë Duplicate product name check\r\n// const nameExists = items.some(\r\n//   (p) =>\r\n//     p.name.trim().toLowerCase() === form.name.trim().toLowerCase() &&\r\n//     p._id !== editId\r\n// );\r\n\r\n// if (nameExists) {\r\n//   alert(\"‚ùå Product name already exists!\");\r\n//   setLoading(false);\r\n//   return;\r\n// }\r\nconst handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n  setLoading(true);\r\n\r\n  // üõë Duplicate product name check (PASTE HERE)\r\n  const nameExists = items.some(\r\n    (p) =>\r\n      p.name.trim().toLowerCase() === form.name.trim().toLowerCase() &&\r\n      p._id !== editId\r\n  );\r\n\r\n  if (nameExists) {\r\n    alert(\"‚ùå Product name already exists!\");\r\n    setLoading(false);\r\n    return;\r\n  }\r\n\r\n  try {\r\n      \r\n\r\n      if (!form.name || !form.category || !form.basePrice) {\r\n        alert(\"Name, category & base price are required\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const fd = new FormData();\r\n      fd.append(\"name\", form.name.trim());\r\n      fd.append(\"category\", form.category);\r\n\r\n      // if (form.subcategory) {\r\n      //   const sub = subcategories.find((s) => s._id === form.subcategory);\r\n      //   if (sub) {\r\n      //     fd.append(\"subcategory[id]\", sub._id);\r\n      //     fd.append(\"subcategory[name]\", sub.name);\r\n      //     fd.append(\"subcategory[image]\", sub.image || \"\");\r\n      //   }\r\n      // }\r\nif (form.subcategory) {\r\n  const sub = subcategories.find((s) => s._id === form.subcategory);\r\n  if (sub) {\r\n    fd.append(\r\n      \"subcategory\",\r\n      JSON.stringify({\r\n        id: sub._id,\r\n        name: sub.name,\r\n        image: sub.image || \"\"\r\n      })\r\n    );\r\n  }\r\n} else {\r\n  fd.append(\"subcategory\", JSON.stringify(null));\r\n}\r\n\r\n      fd.append(\"basePrice\", form.basePrice);\r\n      fd.append(\"profitLoss\", form.profitLoss || 0);\r\n      if (form.description) fd.append(\"description\", form.description);\r\n      if (form.validTill) fd.append(\"validTill\", form.validTill);\r\n      fd.append(\"status\", form.status);\r\n      if (form.file) fd.append(\"file\", form.file);\r\n\r\n      if (editId) {\r\n        await axios.put(`${API_URL}/${editId}`, fd);\r\n        alert(\"Updated successfully\");\r\n      } else {\r\n        await axios.post(API_URL, fd);\r\n        alert(\"Added successfully\");\r\n      }\r\n\r\n      await fetchItems();\r\n      resetForm();\r\n    } catch (err) {\r\n      console.error(\"Save error\", err);\r\n      if (err.response?.data?.message === \"Product name already exists\") {\r\n        alert(\"‚ùå Product name already exists!\");\r\n      } else {\r\n        alert(\"Save failed!\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setForm({\r\n      name: \"\",\r\n      category: \"\",\r\n      subcategory: \"\",\r\n      description: \"\",\r\n      basePrice: \"\",\r\n      profitLoss: \"\",\r\n      validTill: \"\",\r\n      file: null,\r\n      status: \"inactive\",\r\n    });\r\n    setEditId(null);\r\n    setShowModal(false);\r\n    setShowForm(false);\r\n  };\r\n\r\n  const handleEdit = (item) => {\r\n    setForm({\r\n      name: item.name || \"\",\r\n      category: item.category?._id?.toString() || \"\",\r\n      subcategory: item.subcategory?._id || \"\",\r\n      description: item.description || \"\",\r\n      basePrice: item.basePrice || \"\",\r\n      profitLoss: item.profitLoss || 0,\r\n      validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\r\n      file: null,\r\n      status: item.status || \"inactive\",\r\n    });\r\n\r\n    const cat = categories.find((c) => c._id === item.category?._id);\r\n    setSubcategories(cat?.subcategories || []);\r\n\r\n    setEditId(item._id);\r\n    setShowModal(true);\r\n    setActiveMenu(null);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Delete this item?\")) return;\r\n    try {\r\n      await axios.delete(`${API_URL}/${id}`);\r\n      setItems((prev) => prev.filter((x) => x._id !== id));\r\n      setSelectedItems((prev) => prev.filter((x) => x !== id));\r\n      setActiveMenu(null);\r\n    } catch (err) {\r\n      console.error(\"Delete error\", err);\r\n      alert(\"Delete failed\");\r\n    }\r\n  };\r\n\r\n  const handleStatusToggle = async (item) => {\r\n    try {\r\n      const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\r\n      await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\r\n      setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\r\n    } catch (err) {\r\n      console.error(\"Status toggle error\", err);\r\n      alert(\"Status update failed\");\r\n    }\r\n  };\r\n\r\n  const updateLocalItemField = (id, key, value) => {\r\n    setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\r\n  };\r\n\r\n  const handleBulkSave = async () => {\r\n    if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n    const updates = items\r\n      .filter((x) => selectedItems.includes(x._id))\r\n      .map((x) => ({\r\n        id: x._id,\r\n        basePrice: Number(x.basePrice),\r\n        profitLoss: Number(x.profitLoss),\r\n        status: x.status,\r\n      }));\r\n\r\n    try {\r\n      await axios.post(`${API_URL}/bulk-update`, { products: updates });\r\n      alert(\"Bulk save successful\");\r\n      setBulkMode(false);\r\n      setSelectedItems([]);\r\n      fetchItems();\r\n    } catch (err) {\r\n      console.error(\"Bulk save error\", err);\r\n      alert(\"Bulk save failed\");\r\n    }\r\n  };\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (!selectedItems.length) return alert(\"No items selected\");\r\n    if (!window.confirm(\"Delete selected items?\")) return;\r\n\r\n    try {\r\n      await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\r\n      setSelectedItems([]);\r\n      fetchItems();\r\n      setBulkMode(false);\r\n    } catch (err) {\r\n      console.error(\"Bulk delete error\", err);\r\n      alert(\"Bulk delete failed\");\r\n    }\r\n  };\r\n\r\n  // Update Base Price inline\r\n  const updateBasePrice = async (item) => {\r\n    const newBase = Number(quickBasePrices[item._id] ?? item.basePrice);\r\n    if (isNaN(newBase)) return alert(\"Invalid Base Price\");\r\n\r\n    try {\r\n      setLoading(true);\r\n      const fd = new FormData();\r\n      fd.append(\"name\", item.name);\r\n      fd.append(\"category\", item.category?._id);\r\n      if (item.subcategory?.id) fd.append(\"subcategory\", item.subcategory.id);\r\n      fd.append(\"description\", item.description || \"\");\r\n      fd.append(\"basePrice\", newBase);\r\n      fd.append(\"profitLoss\", item.profitLoss);\r\n      fd.append(\"status\", item.status);\r\n\r\n      const res = await axios.put(`${API_URL}/${item._id}`, fd);\r\n      if (res.data.success) {\r\n        await fetchItems();\r\n        setQuickBasePrices((p) => ({ ...p, [item._id]: undefined }));\r\n        alert(\"Base price updated\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Update failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Update Profit/Loss inline using updateDiff\r\n  const updateProfitLoss = async (item) => {\r\n    const diff = Number(quickProfitLoss[item._id] ?? 0);\r\n    if (isNaN(diff)) return alert(\"Invalid Profit/Loss\");\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.put(`${API_URL}/updateDiff/${item._id}`, { diff });\r\n      if (res.data.success) {\r\n        await fetchItems();\r\n        setQuickProfitLoss((p) => ({ ...p, [item._id]: undefined }));\r\n        alert(\"Profit/Loss updated\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Update failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Filtering\r\n  const filteredItems = items.filter((item) => {\r\n    const t = search.toLowerCase();\r\n    const matchText =\r\n      (item.name || \"\").toLowerCase().includes(t) ||\r\n      (item.category?.name || \"\").toLowerCase().includes(t) ||\r\n      (item.subcategory?.name || \"\").toLowerCase().includes(t);\r\n\r\n    const matchCategory = !filterCategory || item.category?._id === filterCategory;\r\n    const matchSub = !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n\r\n    return matchText && matchCategory && matchSub;\r\n  });\r\n\r\n  // NEW: SORTING\r\n  let sortedItems = [...filteredItems];\r\n  if (sortOrder === \"low\") {\r\n    sortedItems.sort((a, b) => (Number(a.salePrice) || 0) - (Number(b.salePrice) || 0));\r\n  } else if (sortOrder === \"high\") {\r\n    sortedItems.sort((a, b) => (Number(b.salePrice) || 0) - (Number(a.salePrice) || 0));\r\n  }\r\n\r\n  const indexOfLast = currentPage * itemsPerPage;\r\n  const currentItems = sortedItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n  const totalPages = Math.max(1, Math.ceil(sortedItems.length / itemsPerPage));\r\n\r\n  return (\r\n    <div className=\"container\" style={styles.container}>\r\n      <div style={styles.header}>\r\n        <h1 style={styles.title}>Product Management</h1>\r\n      </div>\r\n\r\n      <div style={{ marginBottom: 12, display: \"flex\", gap: 12, flexWrap: \"wrap\", alignItems: \"center\" }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search product, category or subcategory...\"\r\n          value={search}\r\n          onChange={(e) => {\r\n            setSearch(e.target.value);\r\n            setCurrentPage(1);\r\n          }}\r\n          style={styles.searchInput}\r\n        />\r\n\r\n        {/* <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n          <label style={styles.smallLabel}>Sort</label>\r\n          <select\r\n            value={sortOrder}\r\n            onChange={(e) => setSortOrder(e.target.value)}\r\n            style={styles.sortSelect}\r\n          >\r\n            <option value=\"\">Default</option>\r\n            <option value=\"low\">Price: Low ‚Üí High</option>\r\n            <option value=\"high\">Price: High ‚Üí Low</option>\r\n          </select>\r\n        </div> */}\r\n\r\n        <button\r\n          style={styles.addButton}\r\n          onClick={() => {\r\n            setShowForm(!showForm);\r\n            setEditId(null);\r\n          }}\r\n        >\r\n          {showForm ? \"‚úñ Close\" : \"‚ûï Add Product\"}\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", gap: 8, marginBottom: 12, flexWrap: \"wrap\" }}>\r\n        <button\r\n          style={styles.exportButton}\r\n          onClick={() => window.open(`${API_URL}/export`, \"_blank\")}\r\n        >\r\n          ‚¨á Export CSV\r\n        </button>\r\n\r\n        <label style={{ cursor: \"pointer\" }}>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".csv\"\r\n            style={{ display: \"none\" }}\r\n            onChange={async (e) => {\r\n              try {\r\n                const fd = new FormData();\r\n                fd.append(\"file\", e.target.files[0]);\r\n                await axios.post(`${API_URL}/import`, fd);\r\n                alert(\"Imported successfully\");\r\n                fetchItems();\r\n              } catch (err) {\r\n                alert(\"Import failed\");\r\n              }\r\n            }}\r\n          />\r\n          <span style={styles.importButton}>üì§ Import CSV</span>\r\n        </label>\r\n      </div>\r\n\r\n      <div style={{ display: \"flex\", gap: 10, marginBottom: 12, flexWrap: \"wrap\" }}>\r\n        <select\r\n          value={filterCategory}\r\n          onChange={(e) => setFilterCategory(e.target.value)}\r\n          style={styles.select}\r\n        >\r\n          <option value=\"\">Filter by Category</option>\r\n          {categories.map((c) => (\r\n            <option key={c._id} value={c._id}>\r\n              {c.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <select\r\n          value={filterSubcategory}\r\n          onChange={(e) => setFilterSubcategory(e.target.value)}\r\n          disabled={!filterSubs.length}\r\n          style={styles.select}\r\n        >\r\n          <option value=\"\">Filter by Subcategory</option>\r\n          {filterSubs.map((s) => (\r\n            <option key={s._id} value={s._id}>\r\n              {s.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {selectedItems.length > 0 && (\r\n        <div style={styles.bulkBar}>\r\n          {!bulkMode ? (\r\n            <div style={{ display: \"flex\", gap: 8 }}>\r\n              <button style={styles.btnDelete} onClick={handleBulkDelete}>\r\n                üóë Bulk Delete\r\n              </button>\r\n              <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\r\n                ‚úè Bulk Edit\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div style={styles.bulkPanel}>\r\n              <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\r\n\r\n              {items\r\n                .filter((item) => selectedItems.includes(item._id))\r\n                .map((item) => (\r\n                  <div key={item._id} style={styles.bulkItemBox}>\r\n                    <h4 style={styles.bulkItemTitle}>{item.name}</h4>\r\n\r\n                    <div style={styles.formGrid}>\r\n                      <div style={styles.formGroup}>\r\n                        <label style={styles.label}>Base Price</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={item.basePrice}\r\n                          onChange={(e) => updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))}\r\n                          style={styles.input}\r\n                        />\r\n                      </div>\r\n\r\n                      <div style={styles.formGroup}>\r\n                        <label style={styles.label}>Profit/Loss</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={item.profitLoss}\r\n                          onChange={(e) => updateLocalItemField(item._id, \"profitLoss\", Number(e.target.value))}\r\n                          style={styles.input}\r\n                        />\r\n                      </div>\r\n\r\n                      <div style={styles.formGroup}>\r\n                        <label style={styles.label}>Status</label>\r\n                        <select\r\n                          value={item.status}\r\n                          onChange={(e) => updateLocalItemField(item._id, \"status\", e.target.value)}\r\n                          style={styles.select}\r\n                        >\r\n                          <option value=\"active\">active</option>\r\n                          <option value=\"inactive\">inactive</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n\r\n              <div style={{ display: \"flex\", gap: 10, marginTop: 12, flexWrap: 'wrap' }}>\r\n                <button style={styles.btnPrimary} onClick={handleBulkSave}>\r\n                  ‚úî Save All\r\n                </button>\r\n\r\n                <button\r\n                  style={styles.btnPrimary}\r\n                  onClick={async () => {\r\n                    if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n                    for (let id of selectedItems) await axios.post(`${API_URL}/copy/${id}`);\r\n\r\n                    alert(\"Selected copied\");\r\n                    fetchItems();\r\n                  }}\r\n                >\r\n                  üìÑ Copy Selected\r\n                </button>\r\n\r\n                <button\r\n                  style={styles.btnPrimary}\r\n                  onClick={async () => {\r\n                    if (!selectedItems.length) return alert(\"No items selected\");\r\n\r\n                    const res = await axios.post(\r\n                      `${API_URL}/export-selected`,\r\n                      { ids: selectedItems },\r\n                      { responseType: \"blob\" }\r\n                    );\r\n\r\n                    const url = window.URL.createObjectURL(new Blob([res.data]));\r\n                    const a = document.createElement(\"a\");\r\n                    a.href = url;\r\n                    a.download = \"selected.csv\";\r\n                    a.click();\r\n                  }}\r\n                >\r\n                  ‚¨á Export Selected\r\n                </button>\r\n\r\n                <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\r\n                  ‚úñ Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {showForm && (\r\n        <div style={styles.formCard}>\r\n          <h2 style={styles.formTitle}>‚ûï Add / Edit Product</h2>\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div style={styles.formGrid}>\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Product Name *</label>\r\n                <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Category *</label>\r\n                <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n                  <option value=\"\">Select Category</option>\r\n                  {categories.map((c) => (\r\n                    <option value={c._id} key={c._id}>\r\n                      {c.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Subcategory</label>\r\n                <select\r\n                  name=\"subcategory\"\r\n                  value={form.subcategory}\r\n                  onChange={handleChange}\r\n                  disabled={!subcategories.length}\r\n                  style={styles.select}\r\n                >\r\n                  <option value=\"\">Select Subcategory</option>\r\n                  {subcategories.map((s) => (\r\n                    <option value={s._id} key={s._id}>\r\n                      {s.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Base Price *</label>\r\n                <input\r\n                  type=\"number\"\r\n                  required\r\n                  name=\"basePrice\"\r\n                  value={form.basePrice}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Profit/Loss</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"profitLoss\"\r\n                  value={form.profitLoss}\r\n                  onChange={handleChange}\r\n                  style={styles.input}\r\n                />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Valid Till</label>\r\n                <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Image</label>\r\n                <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Status</label>\r\n                <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n                  <option value=\"active\">Active</option>\r\n                  <option value=\"inactive\">Inactive</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={styles.formGroup}>\r\n              <label style={styles.label}>Description</label>\r\n              <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n            </div>\r\n\r\n            <div style={styles.formActions}>\r\n              <button style={styles.btnPrimary} disabled={loading}>\r\n                {loading ? \"Saving...\" : editId ? \"Update Product\" : \"Add Product\"}\r\n              </button>\r\n\r\n              <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      <div style={styles.tableCard}>\r\n        <div style={styles.tableHeader}>\r\n          <h2 style={styles.tableTitle}>Items</h2>\r\n          <span style={styles.totalCount}>Total: {filteredItems.length}</span>\r\n        </div>\r\n\r\n        <div style={styles.tableWrapper}>\r\n          <table style={styles.table}>\r\n            <thead>\r\n              <tr>\r\n                <th style={styles.th}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\r\n                    onChange={() => {\r\n                      if (selectedItems.length === filteredItems.length) setSelectedItems([]);\r\n                      else setSelectedItems(filteredItems.map((x) => x._id));\r\n                    }}\r\n                  />\r\n                </th>\r\n                <th style={styles.th}>Sr</th>\r\n                <th style={styles.th}>Image</th>\r\n                <th style={styles.th}>Name</th>\r\n                <th style={styles.th}>Category</th>\r\n                <th style={styles.th}>Subcategory</th>\r\n                <th style={styles.th}>Base Price</th>\r\n                <th style={styles.th}>Profit/Loss</th>\r\n                <th style={styles.th}>Sale Price</th>\r\n                <th style={styles.th}>Price Lock</th>\r\n                <th style={styles.th}>Teji/Maddi</th>\r\n                <th style={styles.th}>Status</th>\r\n                <th style={styles.th}>Actions</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {currentItems.map((item, i) => (\r\n                <tr key={item._id} style={styles.tr}>\r\n                  <td style={styles.td}>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={selectedItems.includes(item._id)}\r\n                      onChange={() =>\r\n                        setSelectedItems((prev) =>\r\n                          prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]\r\n                        )\r\n                      }\r\n                    />\r\n                  </td>\r\n\r\n                  <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n\r\n                  <td style={styles.td}>\r\n                    {item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}\r\n                  </td>\r\n\r\n                  <td style={styles.td}>{item.name}</td>\r\n                  <td style={styles.td}>{item.category?.name || \"-\"}</td>\r\n                  <td style={styles.td}>{item.subcategory?.name || \"-\"}</td>\r\n\r\n                  {/* BASE PRICE - Editable */}\r\n                  <td style={styles.td}>\r\n                    <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={quickBasePrices[item._id] !== undefined ? quickBasePrices[item._id] : item.basePrice}\r\n                        onChange={(e) => setQuickBasePrices((p) => ({ ...p, [item._id]: e.target.value }))}\r\n                        style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n                      />\r\n                      <button style={styles.btnSmall} onClick={() => updateBasePrice(item)}>\r\n                        ‚úî\r\n                      </button>\r\n                    </div>\r\n                    <small style={{ color: \"#28a745\", display: \"block\", marginTop: 4 }}>Saved: ‚Çπ{item.basePrice}</small>\r\n                  </td>\r\n\r\n                  {/* PROFIT/LOSS - Editable */}\r\n                  <td style={styles.td}>\r\n                    <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\r\n                      <input\r\n                        type=\"number\"\r\n                        placeholder=\"change\"\r\n                        value={quickProfitLoss[item._id] ?? \"\"}\r\n                        onChange={(e) => setQuickProfitLoss((p) => ({ ...p, [item._id]: e.target.value }))}\r\n                        style={{ ...styles.input, padding: \"6px 8px\", width: 80 }}\r\n                      />\r\n                      <button style={styles.btnSmall} onClick={() => updateProfitLoss(item)}>\r\n                        ‚úî\r\n                      </button>\r\n                    </div>\r\n                    <small style={{ color: \"#666\", display: \"block\", marginTop: 4 }}>Current: {item.profitLoss}</small>\r\n                  </td>\r\n\r\n                  {/* SALE PRICE */}\r\n                  <td style={styles.td}>‚Çπ{item.salePrice}</td>\r\n\r\n                  {/* PRICE LOCK */}\r\n                  <td style={styles.td}>‚Çπ{item.lockedPrice}</td>\r\n\r\n                  {/* TEJI/MADDI */}\r\n                  <td style={styles.td}>\r\n                    {item.lockedPrice === 0 ? (\r\n                      <span style={{ color: \"#6c757d\", fontWeight: \"600\" }}>0</span>\r\n                    ) : (\r\n                      (() => {\r\n                        const teji = item.salePrice - item.lockedPrice;\r\n                        return (\r\n                          <span\r\n                            style={{\r\n                              color: teji >= 0 ? \"#28a745\" : \"#dc3545\",\r\n                              fontWeight: \"600\",\r\n                            }}\r\n                          >\r\n                            {teji >= 0 ? \"‚ñ≤\" : \"‚ñº\"} {Math.abs(teji)}\r\n                          </span>\r\n                        );\r\n                      })()\r\n                    )}\r\n                  </td>\r\n\r\n                  {/* STATUS */}\r\n                  <td style={styles.td}>\r\n                    <button\r\n                      style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\r\n                      onClick={() => handleStatusToggle(item)}\r\n                    >\r\n                      {item.status === \"active\" ? \"Active\" : \"Inactive\"}\r\n                    </button>\r\n                  </td>\r\n\r\n                  {/* ACTIONS */}\r\n                  <td style={styles.td}>\r\n                    <div style={{ position: \"relative\" }}>\r\n                      <button\r\n                        style={styles.menuButton}\r\n                        onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\r\n                      >\r\n                        ‚ãÆ\r\n                      </button>\r\n\r\n                      {activeMenu === item._id && (\r\n                        <div style={styles.dropdown}>\r\n                          <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\r\n                            ‚úè Edit\r\n                          </button>\r\n\r\n                          <button\r\n                            style={styles.dropdownItem}\r\n                            onClick={async () => {\r\n                              await axios.post(`${API_URL}/copy/${item._id}`);\r\n                              alert(\"Copied successfully\");\r\n                              fetchItems();\r\n                            }}\r\n                          >\r\n                            üìÑ Copy\r\n                          </button>\r\n\r\n                          <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\r\n                            üóë Delete\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div style={styles.pagination}>\r\n          <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\r\n            Previous\r\n          </button>\r\n\r\n          {Array.from({ length: totalPages }, (_, i) => (\r\n            <button\r\n              key={i}\r\n              style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\r\n              onClick={() => setCurrentPage(i + 1)}\r\n            >\r\n              {i + 1}\r\n            </button>\r\n          ))}\r\n\r\n          <button\r\n            style={styles.paginationBtn}\r\n            disabled={currentPage === totalPages}\r\n            onClick={() => setCurrentPage((p) => p + 1)}\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\r\n          <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n            <h2 style={styles.modalTitle}>‚úè Edit Product</h2>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n              <div style={styles.formGrid}>\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Product Name *</label>\r\n                  <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Category *</label>\r\n                  <select required name=\"category\" value={form.category} onChange={handleChange} style={styles.select}>\r\n                    <option value=\"\">Select Category</option>\r\n                    {categories.map((c) => (\r\n                      <option value={c._id} key={c._id}>\r\n                        {c.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Subcategory</label>\r\n                  <select\r\n                    name=\"subcategory\"\r\n                    value={form.subcategory}\r\n                    onChange={handleChange}\r\n                    disabled={!subcategories.length}\r\n                    style={styles.select}\r\n                  >\r\n                    <option value=\"\">Select Subcategory</option>\r\n                    {subcategories.map((s) => (\r\n                      <option value={s._id} key={s._id}>\r\n                        {s.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Base Price *</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    required\r\n                    name=\"basePrice\"\r\n                    value={form.basePrice}\r\n                    onChange={handleChange}\r\n                    style={styles.input}\r\n                  />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Profit/Loss</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"profitLoss\"\r\n                    value={form.profitLoss}\r\n                    onChange={handleChange}\r\n                    style={styles.input}\r\n                  />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Valid Till</label>\r\n                  <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Image</label>\r\n                  <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Status</label>\r\n                  <select name=\"status\" value={form.status} onChange={handleChange} style={styles.select}>\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"inactive\">Inactive</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Description</label>\r\n                <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n              </div>\r\n\r\n              <div style={styles.formActions}>\r\n                <button style={styles.btnPrimary} disabled={loading}>\r\n                  {loading ? \"Saving...\" : \"Update\"}\r\n                </button>\r\n\r\n                <button type=\"button\" style={styles.btnCancel} onClick={resetForm}>\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {  fontFamily: \"Inter, Arial, sans-serif\", background: \"#f6f8fa\", minHeight: \"100vh\" },\r\n  header: { marginBottom: 8 },\r\n  title: {\r\n    fontSize: \"22px\",\r\n    fontWeight: 800,\r\n    color: \"#0f1724\",\r\n    marginBottom: \"8px\",\r\n  },\r\n  searchInput: {\r\n    flex: \"1\",\r\n    minWidth: \"260px\",\r\n    padding: \"12px 14px\",\r\n    borderRadius: \"12px\",\r\n    border: \"1px solid #e2e8f0\",\r\n    background: \"#fff\",\r\n    fontSize: \"14px\",\r\n    outline: \"none\",\r\n    boxShadow: \"0 1px 2px rgba(16,24,40,0.03)\",\r\n  },\r\n  addButton: {\r\n    background: \"#ff0b0bff\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"10px\",\r\n    padding: \"10px 16px\",\r\n    fontSize: \"14px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    boxShadow: \"0 6px 18px rgba(11,105,255,0.12)\",\r\n  },\r\n  exportButton: {\r\n    background: \"#fff\",\r\n    color: \"#0f1724\",\r\n    border: \"1px solid #e6eefc\",\r\n    borderRadius: 10,\r\n    padding: \"8px 12px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n  },\r\n  importButton: {\r\n    background: \"#fff\",\r\n    color: \"#0f1724\",\r\n    border: \"1px solid #e6eefc\",\r\n    borderRadius: 10,\r\n    padding: \"8px 12px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    marginLeft: 8,\r\n  },\r\n  select: {\r\n    padding: \"10px 12px\",\r\n    borderRadius: \"10px\",\r\n    border: \"1px solid #e2e8f0\",\r\n    background: \"#fff\",\r\n    fontSize: \"13px\",\r\n    minWidth: \"160px\",\r\n  },\r\n  sortSelect: {\r\n    padding: \"10px 12px\",\r\n    borderRadius: \"10px\",\r\n    border: \"1px solid #dbeafe\",\r\n    background: \"#f8fbff\",\r\n    fontSize: \"13px\",\r\n    minWidth: \"170px\",\r\n    fontWeight: 700,\r\n    color: \"#0f1724\",\r\n  },\r\n  smallLabel: {\r\n    fontSize: 12,\r\n    color: \"#475569\",\r\n    fontWeight: 700,\r\n    marginRight: 6,\r\n  },\r\n  bulkBar: {\r\n    background: \"#eef2ff\",\r\n    border: \"1px solid #dbeafe\",\r\n    borderRadius: \"10px\",\r\n    padding: \"12px\",\r\n    marginBottom: \"12px\",\r\n  },\r\n  bulkPanel: {\r\n    width: \"100%\",\r\n    background: \"#fff\",\r\n    border: \"1px solid #eef2ff\",\r\n    padding: \"12px\",\r\n    borderRadius: \"10px\",\r\n  },\r\n  bulkPanelTitle: {\r\n    textAlign: \"center\",\r\n    fontSize: \"16px\",\r\n    fontWeight: 700,\r\n    marginBottom: \"10px\",\r\n    color: \"#0f1724\",\r\n  },\r\n  bulkItemBox: {\r\n    background: \"#ffffff\",\r\n    border: \"1px solid #eef2ff\",\r\n    padding: \"12px\",\r\n    borderRadius: \"8px\",\r\n    marginBottom: \"10px\",\r\n  },\r\n  bulkItemTitle: {\r\n    fontSize: \"14px\",\r\n    fontWeight: 700,\r\n    marginBottom: \"8px\",\r\n    color: \"#0f1724\",\r\n  },\r\n  formCard: {\r\n    borderRadius: \"12px\",\r\n    padding: \"18px\",\r\n    marginBottom: \"18px\",\r\n    background: \"#fff\",\r\n    border: \"1px solid #eef2ff\",\r\n    boxShadow: \"0 4px 16px rgba(2,6,23,0.04)\",\r\n  },\r\n  formTitle: {\r\n    fontSize: \"18px\",\r\n    fontWeight: 800,\r\n    marginBottom: 16,\r\n    color: \"#0f1724\",\r\n  },\r\n  formGrid: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(auto-fit, minmax(220px, 1fr))\",\r\n    gap: \"12px\",\r\n  },\r\n  formGroup: { display: \"flex\", flexDirection: \"column\", gap: \"6px\" },\r\n  label: { fontWeight: 700, fontSize: \"13px\", color: \"#0f1724\" },\r\n  input: {\r\n    padding: \"10px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #e6eef8\",\r\n    background: \"#fff\",\r\n    fontSize: \"13px\",\r\n    outline: \"none\",\r\n  },\r\n  textarea: {\r\n    padding: \"10px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #e6eef8\",\r\n    background: \"#fff\",\r\n    minHeight: 80,\r\n    fontSize: \"13px\",\r\n    outline: \"none\",\r\n    resize: \"vertical\",\r\n  },\r\n  fileInput: { padding: \"6px\", fontSize: \"13px\" },\r\n  formActions: { marginTop: 16, display: \"flex\", gap: 10 },\r\n  btnPrimary: {\r\n    background: \"#ff0b0bff\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"10px 20px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    fontSize: \"14px\",\r\n  },\r\n  btnSmall: {\r\n    background: \"#b91010ff\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"6px\",\r\n    padding: \"6px 12px\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"12px\",\r\n    fontWeight: 700,\r\n  },\r\n  btnDelete: {\r\n    background: \"#ef4444\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"8px 14px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    fontSize: \"14px\",\r\n  },\r\n  btnCancel: {\r\n    background: \"#6b7280\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"10px 20px\",\r\n    cursor: \"pointer\",\r\n    fontWeight: 700,\r\n    fontSize: \"14px\",\r\n  },\r\n  tableCard: {\r\n    marginTop: 16,\r\n\r\n\r\n\r\n\r\n\r\n  },\r\n  tableHeader: { display: \"flex\", justifyContent: \"space-between\", marginBottom: 12, alignItems: \"center\" },\r\n  tableTitle: { fontSize: \"18px\", fontWeight: 800, color: \"#0f1724\" },\r\n  totalCount: { fontSize: \"14px\", color: \"#64748b\", fontWeight: 700 },\r\n  tableWrapper: { overflowX: \"auto\", border: \"1px solid #eef2ff\", borderRadius: \"8px\" },\r\n  table: { width: \"100%\", borderCollapse: \"collapse\", fontSize: \"13px\" },\r\n  th: {\r\n    background: \"#fbfdff\",\r\n    padding: \"12px 10px\",\r\n    fontWeight: 800,\r\n    color: \"#0f1724\",\r\n    textAlign: \"left\",\r\n    borderBottom: \"2px solid #eef2ff\",\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n  tr: { borderBottom: \"1px solid #f1f5f9\", transition: \"background 0.2s\" },\r\n  td: { padding: \"12px 10px\", whiteSpace: \"nowrap\", verticalAlign: \"middle\" },\r\n  tableImg: { width: \"50px\", height: \"50px\", borderRadius: \"6px\", objectFit: \"cover\" },\r\n  statusActive: {\r\n    background: \"#d1fae5\",\r\n    padding: \"6px 12px\",\r\n    borderRadius: \"6px\",\r\n    color: \"#065f46\",\r\n    fontWeight: 700,\r\n    border: \"1px solid #bbf7d0\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"12px\",\r\n  },\r\n  statusInactive: {\r\n    background: \"#fee2e2\",\r\n    padding: \"6px 12px\",\r\n    borderRadius: \"6px\",\r\n    color: \"#991b1b\",\r\n    fontWeight: 700,\r\n    border: \"1px solid #fecaca\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"12px\",\r\n  },\r\n  menuButton: { background: \"#fff\", border: \"1px solid #e6eef8\", borderRadius: \"6px\", padding: \"6px 10px\", fontSize: \"16px\", cursor: \"pointer\", fontWeight: 700 },\r\n  dropdown: { position: \"absolute\", right: 0, top: 36, background: \"#fff\", border: \"1px solid #e6eef8\", borderRadius: 8, zIndex: 100, minWidth: 140, boxShadow: \"0 8px 30px rgba(2,6,23,0.08)\" },\r\n  dropdownItem: { display: \"block\", width: \"100%\", padding: \"10px 14px\", background: \"transparent\", border: \"none\", textAlign: \"left\", cursor: \"pointer\", fontSize: 13, fontWeight: 700, transition: \"background 0.12s\" },\r\n  dropdownItemDelete: { display: \"block\", width: \"100%\", padding: \"10px 14px\", background: \"transparent\", border: \"none\", textAlign: \"left\", cursor: \"pointer\", fontSize: 13, fontWeight: 700, color: \"#ef4444\", transition: \"background 0.12s\" },\r\n  pagination: { marginTop: 16, display: \"flex\", justifyContent: \"center\", gap: 8, flexWrap: \"wrap\" },\r\n  paginationBtn: { padding: \"8px 12px\", borderRadius: 8, background: \"#fff\", border: \"1px solid #e6eef8\", cursor: \"pointer\", fontSize: \"13px\", fontWeight: 700 },\r\n  paginationBtnActive: { padding: \"8px 12px\", borderRadius: 8, background: \"#0b69ff\", color: \"white\", border: \"1px solid #0b69ff\", cursor: \"pointer\", fontSize: \"13px\", fontWeight: 800 },\r\n  modalOverlay: { position: \"fixed\", top: 0, left: 0, right: 0, bottom: 0, background: \"rgba(2,6,23,0.5)\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", zIndex: 1000, padding: 20 },\r\n  modal: { background: \"#fff\", borderRadius: 12, padding: 24, maxWidth: 700, width: \"100%\", maxHeight: \"90vh\", overflowY: \"auto\", boxShadow: \"0 12px 48px rgba(2,6,23,0.12)\" },\r\n  modalTitle: { fontSize: 20, fontWeight: 800, color: \"#0f1724\", marginBottom: 16, textAlign: \"center\" },\r\n};\r\n"],"mappings":";;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}