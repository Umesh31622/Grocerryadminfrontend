{"ast":null,"code":"var _jsxFileName = \"E:\\\\infyle\\\\Grocerry_final\\\\frontend\\\\src\\\\pages\\\\PriceList.jsx\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n// import \"./PriceList.css\"\n// const API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\n// const CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\n\n// export default function PriceList() {\n//   const [items, setItems] = useState([]);\n//   const [categories, setCategories] = useState([]);\n//   const [subcategories, setSubcategories] = useState([]);\n//   const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\n//   const [search, setSearch] = useState(\"\");\n//   const [loading, setLoading] = useState(false);\n\n//   // FORM state\n//   const [form, setForm] = useState({\n//     name: \"\",\n//     category: \"\",\n//     subcategory: \"\",\n//     description: \"\",\n//     basePrice: \"\",\n//     difference: \"\",\n//     validTill: \"\",\n//     file: null,\n//   });\n\n//   const [editId, setEditId] = useState(null);\n//   const [isCopyMode, setIsCopyMode] = useState(false);\n//   const [showForm, setShowForm] = useState(false);\n//   const [showModal, setShowModal] = useState(false);\n//   const [activeMenu, setActiveMenu] = useState(null);\n\n//   const [addingCategory, setAddingCategory] = useState(false);\n//   const [newCategoryName, setNewCategoryName] = useState(\"\");\n//   const [newCategoryImage, setNewCategoryImage] = useState(null);\n//   const [newCategoryPreview, setNewCategoryPreview] = useState(null);\n\n//   const [addingSub, setAddingSub] = useState(false);\n//   const [newSubName, setNewSubName] = useState(\"\");\n//   const [newSubImage, setNewSubImage] = useState(null);\n//   const [newSubPreview, setNewSubPreview] = useState(null);\n\n//   const [selectedItems, setSelectedItems] = useState([]);\n//   const [bulkMode, setBulkMode] = useState(false);\n\n//   const [csvFile, setCsvFile] = useState(null);\n//   const csvInputRef = useRef();\n\n//   const [currentPage, setCurrentPage] = useState(1);\n//   const itemsPerPage = 30;\n\n//   const [filterCategory, setFilterCategory] = useState(\"\");\n// const [filterSubcategory, setFilterSubcategory] = useState(\"\");\n// const [filterSubs, setFilterSubs] = useState([]);\n\n// useEffect(() => {\n//   if (!filterCategory) {\n//     setFilterSubs([]);\n//     setFilterSubcategory(\"\");\n//     return;\n//   }\n\n//   const cat = categories.find(c => c._id === filterCategory);\n//   setFilterSubs(cat?.subcategories || []);\n//   setFilterSubcategory(\"\");\n// }, [filterCategory, categories]);\n\n//   // useEffect(() => {\n//   //   fetchItems();\n//   //   fetchCategories();\n\n//   //   const handleResize = () => setIsMobile(window.innerWidth < 768);\n//   //   window.addEventListener(\"resize\", handleResize);\n//   //   return () => window.removeEventListener(\"resize\", handleResize);\n//   // }, []);\n//   // 1. Pehle categories load karo\n// useEffect(() => {\n//   fetchCategories();\n// }, []);\n\n// // 2. Categories load hone ke baad items load karo\n// useEffect(() => {\n//   if (categories.length > 0) {\n//     fetchItems();\n//   }\n// }, [categories]);\n\n// // 3. Resize listener\n// useEffect(() => {\n//   const handleResize = () => setIsMobile(window.innerWidth < 768);\n//   window.addEventListener(\"resize\", handleResize);\n//   return () => window.removeEventListener(\"resize\", handleResize);\n// }, []);\n\n//   const fetchItems = async () => {\n//     try {\n//       setLoading(true);\n//       const res = await axios.get(API_URL);\n//       // if (res.data && res.data.success) setItems(res.data.data || []);\n//       if (res.data && res.data.success) {\n//   const raw = res.data.data;\n\n//   // Agar categories abhi load nahi hui = raw items set\n//   if (!categories.length) {\n//     setItems(raw);\n//     return;\n//   }\n\n//   // Mapping to category + subcategory object\n//   const enriched = raw.map((item) => {\n//     const cat = categories.find(\n//       (c) =>\n//         c._id === item.category ||\n//         c._id === item.category?._id\n//     );\n\n//     const sub = cat?.subcategories?.find(\n//       (s) =>\n//         s._id === item.subcategory ||\n//         s._id === item.subcategory?._id\n//     );\n\n//     return {\n//       ...item,\n//       category: cat\n//         ? { _id: cat._id, name: cat.name }\n//         : item.category,\n\n//       subcategory: sub\n//         ? { _id: sub._id, name: sub.name }\n//         : item.subcategory,\n//     };\n//   });\n\n//   setItems(enriched);\n// }\n\n//     } catch (err) {\n//       console.error(\"Fetch items error\", err);\n//       alert(\"Could not fetch items\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const fetchCategories = async () => {\n//     try {\n//       const res = await axios.get(CATEGORY_URL);\n//       if (res.data && res.data.success) setCategories(res.data.categories || []);\n//     } catch (err) {\n//       console.error(\"Fetch categories error\", err);\n//       alert(\"Could not fetch categories\");\n//     }\n//   };\n\n//   useEffect(() => {\n//     if (!form.category) {\n//       setSubcategories([]);\n//       setForm((prev) => ({ ...prev, subcategory: \"\" }));\n//       return;\n//     }\n\n//     const cat = categories.find((c) => c._id === form.category);\n//     const subs = (cat && cat.subcategories) || [];\n//     setSubcategories(subs);\n\n//     const exists = subs.some((s) => s._id === form.subcategory);\n//     if (!exists) setForm((prev) => ({ ...prev, subcategory: \"\" }));\n//   }, [form.category, categories]);\n\n//   const handleCreateCategory = async () => {\n//     if (!newCategoryName.trim()) return alert(\"Enter category name\");\n//     try {\n//       const fd = new FormData();\n//       fd.append(\"name\", newCategoryName.trim());\n//       if (newCategoryImage) fd.append(\"image\", newCategoryImage);\n\n//       const res = await axios.post(CATEGORY_URL, fd);\n//       if (res.data && res.data.success) {\n//         alert(\"Category created\");\n//         setNewCategoryName(\"\");\n//         setNewCategoryImage(null);\n//         setNewCategoryPreview(null);\n//         setAddingCategory(false);\n//         fetchCategories();\n//       } else {\n//         alert(\"Category creation failed\");\n//       }\n//     } catch (err) {\n//       console.error(\"Create category error\", err);\n//       alert(\"Category creation failed\");\n//     }\n//   };\n\n//   const handleCreateSub = async () => {\n//     if (!newSubName.trim()) return alert(\"Enter subcategory name\");\n//     if (!form.category) return alert(\"Select category first\");\n\n//     try {\n//       const fd = new FormData();\n//       fd.append(\"name\", newSubName.trim());\n//       if (newSubImage) fd.append(\"image\", newSubImage);\n\n//       const res = await axios.post(`${CATEGORY_URL}/${form.category}/sub`, fd);\n//       if (res.data && res.data.success) {\n//         alert(\"Subcategory created\");\n//         setNewSubName(\"\");\n//         setNewSubImage(null);\n//         setNewSubPreview(null);\n//         setAddingSub(false);\n//         fetchCategories();\n//       } else {\n//         alert(\"Subcategory creation failed\");\n//       }\n//     } catch (err) {\n//       console.error(\"Create sub error\", err);\n//       alert(\"Subcategory creation failed\");\n//     }\n//   };\n\n//   const handleChange = (e) => {\n//     const { name, value, files } = e.target;\n//     if (files && files.length) {\n//       setForm((p) => ({ ...p, file: files[0] }));\n//     } else {\n//       setForm((p) => ({ ...p, [name]: value }));\n//     }\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n\n//     try {\n//       if (!form.name || !form.category || !form.basePrice) {\n//         alert(\"Name, category & base price are required\");\n//         setLoading(false);\n//         return;\n//       }\n\n//       const fd = new FormData();\n//       Object.keys(form).forEach((k) => {\n//         const val = form[k];\n//         if (val !== undefined && val !== null) {\n//           fd.append(k, val);\n//         }\n//       });\n\n//       let res;\n//       if (isCopyMode) {\n//         res = await axios.post(API_URL, fd);\n//         alert(\"Copied as new item\");\n//       } else if (editId) {\n//         res = await axios.put(`${API_URL}/${editId}`, fd);\n//         alert(\"Updated\");\n//       } else {\n//         res = await axios.post(API_URL, fd);\n//         alert(\"Added\");\n//       }\n\n//       await fetchItems();\n//       await fetchCategories();\n\n//       setForm({\n//         name: \"\",\n//         category: \"\",\n//         subcategory: \"\",\n//         description: \"\",\n//         basePrice: \"\",\n//         difference: \"\",\n//         validTill: \"\",\n//         file: null,\n//       });\n//       setEditId(null);\n//       setIsCopyMode(false);\n//       setShowModal(false);\n//       setShowForm(false);\n//     } catch (err) {\n//       console.error(\"Save error\", err);\n//       alert(\"Save failed\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleEdit = (item) => {\n//     setForm({\n//       name: item.name || \"\",\n//       category: item.category?._id?.toString() || \"\",\n//       subcategory: item.subcategory?._id?.toString() || \"\",\n//       description: item.description || \"\",\n//       basePrice: item.basePrice ?? \"\",\n//       difference: item.difference ?? \"\",\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\n//       file: null,\n//     });\n\n//     const cat = categories.find((c) => c._id === item.category?._id);\n//     setSubcategories(cat?.subcategories || []);\n\n//     setEditId(item._id);\n//     setIsCopyMode(false);\n//     setShowModal(true);\n//     setActiveMenu(null);\n//   };\n\n//   const handleCopyToEdit = (item) => {\n//     setForm({\n//       name: item.name || \"\",\n//       category: item.category?._id?.toString() || \"\",\n//       subcategory: item.subcategory?._id?.toString() || \"\",\n//       description: item.description || \"\",\n//       basePrice: item.basePrice ?? \"\",\n//       difference: item.difference ?? \"\",\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\n//       file: null,\n//     });\n\n//     const cat = categories.find((c) => c._id === item.category?._id);\n//     setSubcategories(cat?.subcategories || []);\n\n//     setEditId(null);\n//     setIsCopyMode(true);\n//     setShowModal(true);\n//     setActiveMenu(null);\n//   };\n\n//   const handleDelete = async (id) => {\n//     if (!window.confirm(\"Delete item?\")) return;\n//     try {\n//       await axios.delete(`${API_URL}/${id}`);\n//       setItems((prev) => prev.filter((x) => x._id !== id));\n//       setSelectedItems((prev) => prev.filter((x) => x !== id));\n//       setActiveMenu(null);\n//     } catch (err) {\n//       console.error(\"Delete error\", err);\n//       alert(\"Delete failed\");\n//     }\n//   };\n\n//   const handleStatusToggle = async (item) => {\n//     try {\n//       const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\n//       await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\n//       setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\n//     } catch (err) {\n//       console.error(\"Status toggle error\", err);\n//       alert(\"Status update failed\");\n//     }\n//   };\n\n//   const handleBulkDelete = async () => {\n//     if (!selectedItems.length) return alert(\"No items selected\");\n//     if (!window.confirm(\"Delete selected items?\")) return;\n\n//     try {\n//       await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\n//       setSelectedItems([]);\n//       fetchItems();\n//       setBulkMode(false);\n//     } catch (err) {\n//       console.error(\"Bulk delete error\", err);\n//       alert(\"Bulk delete failed\");\n//     }\n//   };\n\n//   const updateLocalItemField = (id, key, value) => {\n//     setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\n//   };\n\n//   const handleBulkSave = async () => {\n//     if (!selectedItems.length) return alert(\"No items selected for bulk save\");\n\n//     const updates = items\n//       .filter((x) => selectedItems.includes(x._id))\n//       .map((x) => ({\n//         id: x._id,\n//         name: x.name,\n//         basePrice: x.basePrice,\n//         difference: x.difference,\n//         validTill: x.validTill,\n//       }));\n\n//     try {\n//       await axios.post(`${API_URL}/bulk-update`, { products: updates });\n//       setBulkMode(false);\n//       setSelectedItems([]);\n//       fetchItems();\n//     } catch (err) {\n//       console.error(\"Bulk save error\", err);\n//       alert(\"Bulk save failed\");\n//     }\n//   };\n\n//   const handleCsvSelect = (e) => {\n//     setCsvFile(e.target.files[0]);\n//   };\n\n//   const handleImportCsv = async () => {\n//     if (!csvFile) return alert(\"Select CSV file\");\n//     try {\n//       const fd = new FormData();\n//       fd.append(\"file\", csvFile);\n//       const res = await axios.post(`${API_URL}/import`, fd);\n//       if (res.data && res.data.success) {\n//         alert(`Imported ${res.data.inserted || 0} items`);\n//         setCsvFile(null);\n//         if (csvInputRef.current) csvInputRef.current.value = null;\n//         fetchItems();\n//       } else {\n//         alert(\"CSV import failed\");\n//       }\n//     } catch (err) {\n//       console.error(\"CSV import error\", err);\n//       alert(\"CSV import failed\");\n//     }\n//   };\n\n//   // const handleExportCsv = async () => {\n//   //   try {\n//   //     const res = await axios.get(`${API_URL}/export`, { responseType: \"blob\" });\n//   //     const url = window.URL.createObjectURL(new Blob([res.data]));\n//   //     const a = document.createElement(\"a\");\n//   //     a.href = url;\n//   //     a.download = \"prices.csv\";\n//   //     a.click();\n//   //     URL.revokeObjectURL(url);\n//   //   } catch (err) {\n//   //     console.error(\"CSV export error\", err);\n//   //     alert(\"CSV export failed\");\n//   //   }\n//   // };\n// const handleExportCsv = () => {\n//   if (!items.length) return alert(\"No items to export\");\n\n//   const header = [\n//     \"id\",\n//     \"name\",\n//     \"categoryName\",\n//     \"subcategoryName\",\n//     \"basePrice\",\n//     \"difference\",\n//     \"finalPrice\",\n//     \"status\",\n//     \"validTill\",\n//     \"description\",\n//     \"imageUrl\",\n//   ];\n\n//   const rows = items.map((p) => [\n//     p._id,\n//     p.name || \"\",\n//     p.category?.name || \"\",\n//     p.subcategory?.name || \"\",\n//     p.basePrice ?? \"\",\n//     p.difference ?? \"\",\n//     (Number(p.basePrice) + Number(p.difference || 0)) || \"\",\n//     p.status || \"\",\n//     p.validTill ? new Date(p.validTill).toISOString().split(\"T\")[0] : \"\",\n//     p.description || \"\",\n//     p.image || \"\",\n//   ]);\n\n//   const csvArray = [header, ...rows];\n//   const csvContent =\n//     \"data:text/csv;charset=utf-8,\" +\n//     csvArray\n//       .map((r) => r.map((c) => `\"${String(c).replace(/\"/g, '\"\"')}\"`).join(\",\"))\n//       .join(\"\\n\");\n\n//   const encodedUri = encodeURI(csvContent);\n//   const link = document.createElement(\"a\");\n//   link.href = encodedUri;\n//   link.download = `all_prices_${Date.now()}.csv`;\n//   link.click();\n// };\n\n//   const handleExportSelectedCsv = () => {\n//     if (!selectedItems.length) return alert(\"Select items to export\");\n\n//     const selectedData = items.filter((x) => selectedItems.includes(x._id));\n//     const header = [\n//       \"id\",\n//       \"name\",\n//       \"categoryName\",\n//       \"subcategoryName\",\n//       \"basePrice\",\n//       \"difference\",\n//       \"finalPrice\",\n//       \"status\",\n//       \"validTill\",\n//       \"description\",\n//       \"imageUrl\",\n//     ];\n\n//     const rows = selectedData.map((p) => [\n//       p._id,\n//       p.name || \"\",\n//       p.category?.name || \"\",\n//       p.subcategory?.name || \"\",\n//       p.basePrice ?? \"\",\n//       p.difference ?? \"\",\n//       (Number(p.basePrice) + Number(p.difference || 0)) || \"\",\n//       p.status || \"\",\n//       p.validTill ? new Date(p.validTill).toISOString().split(\"T\")[0] : \"\",\n//       p.description || \"\",\n//       p.image || \"\",\n//     ]);\n\n//     const csvArray = [header, ...rows];\n//     const csvContent =\n//       \"data:text/csv;charset=utf-8,\" +\n//       csvArray.map((r) => r.map((c) => `\"${String(c).replace(/\"/g, '\"\"')}\"`).join(\",\")).join(\"\\n\");\n\n//     const encodedUri = encodeURI(csvContent);\n//     const link = document.createElement(\"a\");\n//     link.href = encodedUri;\n//     link.download = `selected_prices_${Date.now()}.csv`;\n//     link.click();\n//   };\n\n//   // const filteredItems = items.filter((item) => {\n//   //   const t = search.toLowerCase();\n//   //   return (\n//   //     (item.name || \"\").toString().toLowerCase().includes(t) ||\n//   //     (item.category?.name || \"\").toLowerCase().includes(t) ||\n//   //     (item.subcategory?.name || \"\").toLowerCase().includes(t)\n//   //   );\n//   // });\n//   const filteredItems = items.filter((item) => {\n//   const t = search.toLowerCase();\n\n//   const matchText =\n//     (item.name || \"\").toLowerCase().includes(t) ||\n//     (item.category?.name || \"\").toLowerCase().includes(t) ||\n//     (item.subcategory?.name || \"\").toLowerCase().includes(t);\n\n//   const matchCategory =\n//     !filterCategory || item.category?._id === filterCategory;\n\n//   const matchSub =\n//     !filterSubcategory || item.subcategory?._id === filterSubcategory;\n\n//   return matchText && matchCategory && matchSub;\n// });\n\n//   const indexOfLast = currentPage * itemsPerPage;\n//   const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\n//   const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\n\n//   return (\n//     <div style={styles.container}>\n//       {/* HEADER */}\n//       <div style={styles.header}>\n//         <h1 style={styles.title}>Product Management</h1>\n//         {/* <p style={styles.subtitle}>Manage prices, categories, images, CSV & bulk actions.</p> */}\n//       </div>\n\n//       {/* SEARCH */}\n\n//      <div className=\"mobile-topbar\">\n//   <input\n//     type=\"text\"\n//     placeholder=\"Search product, category or subcategory...\"\n//     value={search}\n//     onChange={(e) => {\n//       setSearch(e.target.value);\n//       setCurrentPage(1);\n//     }}\n//     style={styles.searchInput}\n//   />\n\n//   <button\n//     style={styles.addButton}\n//     onClick={() => {\n//       setShowForm(!showForm);\n//       setEditId(null);\n//       setIsCopyMode(false);\n//     }}\n//   >\n//     {showForm ? \"‚úñ\" : \"Add Product\"}\n//   </button>\n// </div>\n// <div className=\"filter-bar\">\n//   <select\n//     value={filterCategory}\n//     onChange={(e) => setFilterCategory(e.target.value)}\n//     className=\"filter-select\"\n//   >\n//     <option value=\"\">Filter by Category</option>\n//     {categories.map((c) => (\n//       <option key={c._id} value={c._id}>{c.name}</option>\n//     ))}\n//   </select>\n\n//   <select\n//     value={filterSubcategory}\n//     onChange={(e) => setFilterSubcategory(e.target.value)}\n//     className=\"filter-select\"\n//     disabled={!filterSubs.length}\n//   >\n//     <option value=\"\">Filter by Subcategory</option>\n//     {filterSubs.map((s) => (\n//       <option key={s._id} value={s._id}>{s.name}</option>\n//     ))}\n//   </select>\n\n// </div>\n\n//       {/* BULK BAR */}\n//       {selectedItems.length > 0 && (\n//         // <div style={styles.bulkBar}>\n//         <div className=\"bulk-bar\">\n\n//           {/* <span style={styles.bulkText}>{selectedItems.length} selected</span> */}\n\n//           {!bulkMode ? (\n//             // <div style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\" }}>\n//             <div className=\"bulk-actions\">\n\n//               <button style={styles.btnDelete} onClick={handleBulkDelete}>\n//                 üóë Bulk Delete\n//               </button>\n\n//               <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\n//                 ‚úè Bulk Edit\n//               </button>\n\n//               {/* <button style={styles.btnSmall} onClick={handleExportSelectedCsv}>\n//                 ‚§ì Export Selected\n//               </button> */}\n//             </div>\n//           ) : (\n//             <div style={styles.bulkPanel}>\n//               <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\n\n//               {items\n//                 .filter((item) => selectedItems.includes(item._id))\n//                 .map((item) => (\n//                   <div key={item._id} style={styles.bulkItemBox}>\n//                     <h4 style={styles.bulkItemTitle}>{item.name}</h4>\n\n//                     <div style={styles.formGrid}>\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Name</label>\n//                         <input\n//                           type=\"text\"\n//                           value={item.name}\n//                           onChange={(e) => updateLocalItemField(item._id, \"name\", e.target.value)}\n//                           style={styles.input}\n//                         />\n//                       </div>\n\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Base Price</label>\n//                         <input\n//                           type=\"number\"\n//                           value={item.basePrice}\n//                           onChange={(e) =>\n//                             updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))\n//                           }\n//                           style={styles.input}\n//                         />\n//                       </div>\n\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Category</label>\n//                         <select\n//                           value={item.category?._id || \"\"}\n//                           onChange={(e) => {\n//                             const newCat = e.target.value;\n//                             updateLocalItemField(item._id, \"category\", { _id: newCat });\n//                             const catObj = categories.find((c) => c._id === newCat);\n//                             const firstSub = catObj?.subcategories?.[0]?._id || \"\";\n//                             updateLocalItemField(item._id, \"subcategory\", { _id: firstSub });\n//                           }}\n//                           style={styles.select}\n//                         >\n//                           <option value=\"\">Select Category</option>\n//                           {categories.map((c) => (\n//                             <option key={c._id} value={c._id}>\n//                               {c.name}\n//                             </option>\n//                           ))}\n//                         </select>\n//                       </div>\n\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Subcategory</label>\n//                         <select\n//                           value={item.subcategory?._id || \"\"}\n//                           onChange={(e) =>\n//                             updateLocalItemField(item._id, \"subcategory\", { _id: e.target.value })\n//                           }\n//                           style={styles.select}\n//                         >\n//                           <option value=\"\">Select Subcategory</option>\n//                           {categories\n//                             .find((c) => c._id === item.category?._id)\n//                             ?.subcategories?.map((s) => (\n//                               <option key={s._id} value={s._id}>\n//                                 {s.name}\n//                               </option>\n//                             ))}\n//                         </select>\n//                       </div>\n\n//                       <div style={styles.formGroup}>\n//                         <label style={styles.label}>Difference</label>\n//                         <input\n//                           type=\"number\"\n//                           value={item.difference || 0}\n//                           onChange={(e) =>\n//                             updateLocalItemField(item._id, \"difference\", Number(e.target.value))\n//                           }\n//                           style={styles.input}\n//                         />\n//                       </div>\n//                     </div>\n//                   </div>\n//                 ))}\n\n//               <div style={{ display: \"flex\", gap: 0, marginTop: 12 }}>\n//                 <button style={styles.btnPrimary} onClick={handleBulkSave}>\n//                   ‚úî Save All\n//                 </button>\n//                 <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\n//                   ‚úñ Cancel\n//                 </button>\n//               </div>\n//             </div>\n//           )}\n//         </div>\n//       )}\n\n//       {/* FORM */}\n//       {showForm && (\n//         <div style={styles.formCard}>\n//           <h2 style={styles.formTitle}>‚ûï Add \n\n//           </h2>\n\n//           <form onSubmit={handleSubmit}>\n//             <div style={styles.formGrid}>\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Product Name *</label>\n//                 <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Category *</label>\n//                 <div style={styles.categoryRow}>\n//                   <select\n//                     required\n//                     name=\"category\"\n//                     value={form.category}\n//                     onChange={(e) => {\n//                       handleChange(e);\n//                       setForm((p) => ({ ...p, subcategory: \"\" }));\n//                     }}\n//                     style={styles.select}\n//                   >\n//                     <option value=\"\">Select Category</option>\n//                     {categories.map((c) => (\n//                       <option value={c._id} key={c._id}>\n//                         {c.name}\n//                       </option>\n//                     ))}\n//                   </select>\n\n//                   <button type=\"button\" style={styles.btnSmall} onClick={() => setAddingCategory((v) => !v)}>\n//                     {addingCategory ? \"Close\" : \"Add\"}\n//                   </button>\n//                 </div>\n//               </div>\n\n//               {addingCategory && (\n//                 <div style={styles.addCategoryBox}>\n//                   <label style={styles.label}>Add New Category</label>\n//                   <div style={styles.categoryRow}>\n//                     <input\n//                       value={newCategoryName}\n//                       onChange={(e) => setNewCategoryName(e.target.value)}\n//                       placeholder=\"Category name\"\n//                       style={styles.input}\n//                     />\n//                     <input\n//                       type=\"file\"\n//                       accept=\"image/*\"\n//                       onChange={(e) => {\n//                         setNewCategoryImage(e.target.files[0]);\n//                         setNewCategoryPreview(e.target.files[0] ? URL.createObjectURL(e.target.files[0]) : null);\n//                       }}\n//                       style={styles.fileInput}\n//                     />\n//                     <button style={styles.btnPrimary} type=\"button\" onClick={handleCreateCategory}>\n//                       Create\n//                     </button>\n//                   </div>\n//                   {newCategoryPreview && <img src={newCategoryPreview} style={styles.preview} alt=\"preview\" />}\n//                 </div>\n//               )}\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Subcategory</label>\n//                 <div style={styles.categoryRow}>\n//                   <select name=\"subcategory\" value={form.subcategory} onChange={handleChange} disabled={!subcategories.length} style={styles.select}>\n//                     <option value=\"\">Select Subcategory</option>\n//                     {subcategories.map((s) => (\n//                       <option value={s._id} key={s._id}>\n//                         {s.name}\n//                       </option>\n//                     ))}\n//                   </select>\n\n//                   {form.category && (\n//                     <button type=\"button\" style={styles.btnSmall} onClick={() => setAddingSub((v) => !v)}>\n//                       {addingSub ? \"Close\" : \"Add\"}\n//                     </button>\n//                   )}\n//                 </div>\n//               </div>\n\n//               {addingSub && (\n//                 <div style={styles.addCategoryBox}>\n//                   <label style={styles.label}>Add New Subcategory</label>\n//                   <div style={styles.categoryRow}>\n//                     <input value={newSubName} onChange={(e) => setNewSubName(e.target.value)} placeholder=\"Subcategory name\" style={styles.input} />\n//                     <input\n//                       type=\"file\"\n//                       accept=\"image/*\"\n//                       onChange={(e) => {\n//                         setNewSubImage(e.target.files[0]);\n//                         setNewSubPreview(e.target.files[0] ? URL.createObjectURL(e.target.files[0]) : null);\n//                       }}\n//                       style={styles.fileInput}\n//                     />\n//                     <button style={styles.btnPrimary} type=\"button\" onClick={handleCreateSub}>\n//                       Create\n//                     </button>\n//                   </div>\n//                   {newSubPreview && <img src={newSubPreview} style={styles.preview} alt=\"preview\" />}\n//                 </div>\n//               )}\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Base Price *</label>\n//                 <input type=\"number\" required name=\"basePrice\" value={form.basePrice} onChange={handleChange} style={styles.input} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Difference</label>\n//                 <input type=\"number\" name=\"difference\" value={form.difference} onChange={handleChange} style={styles.input} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Valid Till</label>\n//                 <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Image</label>\n//                 <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\n//               </div>\n//             </div>\n\n//             <div style={styles.formGroup}>\n//               <label style={styles.label}>Description</label>\n//               <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\n//             </div>\n\n//             <div style={styles.formActions}>\n//               <button style={styles.btnPrimary} disabled={loading}>\n//                 {loading ? \"Saving...\" : \"Add Product\"}\n//               </button>\n//             </div>\n//           </form>\n//         </div>\n//       )}\n\n//       {/* CSV CONTROLS */}\n//       {/* <div style={styles.csvControls}>\n//         <div>\n//           <input type=\"file\" accept=\".csv\" ref={csvInputRef} onChange={handleCsvSelect} style={styles.fileInput} />\n//           <button style={styles.btnSmall} onClick={handleImportCsv}>\n//             Import CSV\n//           </button>\n//         </div>\n\n//         <div style={{ display: \"flex\", gap: 8 }}>\n//           <button style={styles.btnPrimary} onClick={handleExportCsv}>\n//             Export All CSV\n//           </button>\n\n//           <button style={styles.btnSmall} onClick={handleExportSelectedCsv}>\n//             Export Selected CSV\n//           </button>\n//         </div>\n//       </div> */}\n// <div className=\"csv-topbar\">\n//   <div className=\"csv-row\">\n//     <input\n//       type=\"file\"\n//       accept=\".csv\"\n//       ref={csvInputRef}\n//       onChange={handleCsvSelect}\n//       style={styles.fileInput}\n//     />\n\n//     <button style={styles.btnSmall} onClick={handleImportCsv}>\n//       Import\n//     </button>\n\n//     <button style={styles.btnPrimary} onClick={handleExportCsv}>\n//       Export All\n//     </button>\n\n//     <button style={styles.btnSmall} onClick={handleExportSelectedCsv}>\n//        Selected \n//     </button>\n//   </div>\n// </div>\n\n//       {/* TABLE */}\n//       <div style={styles.tableCard}>\n//         <div style={styles.tableHeader}>\n//           <h2 style={styles.tableTitle}> Items</h2>\n//           <span style={styles.totalCount}>Total: {filteredItems.length}</span>\n//         </div>\n\n//         <div style={styles.tableWrapper}>\n//           <table style={styles.table}>\n//             <thead>\n//               <tr>\n//                 <th style={styles.th}>\n//                   <input\n//                     type=\"checkbox\"\n//                     checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\n//                     onChange={() => {\n//                       if (selectedItems.length === filteredItems.length) setSelectedItems([]);\n//                       else setSelectedItems(filteredItems.map((x) => x._id));\n//                     }}\n//                   />\n//                 </th>\n//                 <th style={styles.th}>Sr</th>\n//                 <th style={styles.th}>Image</th>\n//                 <th style={styles.th}>Name</th>\n//                 <th style={styles.th}>Category</th>\n//                 <th style={styles.th}>Subcategory</th>\n//                 <th style={styles.th}>Base</th>\n//                 <th style={styles.th}>Diff</th>\n//                 <th style={styles.th}>Final</th>\n//                 <th style={styles.th}>Status</th>\n//                 <th style={styles.th}>Valid Till</th>\n//                 <th style={styles.th}>Actions</th>\n//               </tr>\n//             </thead>\n\n//             <tbody>\n//               {currentItems.map((item, i) => (\n//                 <tr key={item._id} style={styles.tr}>\n//                   <td style={styles.td}>\n//                     <input\n//                       type=\"checkbox\"\n//                       checked={selectedItems.includes(item._id)}\n//                       onChange={() =>\n//                         setSelectedItems((prev) => (prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]))\n//                       }\n//                     />\n//                   </td>\n\n//                   <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\n\n//                   <td style={styles.td}>{item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}</td>\n\n//                   <td style={styles.td}>{item.name}</td>\n//                   <td style={styles.td}>{item.category?.name || \"-\"}</td>\n//                   <td style={styles.td}>{item.subcategory?.name || \"-\"}</td>\n\n//                   <td style={styles.td}>‚Çπ{item.basePrice}</td>\n//                   <td style={styles.td}>{item.difference || 0}</td>\n//                   <td style={styles.td}>‚Çπ{Number(item.basePrice) + Number(item.difference || 0)}</td>\n\n//                   <td style={styles.td}>\n//                     <button\n//                       style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\n//                       onClick={() => handleStatusToggle(item)}\n//                     >\n//                       {item.status === \"active\" ? \"Active\" : \"Inactive\"}\n//                     </button>\n//                   </td>\n\n//                   <td style={styles.td}>{item.validTill ? new Date(item.validTill).toLocaleDateString() : \"-\"}</td>\n\n//                   <td style={styles.td}>\n//                     <div style={{ position: \"relative\" }}>\n//                       <button\n//                         style={styles.menuButton}\n//                         onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\n//                       >\n//                         ‚ãÆ\n//                       </button>\n\n//                       {activeMenu === item._id && (\n//                         <div style={styles.dropdown}>\n//                           <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\n//                             ‚úè Edit\n//                           </button>\n//                           <button style={styles.dropdownItem} onClick={() => handleCopyToEdit(item)}>\n//                             üìÑ Copy\n//                           </button>\n//                           <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\n//                             üóë Delete\n//                           </button>\n//                         </div>\n//                       )}\n//                     </div>\n//                   </td>\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//         </div>\n\n//         {/* PAGINATION */}\n//         <div style={styles.pagination}>\n//           <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\n//             Previous\n//           </button>\n\n//           {Array.from({ length: totalPages }, (_, i) => (\n//             <button\n//               key={i}\n//               style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\n//               onClick={() => setCurrentPage(i + 1)}\n//             >\n//               {i + 1}\n//             </button>\n//           ))}\n\n//           <button style={styles.paginationBtn} disabled={currentPage === totalPages} onClick={() => setCurrentPage((p) => p + 1)}>\n//             Next\n//           </button>\n//         </div>\n//       </div>\n\n//       {/* MODAL FOR EDIT/COPY */}\n//       {showModal && (\n//         <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\n//           <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\n//             <h2 style={styles.modalTitle}>{isCopyMode ? \" Copy Product\" : \" Edit Product\"}</h2>\n\n//             <form onSubmit={handleSubmit}>\n//               <div style={styles.formGrid}>\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Product Name *</label>\n//                   <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Category *</label>\n//                   <select\n//                     required\n//                     name=\"category\"\n//                     value={form.category}\n//                     onChange={(e) => {\n//                       handleChange(e);\n//                       setForm((p) => ({ ...p, subcategory: \"\" }));\n//                     }}\n//                     style={styles.select}\n//                   >\n//                     <option value=\"\">Select Category</option>\n//                     {categories.map((c) => (\n//                       <option value={c._id} key={c._id}>\n//                         {c.name}\n//                       </option>\n//                     ))}\n//                   </select>\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Subcategory</label>\n//                   <select name=\"subcategory\" value={form.subcategory} onChange={handleChange} disabled={!subcategories.length} style={styles.select}>\n//                     <option value=\"\">Select Subcategory</option>\n//                     {subcategories.map((s) => (\n//                       <option value={s._id} key={s._id}>\n//                         {s.name}\n//                       </option>\n//                     ))}\n//                   </select>\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Base Price *</label>\n//                   <input type=\"number\" required name=\"basePrice\" value={form.basePrice} onChange={handleChange} style={styles.input} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Difference</label>\n//                   <input type=\"number\" name=\"difference\" value={form.difference} onChange={handleChange} style={styles.input} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Valid Till</label>\n//                   <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\n//                 </div>\n\n//                 <div style={styles.formGroup}>\n//                   <label style={styles.label}>Image</label>\n//                   <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\n//                 </div>\n//               </div>\n\n//               <div style={styles.formGroup}>\n//                 <label style={styles.label}>Description</label>\n//                 <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\n//               </div>\n\n//               <div style={styles.formActions}>\n//                 <button style={styles.btnPrimary} disabled={loading}>\n//                   {loading ? \"Saving...\" : isCopyMode ? \"Save Copy\" : \"Update\"}\n//                 </button>\n\n//                 <button\n//                   type=\"button\"\n//                   style={styles.btnCancel}\n//                   onClick={() => {\n//                     setShowModal(false);\n//                     setEditId(null);\n//                     setIsCopyMode(false);\n//                     setForm({\n//                       name: \"\",\n//                       category: \"\",\n//                       subcategory: \"\",\n//                       description: \"\",\n//                       basePrice: \"\",\n//                       difference: \"\",\n//                       validTill: \"\",\n//                       file: null,\n//                     });\n//                   }}\n//                 >\n//                   Cancel\n//                 </button>\n//               </div>\n//             </form>\n//           </div>\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n// const styles = {\n//   container: {\n\n//   },\n//   header: {\n\n//   },\n//   title: {\n//     fontSize: \"21px\",\n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//     marginBottom: \"6px\",\n//   },\n//   subtitle: {\n//    fontSize: \"16px\",\n//   },\n//   searchBar: {\n//     maxWidth: \"320px\",\n//     margin: \"0 auto 25px auto\",\n//   },\n//   searchInput: {\n//     width: \"100%\",\n//     padding: \"12px 15px\",\n//     borderRadius: \"12px\",\n//     border: \"1px solid #ced4da\",\n//     background: \"#f9fbfc\",\n//     fontSize: \"15px\",\n//     outline: \"none\",\n//     boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.06)\",\n//   },\n//   addButtonWrapper: {\n//     textAlign: \"left\",\n//     marginBottom: \"25px\",\n//   },\n//   addButton: {\n//     background: \"#007bff\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"12px\",\n//     padding: \"12px 24px\",\n//     fontSize: \"16px\",\n//     fontWeight: \"600\",\n//     cursor: \"pointer\",\n//     transition: \"0.25s ease\",\n//   },\n//   bulkBar: {\n//     background: \"#e9f2ff\",\n//     border: \"1px solid #c4d9ff\",\n//     borderRadius: \"14px\",\n//     padding: \"15px 18px\",\n//     marginBottom: \"25px\",\n//     display: \"flex\",\n//     justifyContent: \"space-between\",\n//     alignItems: \"center\",\n//     flexWrap: \"wrap\",\n//     gap: \"14px\",\n//     boxShadow: \"0 3px 10px rgba(0, 80, 160, 0.1)\",\n//   },\n//   bulkText: {\n//     fontSize: \"15px\",\n//     fontWeight: \"600\",\n//     color: \"#0d3b66\",\n//   },\n//   bulkPanel: {\n//     width: \"100%\",\n//     background: \"#f7faff\",\n//     border: \"1px solid #cfe2ff\",\n//     padding: \"20px\",\n//     borderRadius: \"14px\",\n//     marginTop: \"10px\",\n//     boxShadow: \"0 4px 14px rgba(0, 60, 120, 0.08)\",\n//   },\n//   bulkPanelTitle: {\n//     textAlign: \"center\",\n//     fontSize: \"18px\",\n//     fontWeight: \"700\",\n//     marginBottom: \"15px\",\n//   },\n//   bulkItemBox: {\n//     background: \"#ffffff\",\n//     border: \"1px solid #dbe5f5\",\n//     padding: \"18px\",\n//     borderRadius: \"12px\",\n//     marginBottom: \"16px\",\n//     boxShadow: \"0 2px 10px rgba(0, 0, 50, 0.05)\",\n//   },\n//   bulkItemTitle: {\n//     fontSize: \"16px\",\n//     fontWeight: \"600\",\n//     marginBottom: \"12px\",\n//     color: \"#0d3b66\",\n//     borderLeft: \"4px solid #007bff\",\n//     paddingLeft: \"10px\",\n//   },\n//   formCard: {\n//     borderRadius: \"16px\",\n//     padding: \"25px\",\n//     marginBottom: \"28px\",\n//     background: \"#ffffff\",\n//     boxShadow: \"0 4px 16px rgba(0, 0, 0, 0.08)\",\n//     border: \"1px solid #eef2f7\",\n//   },\n//   formTitle: {\n//     fontSize: \"21px\",\n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//     marginBottom: \"15px\",\n//   },\n//   formGrid: {\n//     display: \"grid\",\n//     gridTemplateColumns: \"repeat(auto-fit, minmax(230px, 1fr))\",\n//     gap: \"18px\",\n//   },\n//   formGroup: {\n//     display: \"flex\",\n//     flexDirection: \"column\",\n//     gap: \"6px\",\n//   },\n//   label: {\n//     fontWeight: \"600\",\n//     fontSize: \"14px\",\n//     color: \"#233142\",\n//   },\n//   input: {\n//     padding: \"10px\",\n//     borderRadius: \"10px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     transition: \"0.2s ease\",\n//     fontSize: \"14px\",\n//   },\n//   select: {\n//     padding: \"10px\",\n//     borderRadius: \"10px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     transition: \"0.2s ease\",\n//     fontSize: \"14px\",\n//   },\n//   textarea: {\n//     padding: \"10px\",\n//     borderRadius: \"10px\",\n//     border: \"1px solid #cfd6e0\",\n//     background: \"#f8fafc\",\n//     transition: \"0.2s ease\",\n//     resize: \"none\",\n//     minHeight: \"80px\",\n//     fontSize: \"14px\",\n//   },\n//   fileInput: {\n//     padding: \"8px\",\n//     fontSize: \"13px\",\n//   },\n//   categoryRow: {\n//     display: \"flex\",\n//     gap: \"10px\",\n//     alignItems: \"center\",\n//   },\n//   addCategoryBox: {\n//     gridColumn: \"1 / -1\",\n//     background: \"#f1f7ff\",\n//     border: \"1px solid #cfe1ff\",\n//     padding: \"16px\",\n//     borderRadius: \"12px\",\n//   },\n//   preview: {\n//     width: \"110px\",\n//     height: \"110px\",\n//     borderRadius: \"12px\",\n//     marginTop: \"10px\",\n//     objectFit: \"cover\",\n//     border: \"1px solid #b7c9e2\",\n//   },\n//   formActions: {\n//     marginTop: \"15px\",\n//     display: \"flex\",\n//     gap: \"12px\",\n//     flexWrap: \"wrap\",\n//   },\n//   btnPrimary: {\n//     background: \"#007bff\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"10px\",\n//     padding: \"9px 16px\",\n\n//     cursor: \"pointer\",\n//     transition: \"0.25s ease\",\n//   },\n//   btnSmall: {\n//     background: \"#43a047\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"10px\",\n//     padding: \"9px 16px\",\n//     fontWeight: \"600\",\n//     cursor: \"pointer\",\n//     transition: \"0.25s ease\",\n//   },\n//   btnDelete: {\n//     background: \"#e63946\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"10px\",\n//     padding: \"9px 16px\",\n//     fontWeight: \"600\",\n//     cursor: \"pointer\",\n//     transition: \"0.25s ease\",\n//   },\n//   btnCancel: {\n//     background: \"#adb5bd\",\n//     color: \"#fff\",\n//     border: \"none\",\n//     borderRadius: \"10px\",\n//     padding: \"9px 16px\",\n//     fontWeight: \"600\",\n//     cursor: \"pointer\",\n//     transition: \"0.25s ease\",\n//   },\n//   csvControls: {\n//     borderRadius: \"12px\",\n//     padding: \"16px\",\n//     background: \"#f7faff\",\n//     border: \"1px solid #d8e6ff\",\n//     display: \"flex\",\n//     alignItems: \"center\",\n//     justifyContent: \"space-between\",\n//     marginBottom: \"28px\",\n//     flexWrap: \"wrap\",\n//     gap: \"12px\",\n//   },\n//   tableCard: {\n\n//   },\n//   tableHeader: {\n//     display: \"flex\",\n//     justifyContent: \"space-between\",\n//     marginBottom: \"15px\",\n//   },\n//   tableTitle: {\n//     fontSize: \"21px\",\n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//   },\n//   totalCount: {\n//     fontSize: \"15px\",\n//     color: \"#6c757d\",\n//     fontWeight: \"600\",\n//   },\n//   tableWrapper: {\n//     overflowX: \"auto\",\n//   },\n//   table: {\n//     width: \"100%\",\n//     borderCollapse: \"collapse\",\n//     fontSize: \"14px\",\n//   },\n//   th: {\n//     background: \"#e9f2ff\",\n//     padding: \"12px\",\n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//     textAlign: \"left\",\n//     whiteSpace: \"nowrap\",\n//   },\n//   tr: {\n//     borderBottom: \"1px solid #edf2f7\",\n//   },\n//   td: {\n//     padding: \"12px 10px\",\n//     whiteSpace: \"nowrap\",\n//   },\n//   tableImg: {\n//     width: \"55px\",\n//     height: \"55px\",\n//     borderRadius: \"8px\",\n//     objectFit: \"cover\",\n//     border: \"1px solid #cfd9e5\",\n//   },\n//   statusActive: {\n//     background: \"#93d8ba\",\n//     padding: \"7px 12px\",\n//     borderRadius: \"8px\",\n//     color: \"black\",\n//     fontWeight: \"600\",\n//     border: \"none\",\n//     cursor: \"pointer\",\n//   },\n//   statusInactive: {\n//     background: \"#d9b1b1\",\n//     padding: \"7px 12px\",\n//     borderRadius: \"8px\",\n//     color: \"black\",\n//     fontWeight: \"600\",\n//     border: \"none\",\n//     cursor: \"pointer\",\n//   },\n//   menuButton: {\n//     background: \"#f0f0f0\",\n//     border: \"none\",\n//     borderRadius: \"6px\",\n//     padding: \"6px 12px\",\n//     fontSize: \"20px\",\n//     fontWeight: \"bold\",\n//     cursor: \"pointer\",\n//     transition: \"0.2s ease\",\n//   },\n//   dropdown: {\n//     position: \"absolute\",\n//     right: \"0\",\n//     top: \"35px\",\n//     background: \"#fff\",\n//     border: \"1px solid #ddd\",\n//     borderRadius: \"8px\",\n//     boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n//     zIndex: \"100\",\n//     minWidth: \"140px\",\n//   },\n//   dropdownItem: {\n//     display: \"block\",\n//     width: \"100%\",\n//     padding: \"10px 15px\",\n//     background: \"transparent\",\n//     border: \"none\",\n//     textAlign: \"left\",\n//     cursor: \"pointer\",\n//     fontSize: \"14px\",\n//     fontWeight: \"500\",\n//     transition: \"0.2s ease\",\n//     borderBottom: \"1px solid #f0f0f0\",\n//   },\n//   dropdownItemDelete: {\n//     display: \"block\",\n//     width: \"100%\",\n//     padding: \"10px 15px\",\n//     background: \"transparent\",\n//     border: \"none\",\n//     textAlign: \"left\",\n//     cursor: \"pointer\",\n//     fontSize: \"14px\",\n//     fontWeight: \"500\",\n//     color: \"#e63946\",\n//     transition: \"0.2s ease\",\n//   },\n//   pagination: {\n//     marginTop: \"18px\",\n//     display: \"flex\",\n//     justifyContent: \"center\",\n//     gap: \"10px\",\n//     flexWrap: \"wrap\",\n//   },\n//   paginationBtn: {\n//     padding: \"9px 13px\",\n//     borderRadius: \"8px\",\n//     background: \"#fff\",\n//     border: \"1px solid #ddd\",\n//     cursor: \"pointer\",\n//     fontSize: \"14px\",\n//   },\n//   paginationBtnActive: {\n//     padding: \"9px 13px\",\n//     borderRadius: \"8px\",\n//     background: \"#007bff\",\n//     color: \"white\",\n//     border: \"1px solid #0062cc\",\n//     cursor: \"pointer\",\n//     fontSize: \"14px\",\n//   },\n//   modalOverlay: {\n//     position: \"fixed\",\n//     top: 0,\n//     left: 0,\n//     right: 0,\n//     bottom: 0,\n//     background: \"rgba(0, 0, 0, 0.5)\",\n//     display: \"flex\",\n//     justifyContent: \"center\",\n//     alignItems: \"center\",\n//     zIndex: \"1000\",\n//     padding: \"20px\",\n//   },\n//   modal: {\n//     background: \"#fff\",\n//     borderRadius: \"16px\",\n//     padding: \"30px\",\n//     maxWidth: \"700px\",\n//     width: \"100%\",\n//     maxHeight: \"90vh\",\n//     overflowY: \"auto\",\n//     boxShadow: \"0 10px 40px rgba(0, 0, 0, 0.3)\",\n//   },\n//   modalTitle: {\n//     fontSize: \"22px\",\n//     fontWeight: \"700\",\n//     color: \"#0d3b66\",\n//     marginBottom: \"20px\",\n//     textAlign: \"center\",\n//   },\n\n// }\nimport React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\nconst CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\nexport default function PriceList() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [subcategories, setSubcategories] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [form, setForm] = useState({\n    name: \"\",\n    category: \"\",\n    subcategory: \"\",\n    description: \"\",\n    basePrice: \"\",\n    difference: \"\",\n    validTill: \"\",\n    file: null\n  });\n  const [editId, setEditId] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [activeMenu, setActiveMenu] = useState(null);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [diffUpdateMode, setDiffUpdateMode] = useState(false);\n  const [tempDiffs, setTempDiffs] = useState({});\n  const [filterCategory, setFilterCategory] = useState(\"\");\n  const [filterSubcategory, setFilterSubcategory] = useState(\"\");\n  const [filterSubs, setFilterSubs] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 30;\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n  useEffect(() => {\n    if (categories.length > 0) {\n      fetchItems();\n    }\n  }, [categories]);\n  useEffect(() => {\n    if (!filterCategory) {\n      setFilterSubs([]);\n      setFilterSubcategory(\"\");\n      return;\n    }\n    const cat = categories.find(c => c._id === filterCategory);\n    setFilterSubs((cat === null || cat === void 0 ? void 0 : cat.subcategories) || []);\n    setFilterSubcategory(\"\");\n  }, [filterCategory, categories]);\n  const fetchItems = async () => {\n    try {\n      var _res$data;\n      setLoading(true);\n      const res = await axios.get(API_URL);\n      if ((_res$data = res.data) !== null && _res$data !== void 0 && _res$data.success) {\n        const raw = res.data.data;\n        const enriched = raw.map(item => {\n          var _cat$subcategories;\n          const cat = categories.find(c => {\n            var _item$category;\n            return c._id === item.category || c._id === ((_item$category = item.category) === null || _item$category === void 0 ? void 0 : _item$category._id);\n          });\n          const sub = cat === null || cat === void 0 ? void 0 : (_cat$subcategories = cat.subcategories) === null || _cat$subcategories === void 0 ? void 0 : _cat$subcategories.find(s => {\n            var _item$subcategory;\n            return s._id === item.subcategory || s._id === ((_item$subcategory = item.subcategory) === null || _item$subcategory === void 0 ? void 0 : _item$subcategory._id);\n          });\n          return {\n            ...item,\n            category: cat ? {\n              _id: cat._id,\n              name: cat.name\n            } : item.category,\n            subcategory: sub ? {\n              _id: sub._id,\n              name: sub.name\n            } : item.subcategory\n          };\n        });\n        setItems(enriched);\n      }\n    } catch (err) {\n      console.error(\"Fetch items error\", err);\n      alert(\"Could not fetch items\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      var _res$data2;\n      const res = await axios.get(CATEGORY_URL);\n      if ((_res$data2 = res.data) !== null && _res$data2 !== void 0 && _res$data2.success) setCategories(res.data.categories || []);\n    } catch (err) {\n      console.error(\"Fetch categories error\", err);\n    }\n  };\n  useEffect(() => {\n    if (!form.category) {\n      setSubcategories([]);\n      setForm(prev => ({\n        ...prev,\n        subcategory: \"\"\n      }));\n      return;\n    }\n    const cat = categories.find(c => c._id === form.category);\n    const subs = (cat === null || cat === void 0 ? void 0 : cat.subcategories) || [];\n    setSubcategories(subs);\n    const exists = subs.some(s => s._id === form.subcategory);\n    if (!exists) setForm(prev => ({\n      ...prev,\n      subcategory: \"\"\n    }));\n  }, [form.category, categories]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (files !== null && files !== void 0 && files.length) {\n      setForm(p => ({\n        ...p,\n        file: files[0]\n      }));\n    } else {\n      setForm(p => ({\n        ...p,\n        [name]: value\n      }));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      if (!form.name || !form.category || !form.basePrice) {\n        alert(\"Name, category & base price are required\");\n        setLoading(false);\n        return;\n      }\n      const fd = new FormData();\n      Object.keys(form).forEach(k => {\n        const val = form[k];\n        if (val !== undefined && val !== null) {\n          fd.append(k, val);\n        }\n      });\n      if (editId) {\n        await axios.put(`${API_URL}/${editId}`, fd);\n        alert(\"Updated successfully\");\n      } else {\n        await axios.post(API_URL, fd);\n        alert(\"Added successfully\");\n      }\n      await fetchItems();\n      setForm({\n        name: \"\",\n        category: \"\",\n        subcategory: \"\",\n        description: \"\",\n        basePrice: \"\",\n        difference: \"\",\n        validTill: \"\",\n        file: null\n      });\n      setEditId(null);\n      setShowModal(false);\n    } catch (err) {\n      console.error(\"Save error\", err);\n      alert(\"Save failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEdit = item => {\n    var _item$category2, _item$category2$_id, _item$subcategory2, _item$subcategory2$_i, _item$basePrice, _item$todayDiff;\n    setForm({\n      name: item.name || \"\",\n      category: ((_item$category2 = item.category) === null || _item$category2 === void 0 ? void 0 : (_item$category2$_id = _item$category2._id) === null || _item$category2$_id === void 0 ? void 0 : _item$category2$_id.toString()) || \"\",\n      subcategory: ((_item$subcategory2 = item.subcategory) === null || _item$subcategory2 === void 0 ? void 0 : (_item$subcategory2$_i = _item$subcategory2._id) === null || _item$subcategory2$_i === void 0 ? void 0 : _item$subcategory2$_i.toString()) || \"\",\n      description: item.description || \"\",\n      basePrice: (_item$basePrice = item.basePrice) !== null && _item$basePrice !== void 0 ? _item$basePrice : \"\",\n      difference: (_item$todayDiff = item.todayDiff) !== null && _item$todayDiff !== void 0 ? _item$todayDiff : \"\",\n      validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\n      file: null\n    });\n    const cat = categories.find(c => {\n      var _item$category3;\n      return c._id === ((_item$category3 = item.category) === null || _item$category3 === void 0 ? void 0 : _item$category3._id);\n    });\n    setSubcategories((cat === null || cat === void 0 ? void 0 : cat.subcategories) || []);\n    setEditId(item._id);\n    setShowModal(true);\n    setActiveMenu(null);\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Delete this item?\")) return;\n    try {\n      await axios.delete(`${API_URL}/${id}`);\n      setItems(prev => prev.filter(x => x._id !== id));\n      setSelectedItems(prev => prev.filter(x => x !== id));\n      setActiveMenu(null);\n    } catch (err) {\n      console.error(\"Delete error\", err);\n      alert(\"Delete failed\");\n    }\n  };\n  const handleStatusToggle = async item => {\n    try {\n      const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\n      await axios.put(`${API_URL}/status/${item._id}`, {\n        status: newStatus\n      });\n      setItems(prev => prev.map(x => x._id === item._id ? {\n        ...x,\n        status: newStatus\n      } : x));\n    } catch (err) {\n      console.error(\"Status toggle error\", err);\n      alert(\"Status update failed\");\n    }\n  };\n\n  // UPDATE DIFF LOGIC (Main business logic)\n  const handleUpdateDiff = async (itemId, newDiff) => {\n    try {\n      await axios.put(`${API_URL}/diff/${itemId}`, {\n        diff: Number(newDiff)\n      });\n      fetchItems();\n    } catch (err) {\n      console.error(\"Diff update error\", err);\n      alert(\"Diff update failed\");\n    }\n  };\n  const handleBulkUpdateDiffs = async () => {\n    if (!selectedItems.length) return alert(\"No items selected\");\n    try {\n      await Promise.all(selectedItems.map(id => {\n        var _tempDiffs$id;\n        const diff = (_tempDiffs$id = tempDiffs[id]) !== null && _tempDiffs$id !== void 0 ? _tempDiffs$id : 0;\n        return axios.put(`${API_URL}/diff/${id}`, {\n          diff: Number(diff)\n        });\n      }));\n      alert(\"Bulk diff update successful\");\n      setDiffUpdateMode(false);\n      setSelectedItems([]);\n      setTempDiffs({});\n      fetchItems();\n    } catch (err) {\n      console.error(\"Bulk diff update error\", err);\n      alert(\"Bulk diff update failed\");\n    }\n  };\n  const handleBulkDelete = async () => {\n    if (!selectedItems.length) return alert(\"No items selected\");\n    if (!window.confirm(\"Delete selected items?\")) return;\n    try {\n      await Promise.all(selectedItems.map(id => axios.delete(`${API_URL}/${id}`)));\n      setSelectedItems([]);\n      fetchItems();\n    } catch (err) {\n      console.error(\"Bulk delete error\", err);\n      alert(\"Bulk delete failed\");\n    }\n  };\n  const filteredItems = items.filter(item => {\n    var _item$category4, _item$subcategory3, _item$category5, _item$subcategory4;\n    const t = search.toLowerCase();\n    const matchText = (item.name || \"\").toLowerCase().includes(t) || (((_item$category4 = item.category) === null || _item$category4 === void 0 ? void 0 : _item$category4.name) || \"\").toLowerCase().includes(t) || (((_item$subcategory3 = item.subcategory) === null || _item$subcategory3 === void 0 ? void 0 : _item$subcategory3.name) || \"\").toLowerCase().includes(t);\n    const matchCategory = !filterCategory || ((_item$category5 = item.category) === null || _item$category5 === void 0 ? void 0 : _item$category5._id) === filterCategory;\n    const matchSub = !filterSubcategory || ((_item$subcategory4 = item.subcategory) === null || _item$subcategory4 === void 0 ? void 0 : _item$subcategory4._id) === filterSubcategory;\n    return matchText && matchCategory && matchSub;\n  });\n  const indexOfLast = currentPage * itemsPerPage;\n  const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\n  const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: styles.title,\n        children: \"\\uD83D\\uDCCA Product Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1836,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1835,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.topBar,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\uD83D\\uDD0D Search product, category or subcategory...\",\n        value: search,\n        onChange: e => {\n          setSearch(e.target.value);\n          setCurrentPage(1);\n        },\n        style: styles.searchInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1840,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: styles.addButton,\n        onClick: () => {\n          setEditId(null);\n          setForm({\n            name: \"\",\n            category: \"\",\n            subcategory: \"\",\n            description: \"\",\n            basePrice: \"\",\n            difference: \"\",\n            validTill: \"\",\n            file: null\n          });\n          setShowModal(true);\n        },\n        children: \"\\u2795 Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1850,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1839,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.filterBar,\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: filterCategory,\n        onChange: e => setFilterCategory(e.target.value),\n        style: styles.filterSelect,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Categories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1877,\n          columnNumber: 11\n        }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c._id,\n          children: c.name\n        }, c._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1879,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1872,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: filterSubcategory,\n        onChange: e => setFilterSubcategory(e.target.value),\n        style: styles.filterSelect,\n        disabled: !filterSubs.length,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"All Subcategories\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1889,\n          columnNumber: 11\n        }, this), filterSubs.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: s._id,\n          children: s.name\n        }, s._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1891,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1883,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1871,\n      columnNumber: 7\n    }, this), selectedItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.bulkBar,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: styles.bulkText,\n        children: [\" \", selectedItems.length, \" selected\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1898,\n        columnNumber: 11\n      }, this), !diffUpdateMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.bulkActions,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.btnDanger,\n          onClick: handleBulkDelete,\n          children: \"Bulk Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1902,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.btnPrimary,\n          onClick: () => setDiffUpdateMode(true),\n          children: \"Update Diffs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1905,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1901,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.diffUpdatePanel,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.panelTitle,\n          children: \"\\uD83D\\uDCDD Update Today's Difference\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1911,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.panelDesc,\n          children: \"New Final = Yesterday's Final + Today's Diff\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1912,\n          columnNumber: 15\n        }, this), items.filter(item => selectedItems.includes(item._id)).map(item => {\n          var _ref, _tempDiffs$item$_id, _ref2, _tempDiffs$item$_id2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.diffUpdateRow,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.diffUpdateInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1921,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: styles.diffUpdateMeta,\n                children: [\"Yesterday: \\u20B9\", item.lastFinalPrice || item.basePrice, \" | Current Diff: \", item.todayDiff || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1922,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1920,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.diffUpdateInputGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.diffLabel,\n                children: \"New Diff:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1928,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: (_ref = (_tempDiffs$item$_id = tempDiffs[item._id]) !== null && _tempDiffs$item$_id !== void 0 ? _tempDiffs$item$_id : item.todayDiff) !== null && _ref !== void 0 ? _ref : 0,\n                onChange: e => setTempDiffs(prev => ({\n                  ...prev,\n                  [item._id]: e.target.value\n                })),\n                style: styles.diffInput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1929,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: styles.diffResult,\n                children: [\"= \\u20B9\", (item.lastFinalPrice || item.basePrice) + Number((_ref2 = (_tempDiffs$item$_id2 = tempDiffs[item._id]) !== null && _tempDiffs$item$_id2 !== void 0 ? _tempDiffs$item$_id2 : item.todayDiff) !== null && _ref2 !== void 0 ? _ref2 : 0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1940,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1927,\n              columnNumber: 21\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1919,\n            columnNumber: 19\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.diffUpdateActions,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnSuccess,\n            onClick: handleBulkUpdateDiffs,\n            children: \"\\u2705 Save All Diffs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1948,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: styles.btnCancel,\n            onClick: () => {\n              setDiffUpdateMode(false);\n              setTempDiffs({});\n            },\n            children: \"\\u274C Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1951,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1947,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1910,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1897,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.tableCard,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.tableHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.tableTitle,\n          children: \"\\uD83D\\uDCCB Products List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1968,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: styles.totalCount,\n          children: [\"Total: \", filteredItems.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1969,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1967,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.tableWrapper,\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: styles.table,\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: selectedItems.length === filteredItems.length && filteredItems.length > 0,\n                  onChange: () => {\n                    if (selectedItems.length === filteredItems.length) setSelectedItems([]);else setSelectedItems(filteredItems.map(x => x._id));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1977,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1976,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Sr\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1986,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1987,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1988,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1989,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Subcategory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1990,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Base Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1991,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Yesterday's Final\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1992,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Today's Diff\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1993,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Current Final\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1994,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1995,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Valid Till\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1996,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: styles.th,\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1997,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1975,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1974,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: currentItems.map((item, i) => {\n              var _item$category6, _item$subcategory5;\n              const yesterdayFinal = item.lastFinalPrice || item.basePrice || 0;\n              const todayDiff = item.todayDiff || 0;\n              const currentFinal = item.currentFinalPrice || yesterdayFinal;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: styles.tr,\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: selectedItems.includes(item._id),\n                    onChange: () => setSelectedItems(prev => prev.includes(item._id) ? prev.filter(x => x !== item._id) : [...prev, item._id])\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2010,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2009,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: (currentPage - 1) * itemsPerPage + (i + 1)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2022,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.image,\n                    style: styles.tableImg,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2025,\n                    columnNumber: 25\n                  }, this) : \"üñºÔ∏è\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2023,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2030,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: ((_item$category6 = item.category) === null || _item$category6 === void 0 ? void 0 : _item$category6.name) || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2031,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: ((_item$subcategory5 = item.subcategory) === null || _item$subcategory5 === void 0 ? void 0 : _item$subcategory5.name) || \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2032,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: [\"\\u20B9\", item.basePrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2033,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: [\"\\u20B9\", yesterdayFinal]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2034,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: todayDiff >= 0 ? styles.diffPositive : styles.diffNegative,\n                    children: [todayDiff >= 0 ? \"+\" : \"\", todayDiff]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2036,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2035,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.tdFinal,\n                  children: [\"\\u20B9\", currentFinal]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2040,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: item.status === \"active\" ? styles.statusActive : styles.statusInactive,\n                    onClick: () => handleStatusToggle(item),\n                    children: item.status === \"active\" ? \"üü¢ Active\" : \"üî¥ Inactive\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2042,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2041,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: item.validTill ? new Date(item.validTill).toLocaleDateString() : \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2053,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: styles.td,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      position: \"relative\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      style: styles.menuButton,\n                      onClick: () => setActiveMenu(activeMenu === item._id ? null : item._id),\n                      children: \"\\u22EE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2060,\n                      columnNumber: 25\n                    }, this), activeMenu === item._id && /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: styles.dropdown,\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        style: styles.dropdownItem,\n                        onClick: () => handleEdit(item),\n                        children: \"\\u270F\\uFE0F Edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2071,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        style: styles.dropdownItemDelete,\n                        onClick: () => handleDelete(item._id),\n                        children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2077,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2070,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2059,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2058,\n                  columnNumber: 21\n                }, this)]\n              }, item._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2008,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2001,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1973,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1972,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.pagination,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.paginationBtn,\n          disabled: currentPage === 1,\n          onClick: () => setCurrentPage(p => p - 1),\n          children: \"\\u2190 Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2095,\n          columnNumber: 11\n        }, this), Array.from({\n          length: totalPages\n        }, (_, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n          style: i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn,\n          onClick: () => setCurrentPage(i + 1),\n          children: i + 1\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2104,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: styles.paginationBtn,\n          disabled: currentPage === totalPages,\n          onClick: () => setCurrentPage(p => p + 1),\n          children: \"Next \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2094,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1966,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.modalOverlay,\n      onClick: () => setShowModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.modal,\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.modalTitle,\n          children: editId ? \"‚úèÔ∏è Edit Product\" : \"‚ûï Add Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGrid,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Product Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2137,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                required: true,\n                name: \"name\",\n                value: form.name,\n                onChange: handleChange,\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2138,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2136,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Category *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                required: true,\n                name: \"category\",\n                value: form.category,\n                onChange: e => {\n                  handleChange(e);\n                  setForm(p => ({\n                    ...p,\n                    subcategory: \"\"\n                  }));\n                },\n                style: styles.select,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2159,\n                  columnNumber: 21\n                }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: c._id,\n                  children: c.name\n                }, c._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2161,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2149,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Subcategory\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"subcategory\",\n                value: form.subcategory,\n                onChange: handleChange,\n                disabled: !subcategories.length,\n                style: styles.select,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Subcategory\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2177,\n                  columnNumber: 21\n                }, this), subcategories.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: s._id,\n                  children: s.name\n                }, s._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2179,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2170,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Base Price *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                required: true,\n                name: \"basePrice\",\n                value: form.basePrice,\n                onChange: handleChange,\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2188,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Initial Difference\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2199,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"difference\",\n                value: form.difference,\n                onChange: handleChange,\n                style: styles.input,\n                placeholder: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2200,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: styles.helpText,\n                children: \"Final = Base + Difference\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2208,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Valid Till\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                name: \"validTill\",\n                value: form.validTill,\n                onChange: handleChange,\n                style: styles.input\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2215,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.formGroup,\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: styles.label,\n                children: \"Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2225,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: handleChange,\n                style: styles.fileInput\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2226,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2135,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formGroup,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: styles.label,\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"description\",\n              value: form.description,\n              onChange: handleChange,\n              style: styles.textarea\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2237,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.formActions,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: styles.btnPrimary,\n              disabled: loading,\n              children: loading ? \"‚è≥ Saving...\" : editId ? \"üíæ Update\" : \"‚ûï Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              style: styles.btnCancel,\n              onClick: () => setShowModal(false),\n              children: \"\\u274C Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2249,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2245,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2134,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2129,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2128,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1834,\n    columnNumber: 5\n  }, this);\n}\n_s(PriceList, \"MrCVGa3xWefTNEO6FzTGfWlsmmc=\");\n_c = PriceList;\nconst styles = {\n  container: {\n    padding: \"20px\",\n    maxWidth: \"1400px\",\n    margin: \"0 auto\",\n    fontFamily: \"'Inter', sans-serif\"\n  },\n  header: {\n    marginBottom: \"25px\"\n  },\n  title: {\n    fontSize: \"28px\",\n    fontWeight: \"700\",\n    color: \"#1a202c\",\n    marginBottom: \"5px\"\n  },\n  topBar: {\n    display: \"flex\",\n    gap: \"15px\",\n    marginBottom: \"20px\",\n    flexWrap: \"wrap\"\n  },\n  searchInput: {\n    flex: \"1\",\n    minWidth: \"250px\",\n    padding: \"12px 16px\",\n    borderRadius: \"10px\",\n    border: \"1px solid #e2e8f0\",\n    fontSize: \"14px\",\n    outline: \"none\"\n  },\n  addButton: {\n    background: \"#3182ce\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"10px\",\n    padding: \"12px 24px\",\n    fontSize: \"14px\",\n    fontWeight: \"600\",\n    cursor: \"pointer\"\n  },\n  filterBar: {\n    display: \"flex\",\n    gap: \"12px\",\n    marginBottom: \"20px\",\n    flexWrap: \"wrap\"\n  },\n  filterSelect: {\n    padding: \"10px 14px\",\n    borderRadius: \"8px\",\n    border: \"1px solid #e2e8f0\",\n    fontSize: \"14px\",\n    minWidth: \"200px\"\n  },\n  bulkBar: {\n    background: \"#edf2f7\",\n    border: \"1px solid #cbd5e0\",\n    borderRadius: \"12px\",\n    padding: \"16px\",\n    marginBottom: \"20px\"\n  },\n  bulkText: {\n    fontSize: \"15px\",\n    fontWeight: \"600\",\n    color: \"#2d3748\",\n    display: \"block\",\n    marginBottom: \"12px\"\n  },\n  bulkActions: {\n    display: \"flex\",\n    gap: \"10px\",\n    flexWrap: \"wrap\"\n  },\n  diffUpdatePanel: {\n    background: \"#fff\",\n    padding: \"20px\",\n    borderRadius: \"10px\",\n    marginTop: \"12px\"\n  },\n  panelTitle: {\n    fontSize: \"18px\",\n    fontWeight: \"700\",\n    color: \"#2d3748\",\n    marginBottom: \"8px\"\n  },\n  panelDesc: {\n    fontSize: \"13px\",\n    color: \"#718096\",\n    marginBottom: \"16px\"\n  },\n  diffUpdateRow: {\n    background: \"#f7fafc\",\n    padding: \"14px\",\n    borderRadius: \"8px\",\n    marginBottom: \"12px\",\n    border: \"1px solid #e2e8f0\"\n  },\n  diffUpdateInfo: {\n    marginBottom: \"10px\"\n  },\n  diffUpdateMeta: {\n    fontSize: \"12px\",\n    color: \"#718096\",\n    display: \"block\",\n    marginTop: \"4px\"\n  },\n  diffUpdateInputGroup: {\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: \"10px\",\n    flexWrap: \"wrap\"\n  },\n  diffLabel: {\n    fontSize: \"13px\",\n    fontWeight: \"600\",\n    color: \"#4a5568\"\n  },\n  diffInput: {\n    padding: \"8px 12px\",\n    borderRadius: \"6px\",\n    border: \"1px solid #cbd5e0\",\n    width: \"100px\",\n    fontSize: \"14px\"\n  },\n  diffResult: {\n    fontSize: \"14px\",\n    fontWeight: \"600\",\n    color: \"#2d3748\"\n  },\n  diffUpdateActions: {\n    display: \"flex\",\n    gap: \"10px\",\n    marginTop: \"16px\"\n  },\n  btnPrimary: {\n    background: \"#3182ce\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"8px\",\n    padding: \"10px 20px\",\n    fontWeight: \"600\",\n    cursor: \"pointer\",\n    fontSize: \"14px\"\n  },\n  btnSuccess: {\n    background: \"#48bb78\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"8px\",\n    padding: \"10px 20px\",\n    fontWeight: \"600\",\n    cursor: \"pointer\",\n    fontSize: \"14px\"\n  },\n  btnDanger: {\n    background: \"#f56565\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"8px\",\n    padding: \"10px 20px\",\n    fontWeight: \"600\",\n    cursor: \"pointer\",\n    fontSize: \"14px\"\n  },\n  btnCancel: {\n    background: \"#a0aec0\",\n    color: \"#fff\",\n    border: \"none\",\n    borderRadius: \"8px\",\n    padding: \"10px 20px\",\n    fontWeight: \"600\",\n    cursor: \"pointer\",\n    fontSize: \"14px\"\n  },\n  tableCard: {\n    background: \"#fff\",\n    borderRadius: \"12px\",\n    padding: \"20px\",\n    boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\"\n  },\n  tableHeader: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    marginBottom: \"16px\"\n  },\n  tableTitle: {\n    fontSize: \"20px\",\n    fontWeight: \"700\",\n    color: \"#2d3748\"\n  },\n  totalCount: {\n    fontSize: \"14px\",\n    color: \"#718096\",\n    fontWeight: \"600\"\n  },\n  tableWrapper: {\n    overflowX: \"auto\"\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"collapse\",\n    fontSize: \"13px\"\n  },\n  th: {\n    background: \"#edf2f7\",\n    padding: \"12px 10px\",\n    fontWeight: \"700\",\n    color: \"#2d3748\",\n    textAlign: \"left\",\n    whiteSpace: \"nowrap\",\n    borderBottom: \"2px solid #cbd5e0\"\n  },\n  tr: {\n    borderBottom: \"1px solid #e2e8f0\"\n  },\n  td: {\n    padding: \"12px 10px\",\n    whiteSpace: \"nowrap\"\n  },\n  tdFinal: {\n    padding: \"12px 10px\",\n    whiteSpace: \"nowrap\",\n    fontWeight: \"700\",\n    color: \"#2d3748\",\n    fontSize: \"14px\"\n  },\n  tableImg: {\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"8px\",\n    objectFit: \"cover\",\n    border: \"1px solid #e2e8f0\"\n  },\n  diffPositive: {\n    color: \"#48bb78\",\n    fontWeight: \"600\"\n  },\n  diffNegative: {\n    color: \"#f56565\",\n    fontWeight: \"600\"\n  },\n  statusActive: {\n    background: \"#c6f6d5\",\n    color: \"#22543d\",\n    padding: \"6px 12px\",\n    borderRadius: \"6px\",\n    fontWeight: \"600\",\n    border: \"none\",\n    cursor: \"pointer\",\n    fontSize: \"12px\"\n  },\n  statusInactive: {\n    background: \"#fed7d7\",\n    color: \"#742a2a\",\n    padding: \"6px 12px\",\n    borderRadius: \"6px\",\n    fontWeight: \"600\",\n    border: \"none\",\n    cursor: \"pointer\",\n    fontSize: \"12px\"\n  },\n  menuButton: {\n    background: \"#f7fafc\",\n    border: \"1px solid #e2e8f0\",\n    borderRadius: \"6px\",\n    padding: \"4px 10px\",\n    fontSize: \"18px\",\n    cursor: \"pointer\"\n  },\n  dropdown: {\n    position: \"absolute\",\n    right: \"0\",\n    top: \"32px\",\n    background: \"#fff\",\n    border: \"1px solid #e2e8f0\",\n    borderRadius: \"8px\",\n    boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n    zIndex: \"100\",\n    minWidth: \"140px\"\n  },\n  dropdownItem: {\n    display: \"block\",\n    width: \"100%\",\n    padding: \"10px 15px\",\n    background: \"transparent\",\n    border: \"none\",\n    textAlign: \"left\",\n    cursor: \"pointer\",\n    fontSize: \"13px\",\n    fontWeight: \"500\",\n    borderBottom: \"1px solid #f7fafc\"\n  },\n  dropdownItemDelete: {\n    display: \"block\",\n    width: \"100%\",\n    padding: \"10px 15px\",\n    background: \"transparent\",\n    border: \"none\",\n    textAlign: \"left\",\n    cursor: \"pointer\",\n    fontSize: \"13px\",\n    fontWeight: \"500\",\n    color: \"#f56565\"\n  },\n  pagination: {\n    marginTop: \"20px\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    gap: \"8px\",\n    flexWrap: \"wrap\"\n  },\n  paginationBtn: {\n    padding: \"8px 12px\",\n    borderRadius: \"6px\",\n    background: \"#fff\",\n    border: \"1px solid #e2e8f0\",\n    cursor: \"pointer\",\n    fontSize: \"13px\"\n  },\n  paginationBtnActive: {\n    padding: \"8px 12px\",\n    borderRadius: \"6px\",\n    background: \"#3182ce\",\n    color: \"white\",\n    border: \"1px solid #2c5282\",\n    cursor: \"pointer\",\n    fontSize: \"13px\"\n  },\n  modalOverlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    background: \"rgba(0, 0, 0, 0.5)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: \"1000\",\n    padding: \"20px\"\n  },\n  modal: {\n    background: \"#fff\",\n    borderRadius: \"16px\",\n    padding: \"30px\",\n    maxWidth: \"700px\",\n    width: \"100%\",\n    maxHeight: \"90vh\",\n    overflowY: \"auto\",\n    boxShadow: \"0 10px 40px rgba(0, 0, 0, 0.3)\"\n  },\n  modalTitle: {\n    fontSize: \"22px\",\n    fontWeight: \"700\",\n    color: \"#2d3748\",\n    marginBottom: \"20px\",\n    textAlign: \"center\"\n  },\n  formGrid: {\n    display: \"grid\",\n    gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\n    gap: \"16px\",\n    marginBottom: \"16px\"\n  },\n  formGroup: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"6px\"\n  },\n  label: {\n    fontWeight: \"600\",\n    fontSize: \"13px\",\n    color: \"#4a5568\"\n  },\n  input: {\n    padding: \"10px 12px\",\n    borderRadius: \"8px\",\n    border: \"1px solid #cbd5e0\",\n    fontSize: \"14px\",\n    outline: \"none\"\n  },\n  select: {\n    padding: \"10px 12px\",\n    borderRadius: \"8px\",\n    border: \"1px solid #cbd5e0\",\n    fontSize: \"14px\",\n    outline: \"none\"\n  },\n  textarea: {\n    padding: \"10px 12px\",\n    borderRadius: \"8px\",\n    border: \"1px solid #cbd5e0\",\n    fontSize: \"14px\",\n    outline: \"none\",\n    resize: \"vertical\",\n    minHeight: \"80px\"\n  },\n  fileInput: {\n    padding: \"8px\",\n    fontSize: \"13px\"\n  },\n  helpText: {\n    fontSize: \"11px\",\n    color: \"#718096\",\n    fontStyle: \"italic\"\n  },\n  formActions: {\n    display: \"flex\",\n    gap: \"12px\",\n    marginTop: \"20px\"\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"PriceList\");","map":{"version":3,"names":["React","useEffect","useState","useRef","axios","jsxDEV","_jsxDEV","API_URL","CATEGORY_URL","PriceList","_s","items","setItems","categories","setCategories","subcategories","setSubcategories","search","setSearch","loading","setLoading","form","setForm","name","category","subcategory","description","basePrice","difference","validTill","file","editId","setEditId","showModal","setShowModal","activeMenu","setActiveMenu","selectedItems","setSelectedItems","diffUpdateMode","setDiffUpdateMode","tempDiffs","setTempDiffs","filterCategory","setFilterCategory","filterSubcategory","setFilterSubcategory","filterSubs","setFilterSubs","currentPage","setCurrentPage","itemsPerPage","fetchCategories","length","fetchItems","cat","find","c","_id","_res$data","res","get","data","success","raw","enriched","map","item","_cat$subcategories","_item$category","sub","s","_item$subcategory","err","console","error","alert","_res$data2","prev","subs","exists","some","handleChange","e","value","files","target","p","handleSubmit","preventDefault","fd","FormData","Object","keys","forEach","k","val","undefined","append","put","post","handleEdit","_item$category2","_item$category2$_id","_item$subcategory2","_item$subcategory2$_i","_item$basePrice","_item$todayDiff","toString","todayDiff","split","_item$category3","handleDelete","id","window","confirm","delete","filter","x","handleStatusToggle","newStatus","status","handleUpdateDiff","itemId","newDiff","diff","Number","handleBulkUpdateDiffs","Promise","all","_tempDiffs$id","handleBulkDelete","filteredItems","_item$category4","_item$subcategory3","_item$category5","_item$subcategory4","t","toLowerCase","matchText","includes","matchCategory","matchSub","indexOfLast","currentItems","slice","totalPages","Math","max","ceil","style","styles","container","children","header","title","fileName","_jsxFileName","lineNumber","columnNumber","topBar","type","placeholder","onChange","searchInput","addButton","onClick","filterBar","filterSelect","disabled","bulkBar","bulkText","bulkActions","btnDanger","btnPrimary","diffUpdatePanel","panelTitle","panelDesc","_ref","_tempDiffs$item$_id","_ref2","_tempDiffs$item$_id2","diffUpdateRow","diffUpdateInfo","diffUpdateMeta","lastFinalPrice","diffUpdateInputGroup","diffLabel","diffInput","diffResult","diffUpdateActions","btnSuccess","btnCancel","tableCard","tableHeader","tableTitle","totalCount","tableWrapper","table","th","checked","i","_item$category6","_item$subcategory5","yesterdayFinal","currentFinal","currentFinalPrice","tr","td","image","src","tableImg","alt","diffPositive","diffNegative","tdFinal","statusActive","statusInactive","Date","toLocaleDateString","position","menuButton","dropdown","dropdownItem","dropdownItemDelete","pagination","paginationBtn","Array","from","_","paginationBtnActive","modalOverlay","modal","stopPropagation","modalTitle","onSubmit","formGrid","formGroup","label","required","input","select","helpText","accept","fileInput","textarea","formActions","_c","padding","maxWidth","margin","fontFamily","marginBottom","fontSize","fontWeight","color","display","gap","flexWrap","flex","minWidth","borderRadius","border","outline","background","cursor","marginTop","alignItems","width","boxShadow","justifyContent","overflowX","borderCollapse","textAlign","whiteSpace","borderBottom","height","objectFit","right","top","zIndex","left","bottom","maxHeight","overflowY","gridTemplateColumns","flexDirection","resize","minHeight","fontStyle","$RefreshReg$"],"sources":["E:/infyle/Grocerry_final/frontend/src/pages/PriceList.jsx"],"sourcesContent":["\r\n// import React, { useEffect, useState, useRef } from \"react\";\r\n// import axios from \"axios\";\r\n// import \"./PriceList.css\"\r\n// const API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\r\n// const CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\r\n\r\n// export default function PriceList() {\r\n//   const [items, setItems] = useState([]);\r\n//   const [categories, setCategories] = useState([]);\r\n//   const [subcategories, setSubcategories] = useState([]);\r\n//   const [isMobile, setIsMobile] = useState(window.innerWidth < 768);\r\n//   const [search, setSearch] = useState(\"\");\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   // FORM state\r\n//   const [form, setForm] = useState({\r\n//     name: \"\",\r\n//     category: \"\",\r\n//     subcategory: \"\",\r\n//     description: \"\",\r\n//     basePrice: \"\",\r\n//     difference: \"\",\r\n//     validTill: \"\",\r\n//     file: null,\r\n//   });\r\n\r\n//   const [editId, setEditId] = useState(null);\r\n//   const [isCopyMode, setIsCopyMode] = useState(false);\r\n//   const [showForm, setShowForm] = useState(false);\r\n//   const [showModal, setShowModal] = useState(false);\r\n//   const [activeMenu, setActiveMenu] = useState(null);\r\n\r\n//   const [addingCategory, setAddingCategory] = useState(false);\r\n//   const [newCategoryName, setNewCategoryName] = useState(\"\");\r\n//   const [newCategoryImage, setNewCategoryImage] = useState(null);\r\n//   const [newCategoryPreview, setNewCategoryPreview] = useState(null);\r\n\r\n//   const [addingSub, setAddingSub] = useState(false);\r\n//   const [newSubName, setNewSubName] = useState(\"\");\r\n//   const [newSubImage, setNewSubImage] = useState(null);\r\n//   const [newSubPreview, setNewSubPreview] = useState(null);\r\n\r\n//   const [selectedItems, setSelectedItems] = useState([]);\r\n//   const [bulkMode, setBulkMode] = useState(false);\r\n\r\n//   const [csvFile, setCsvFile] = useState(null);\r\n//   const csvInputRef = useRef();\r\n\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const itemsPerPage = 30;\r\n\r\n//   const [filterCategory, setFilterCategory] = useState(\"\");\r\n// const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n// const [filterSubs, setFilterSubs] = useState([]);\r\n\r\n// useEffect(() => {\r\n//   if (!filterCategory) {\r\n//     setFilterSubs([]);\r\n//     setFilterSubcategory(\"\");\r\n//     return;\r\n//   }\r\n\r\n//   const cat = categories.find(c => c._id === filterCategory);\r\n//   setFilterSubs(cat?.subcategories || []);\r\n//   setFilterSubcategory(\"\");\r\n// }, [filterCategory, categories]);\r\n\r\n\r\n//   // useEffect(() => {\r\n//   //   fetchItems();\r\n//   //   fetchCategories();\r\n\r\n//   //   const handleResize = () => setIsMobile(window.innerWidth < 768);\r\n//   //   window.addEventListener(\"resize\", handleResize);\r\n//   //   return () => window.removeEventListener(\"resize\", handleResize);\r\n//   // }, []);\r\n//   // 1. Pehle categories load karo\r\n// useEffect(() => {\r\n//   fetchCategories();\r\n// }, []);\r\n\r\n// // 2. Categories load hone ke baad items load karo\r\n// useEffect(() => {\r\n//   if (categories.length > 0) {\r\n//     fetchItems();\r\n//   }\r\n// }, [categories]);\r\n\r\n// // 3. Resize listener\r\n// useEffect(() => {\r\n//   const handleResize = () => setIsMobile(window.innerWidth < 768);\r\n//   window.addEventListener(\"resize\", handleResize);\r\n//   return () => window.removeEventListener(\"resize\", handleResize);\r\n// }, []);\r\n\r\n\r\n//   const fetchItems = async () => {\r\n//     try {\r\n//       setLoading(true);\r\n//       const res = await axios.get(API_URL);\r\n//       // if (res.data && res.data.success) setItems(res.data.data || []);\r\n//       if (res.data && res.data.success) {\r\n//   const raw = res.data.data;\r\n\r\n//   // Agar categories abhi load nahi hui = raw items set\r\n//   if (!categories.length) {\r\n//     setItems(raw);\r\n//     return;\r\n//   }\r\n\r\n//   // Mapping to category + subcategory object\r\n//   const enriched = raw.map((item) => {\r\n//     const cat = categories.find(\r\n//       (c) =>\r\n//         c._id === item.category ||\r\n//         c._id === item.category?._id\r\n//     );\r\n\r\n//     const sub = cat?.subcategories?.find(\r\n//       (s) =>\r\n//         s._id === item.subcategory ||\r\n//         s._id === item.subcategory?._id\r\n//     );\r\n\r\n//     return {\r\n//       ...item,\r\n//       category: cat\r\n//         ? { _id: cat._id, name: cat.name }\r\n//         : item.category,\r\n\r\n//       subcategory: sub\r\n//         ? { _id: sub._id, name: sub.name }\r\n//         : item.subcategory,\r\n//     };\r\n//   });\r\n\r\n//   setItems(enriched);\r\n// }\r\n\r\n//     } catch (err) {\r\n//       console.error(\"Fetch items error\", err);\r\n//       alert(\"Could not fetch items\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const fetchCategories = async () => {\r\n//     try {\r\n//       const res = await axios.get(CATEGORY_URL);\r\n//       if (res.data && res.data.success) setCategories(res.data.categories || []);\r\n//     } catch (err) {\r\n//       console.error(\"Fetch categories error\", err);\r\n//       alert(\"Could not fetch categories\");\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (!form.category) {\r\n//       setSubcategories([]);\r\n//       setForm((prev) => ({ ...prev, subcategory: \"\" }));\r\n//       return;\r\n//     }\r\n\r\n//     const cat = categories.find((c) => c._id === form.category);\r\n//     const subs = (cat && cat.subcategories) || [];\r\n//     setSubcategories(subs);\r\n\r\n//     const exists = subs.some((s) => s._id === form.subcategory);\r\n//     if (!exists) setForm((prev) => ({ ...prev, subcategory: \"\" }));\r\n//   }, [form.category, categories]);\r\n\r\n//   const handleCreateCategory = async () => {\r\n//     if (!newCategoryName.trim()) return alert(\"Enter category name\");\r\n//     try {\r\n//       const fd = new FormData();\r\n//       fd.append(\"name\", newCategoryName.trim());\r\n//       if (newCategoryImage) fd.append(\"image\", newCategoryImage);\r\n\r\n//       const res = await axios.post(CATEGORY_URL, fd);\r\n//       if (res.data && res.data.success) {\r\n//         alert(\"Category created\");\r\n//         setNewCategoryName(\"\");\r\n//         setNewCategoryImage(null);\r\n//         setNewCategoryPreview(null);\r\n//         setAddingCategory(false);\r\n//         fetchCategories();\r\n//       } else {\r\n//         alert(\"Category creation failed\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Create category error\", err);\r\n//       alert(\"Category creation failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleCreateSub = async () => {\r\n//     if (!newSubName.trim()) return alert(\"Enter subcategory name\");\r\n//     if (!form.category) return alert(\"Select category first\");\r\n\r\n//     try {\r\n//       const fd = new FormData();\r\n//       fd.append(\"name\", newSubName.trim());\r\n//       if (newSubImage) fd.append(\"image\", newSubImage);\r\n\r\n//       const res = await axios.post(`${CATEGORY_URL}/${form.category}/sub`, fd);\r\n//       if (res.data && res.data.success) {\r\n//         alert(\"Subcategory created\");\r\n//         setNewSubName(\"\");\r\n//         setNewSubImage(null);\r\n//         setNewSubPreview(null);\r\n//         setAddingSub(false);\r\n//         fetchCategories();\r\n//       } else {\r\n//         alert(\"Subcategory creation failed\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"Create sub error\", err);\r\n//       alert(\"Subcategory creation failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleChange = (e) => {\r\n//     const { name, value, files } = e.target;\r\n//     if (files && files.length) {\r\n//       setForm((p) => ({ ...p, file: files[0] }));\r\n//     } else {\r\n//       setForm((p) => ({ ...p, [name]: value }));\r\n//     }\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     setLoading(true);\r\n\r\n//     try {\r\n//       if (!form.name || !form.category || !form.basePrice) {\r\n//         alert(\"Name, category & base price are required\");\r\n//         setLoading(false);\r\n//         return;\r\n//       }\r\n\r\n//       const fd = new FormData();\r\n//       Object.keys(form).forEach((k) => {\r\n//         const val = form[k];\r\n//         if (val !== undefined && val !== null) {\r\n//           fd.append(k, val);\r\n//         }\r\n//       });\r\n\r\n//       let res;\r\n//       if (isCopyMode) {\r\n//         res = await axios.post(API_URL, fd);\r\n//         alert(\"Copied as new item\");\r\n//       } else if (editId) {\r\n//         res = await axios.put(`${API_URL}/${editId}`, fd);\r\n//         alert(\"Updated\");\r\n//       } else {\r\n//         res = await axios.post(API_URL, fd);\r\n//         alert(\"Added\");\r\n//       }\r\n\r\n//       await fetchItems();\r\n//       await fetchCategories();\r\n\r\n//       setForm({\r\n//         name: \"\",\r\n//         category: \"\",\r\n//         subcategory: \"\",\r\n//         description: \"\",\r\n//         basePrice: \"\",\r\n//         difference: \"\",\r\n//         validTill: \"\",\r\n//         file: null,\r\n//       });\r\n//       setEditId(null);\r\n//       setIsCopyMode(false);\r\n//       setShowModal(false);\r\n//       setShowForm(false);\r\n//     } catch (err) {\r\n//       console.error(\"Save error\", err);\r\n//       alert(\"Save failed\");\r\n//     } finally {\r\n//       setLoading(false);\r\n//     }\r\n//   };\r\n\r\n//   const handleEdit = (item) => {\r\n//     setForm({\r\n//       name: item.name || \"\",\r\n//       category: item.category?._id?.toString() || \"\",\r\n//       subcategory: item.subcategory?._id?.toString() || \"\",\r\n//       description: item.description || \"\",\r\n//       basePrice: item.basePrice ?? \"\",\r\n//       difference: item.difference ?? \"\",\r\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\r\n//       file: null,\r\n//     });\r\n\r\n//     const cat = categories.find((c) => c._id === item.category?._id);\r\n//     setSubcategories(cat?.subcategories || []);\r\n\r\n//     setEditId(item._id);\r\n//     setIsCopyMode(false);\r\n//     setShowModal(true);\r\n//     setActiveMenu(null);\r\n//   };\r\n\r\n//   const handleCopyToEdit = (item) => {\r\n//     setForm({\r\n//       name: item.name || \"\",\r\n//       category: item.category?._id?.toString() || \"\",\r\n//       subcategory: item.subcategory?._id?.toString() || \"\",\r\n//       description: item.description || \"\",\r\n//       basePrice: item.basePrice ?? \"\",\r\n//       difference: item.difference ?? \"\",\r\n//       validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\r\n//       file: null,\r\n//     });\r\n\r\n//     const cat = categories.find((c) => c._id === item.category?._id);\r\n//     setSubcategories(cat?.subcategories || []);\r\n\r\n//     setEditId(null);\r\n//     setIsCopyMode(true);\r\n//     setShowModal(true);\r\n//     setActiveMenu(null);\r\n//   };\r\n\r\n//   const handleDelete = async (id) => {\r\n//     if (!window.confirm(\"Delete item?\")) return;\r\n//     try {\r\n//       await axios.delete(`${API_URL}/${id}`);\r\n//       setItems((prev) => prev.filter((x) => x._id !== id));\r\n//       setSelectedItems((prev) => prev.filter((x) => x !== id));\r\n//       setActiveMenu(null);\r\n//     } catch (err) {\r\n//       console.error(\"Delete error\", err);\r\n//       alert(\"Delete failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleStatusToggle = async (item) => {\r\n//     try {\r\n//       const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\r\n//       await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\r\n//       setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\r\n//     } catch (err) {\r\n//       console.error(\"Status toggle error\", err);\r\n//       alert(\"Status update failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleBulkDelete = async () => {\r\n//     if (!selectedItems.length) return alert(\"No items selected\");\r\n//     if (!window.confirm(\"Delete selected items?\")) return;\r\n\r\n//     try {\r\n//       await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\r\n//       setSelectedItems([]);\r\n//       fetchItems();\r\n//       setBulkMode(false);\r\n//     } catch (err) {\r\n//       console.error(\"Bulk delete error\", err);\r\n//       alert(\"Bulk delete failed\");\r\n//     }\r\n//   };\r\n\r\n//   const updateLocalItemField = (id, key, value) => {\r\n//     setItems((prev) => prev.map((x) => (x._id === id ? { ...x, [key]: value } : x)));\r\n//   };\r\n\r\n//   const handleBulkSave = async () => {\r\n//     if (!selectedItems.length) return alert(\"No items selected for bulk save\");\r\n\r\n//     const updates = items\r\n//       .filter((x) => selectedItems.includes(x._id))\r\n//       .map((x) => ({\r\n//         id: x._id,\r\n//         name: x.name,\r\n//         basePrice: x.basePrice,\r\n//         difference: x.difference,\r\n//         validTill: x.validTill,\r\n//       }));\r\n\r\n//     try {\r\n//       await axios.post(`${API_URL}/bulk-update`, { products: updates });\r\n//       setBulkMode(false);\r\n//       setSelectedItems([]);\r\n//       fetchItems();\r\n//     } catch (err) {\r\n//       console.error(\"Bulk save error\", err);\r\n//       alert(\"Bulk save failed\");\r\n//     }\r\n//   };\r\n\r\n//   const handleCsvSelect = (e) => {\r\n//     setCsvFile(e.target.files[0]);\r\n//   };\r\n\r\n//   const handleImportCsv = async () => {\r\n//     if (!csvFile) return alert(\"Select CSV file\");\r\n//     try {\r\n//       const fd = new FormData();\r\n//       fd.append(\"file\", csvFile);\r\n//       const res = await axios.post(`${API_URL}/import`, fd);\r\n//       if (res.data && res.data.success) {\r\n//         alert(`Imported ${res.data.inserted || 0} items`);\r\n//         setCsvFile(null);\r\n//         if (csvInputRef.current) csvInputRef.current.value = null;\r\n//         fetchItems();\r\n//       } else {\r\n//         alert(\"CSV import failed\");\r\n//       }\r\n//     } catch (err) {\r\n//       console.error(\"CSV import error\", err);\r\n//       alert(\"CSV import failed\");\r\n//     }\r\n//   };\r\n\r\n//   // const handleExportCsv = async () => {\r\n//   //   try {\r\n//   //     const res = await axios.get(`${API_URL}/export`, { responseType: \"blob\" });\r\n//   //     const url = window.URL.createObjectURL(new Blob([res.data]));\r\n//   //     const a = document.createElement(\"a\");\r\n//   //     a.href = url;\r\n//   //     a.download = \"prices.csv\";\r\n//   //     a.click();\r\n//   //     URL.revokeObjectURL(url);\r\n//   //   } catch (err) {\r\n//   //     console.error(\"CSV export error\", err);\r\n//   //     alert(\"CSV export failed\");\r\n//   //   }\r\n//   // };\r\n// const handleExportCsv = () => {\r\n//   if (!items.length) return alert(\"No items to export\");\r\n\r\n//   const header = [\r\n//     \"id\",\r\n//     \"name\",\r\n//     \"categoryName\",\r\n//     \"subcategoryName\",\r\n//     \"basePrice\",\r\n//     \"difference\",\r\n//     \"finalPrice\",\r\n//     \"status\",\r\n//     \"validTill\",\r\n//     \"description\",\r\n//     \"imageUrl\",\r\n//   ];\r\n\r\n//   const rows = items.map((p) => [\r\n//     p._id,\r\n//     p.name || \"\",\r\n//     p.category?.name || \"\",\r\n//     p.subcategory?.name || \"\",\r\n//     p.basePrice ?? \"\",\r\n//     p.difference ?? \"\",\r\n//     (Number(p.basePrice) + Number(p.difference || 0)) || \"\",\r\n//     p.status || \"\",\r\n//     p.validTill ? new Date(p.validTill).toISOString().split(\"T\")[0] : \"\",\r\n//     p.description || \"\",\r\n//     p.image || \"\",\r\n//   ]);\r\n\r\n//   const csvArray = [header, ...rows];\r\n//   const csvContent =\r\n//     \"data:text/csv;charset=utf-8,\" +\r\n//     csvArray\r\n//       .map((r) => r.map((c) => `\"${String(c).replace(/\"/g, '\"\"')}\"`).join(\",\"))\r\n//       .join(\"\\n\");\r\n\r\n//   const encodedUri = encodeURI(csvContent);\r\n//   const link = document.createElement(\"a\");\r\n//   link.href = encodedUri;\r\n//   link.download = `all_prices_${Date.now()}.csv`;\r\n//   link.click();\r\n// };\r\n\r\n//   const handleExportSelectedCsv = () => {\r\n//     if (!selectedItems.length) return alert(\"Select items to export\");\r\n\r\n//     const selectedData = items.filter((x) => selectedItems.includes(x._id));\r\n//     const header = [\r\n//       \"id\",\r\n//       \"name\",\r\n//       \"categoryName\",\r\n//       \"subcategoryName\",\r\n//       \"basePrice\",\r\n//       \"difference\",\r\n//       \"finalPrice\",\r\n//       \"status\",\r\n//       \"validTill\",\r\n//       \"description\",\r\n//       \"imageUrl\",\r\n//     ];\r\n\r\n//     const rows = selectedData.map((p) => [\r\n//       p._id,\r\n//       p.name || \"\",\r\n//       p.category?.name || \"\",\r\n//       p.subcategory?.name || \"\",\r\n//       p.basePrice ?? \"\",\r\n//       p.difference ?? \"\",\r\n//       (Number(p.basePrice) + Number(p.difference || 0)) || \"\",\r\n//       p.status || \"\",\r\n//       p.validTill ? new Date(p.validTill).toISOString().split(\"T\")[0] : \"\",\r\n//       p.description || \"\",\r\n//       p.image || \"\",\r\n//     ]);\r\n\r\n//     const csvArray = [header, ...rows];\r\n//     const csvContent =\r\n//       \"data:text/csv;charset=utf-8,\" +\r\n//       csvArray.map((r) => r.map((c) => `\"${String(c).replace(/\"/g, '\"\"')}\"`).join(\",\")).join(\"\\n\");\r\n\r\n//     const encodedUri = encodeURI(csvContent);\r\n//     const link = document.createElement(\"a\");\r\n//     link.href = encodedUri;\r\n//     link.download = `selected_prices_${Date.now()}.csv`;\r\n//     link.click();\r\n//   };\r\n\r\n//   // const filteredItems = items.filter((item) => {\r\n//   //   const t = search.toLowerCase();\r\n//   //   return (\r\n//   //     (item.name || \"\").toString().toLowerCase().includes(t) ||\r\n//   //     (item.category?.name || \"\").toLowerCase().includes(t) ||\r\n//   //     (item.subcategory?.name || \"\").toLowerCase().includes(t)\r\n//   //   );\r\n//   // });\r\n//   const filteredItems = items.filter((item) => {\r\n//   const t = search.toLowerCase();\r\n\r\n//   const matchText =\r\n//     (item.name || \"\").toLowerCase().includes(t) ||\r\n//     (item.category?.name || \"\").toLowerCase().includes(t) ||\r\n//     (item.subcategory?.name || \"\").toLowerCase().includes(t);\r\n\r\n//   const matchCategory =\r\n//     !filterCategory || item.category?._id === filterCategory;\r\n\r\n//   const matchSub =\r\n//     !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n\r\n//   return matchText && matchCategory && matchSub;\r\n// });\r\n\r\n\r\n//   const indexOfLast = currentPage * itemsPerPage;\r\n//   const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n//   const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\r\n\r\n//   return (\r\n//     <div style={styles.container}>\r\n//       {/* HEADER */}\r\n//       <div style={styles.header}>\r\n//         <h1 style={styles.title}>Product Management</h1>\r\n//         {/* <p style={styles.subtitle}>Manage prices, categories, images, CSV & bulk actions.</p> */}\r\n//       </div>\r\n\r\n//       {/* SEARCH */}\r\n      \r\n//      <div className=\"mobile-topbar\">\r\n//   <input\r\n//     type=\"text\"\r\n//     placeholder=\"Search product, category or subcategory...\"\r\n//     value={search}\r\n//     onChange={(e) => {\r\n//       setSearch(e.target.value);\r\n//       setCurrentPage(1);\r\n//     }}\r\n//     style={styles.searchInput}\r\n//   />\r\n\r\n//   <button\r\n//     style={styles.addButton}\r\n//     onClick={() => {\r\n//       setShowForm(!showForm);\r\n//       setEditId(null);\r\n//       setIsCopyMode(false);\r\n//     }}\r\n//   >\r\n//     {showForm ? \"‚úñ\" : \"Add Product\"}\r\n//   </button>\r\n// </div>\r\n// <div className=\"filter-bar\">\r\n//   <select\r\n//     value={filterCategory}\r\n//     onChange={(e) => setFilterCategory(e.target.value)}\r\n//     className=\"filter-select\"\r\n//   >\r\n//     <option value=\"\">Filter by Category</option>\r\n//     {categories.map((c) => (\r\n//       <option key={c._id} value={c._id}>{c.name}</option>\r\n//     ))}\r\n//   </select>\r\n\r\n//   <select\r\n//     value={filterSubcategory}\r\n//     onChange={(e) => setFilterSubcategory(e.target.value)}\r\n//     className=\"filter-select\"\r\n//     disabled={!filterSubs.length}\r\n//   >\r\n//     <option value=\"\">Filter by Subcategory</option>\r\n//     {filterSubs.map((s) => (\r\n//       <option key={s._id} value={s._id}>{s.name}</option>\r\n//     ))}\r\n//   </select>\r\n\r\n  \r\n// </div>\r\n\r\n\r\n//       {/* BULK BAR */}\r\n//       {selectedItems.length > 0 && (\r\n//         // <div style={styles.bulkBar}>\r\n//         <div className=\"bulk-bar\">\r\n\r\n//           {/* <span style={styles.bulkText}>{selectedItems.length} selected</span> */}\r\n\r\n//           {!bulkMode ? (\r\n//             // <div style={{ display: \"flex\", gap: 10, flexWrap: \"wrap\" }}>\r\n//             <div className=\"bulk-actions\">\r\n\r\n//               <button style={styles.btnDelete} onClick={handleBulkDelete}>\r\n//                 üóë Bulk Delete\r\n//               </button>\r\n\r\n//               <button style={styles.btnPrimary} onClick={() => setBulkMode(true)}>\r\n//                 ‚úè Bulk Edit\r\n//               </button>\r\n\r\n//               {/* <button style={styles.btnSmall} onClick={handleExportSelectedCsv}>\r\n//                 ‚§ì Export Selected\r\n//               </button> */}\r\n//             </div>\r\n//           ) : (\r\n//             <div style={styles.bulkPanel}>\r\n//               <h3 style={styles.bulkPanelTitle}>‚úè Bulk Edit Selected Items</h3>\r\n\r\n//               {items\r\n//                 .filter((item) => selectedItems.includes(item._id))\r\n//                 .map((item) => (\r\n//                   <div key={item._id} style={styles.bulkItemBox}>\r\n//                     <h4 style={styles.bulkItemTitle}>{item.name}</h4>\r\n\r\n//                     <div style={styles.formGrid}>\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Name</label>\r\n//                         <input\r\n//                           type=\"text\"\r\n//                           value={item.name}\r\n//                           onChange={(e) => updateLocalItemField(item._id, \"name\", e.target.value)}\r\n//                           style={styles.input}\r\n//                         />\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Base Price</label>\r\n//                         <input\r\n//                           type=\"number\"\r\n//                           value={item.basePrice}\r\n//                           onChange={(e) =>\r\n//                             updateLocalItemField(item._id, \"basePrice\", Number(e.target.value))\r\n//                           }\r\n//                           style={styles.input}\r\n//                         />\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Category</label>\r\n//                         <select\r\n//                           value={item.category?._id || \"\"}\r\n//                           onChange={(e) => {\r\n//                             const newCat = e.target.value;\r\n//                             updateLocalItemField(item._id, \"category\", { _id: newCat });\r\n//                             const catObj = categories.find((c) => c._id === newCat);\r\n//                             const firstSub = catObj?.subcategories?.[0]?._id || \"\";\r\n//                             updateLocalItemField(item._id, \"subcategory\", { _id: firstSub });\r\n//                           }}\r\n//                           style={styles.select}\r\n//                         >\r\n//                           <option value=\"\">Select Category</option>\r\n//                           {categories.map((c) => (\r\n//                             <option key={c._id} value={c._id}>\r\n//                               {c.name}\r\n//                             </option>\r\n//                           ))}\r\n//                         </select>\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Subcategory</label>\r\n//                         <select\r\n//                           value={item.subcategory?._id || \"\"}\r\n//                           onChange={(e) =>\r\n//                             updateLocalItemField(item._id, \"subcategory\", { _id: e.target.value })\r\n//                           }\r\n//                           style={styles.select}\r\n//                         >\r\n//                           <option value=\"\">Select Subcategory</option>\r\n//                           {categories\r\n//                             .find((c) => c._id === item.category?._id)\r\n//                             ?.subcategories?.map((s) => (\r\n//                               <option key={s._id} value={s._id}>\r\n//                                 {s.name}\r\n//                               </option>\r\n//                             ))}\r\n//                         </select>\r\n//                       </div>\r\n\r\n//                       <div style={styles.formGroup}>\r\n//                         <label style={styles.label}>Difference</label>\r\n//                         <input\r\n//                           type=\"number\"\r\n//                           value={item.difference || 0}\r\n//                           onChange={(e) =>\r\n//                             updateLocalItemField(item._id, \"difference\", Number(e.target.value))\r\n//                           }\r\n//                           style={styles.input}\r\n//                         />\r\n//                       </div>\r\n//                     </div>\r\n//                   </div>\r\n//                 ))}\r\n\r\n//               <div style={{ display: \"flex\", gap: 0, marginTop: 12 }}>\r\n//                 <button style={styles.btnPrimary} onClick={handleBulkSave}>\r\n//                   ‚úî Save All\r\n//                 </button>\r\n//                 <button style={styles.btnCancel} onClick={() => setBulkMode(false)}>\r\n//                   ‚úñ Cancel\r\n//                 </button>\r\n//               </div>\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* FORM */}\r\n//       {showForm && (\r\n//         <div style={styles.formCard}>\r\n//           <h2 style={styles.formTitle}>‚ûï Add \r\n            \r\n//           </h2>\r\n\r\n//           <form onSubmit={handleSubmit}>\r\n//             <div style={styles.formGrid}>\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Product Name *</label>\r\n//                 <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Category *</label>\r\n//                 <div style={styles.categoryRow}>\r\n//                   <select\r\n//                     required\r\n//                     name=\"category\"\r\n//                     value={form.category}\r\n//                     onChange={(e) => {\r\n//                       handleChange(e);\r\n//                       setForm((p) => ({ ...p, subcategory: \"\" }));\r\n//                     }}\r\n//                     style={styles.select}\r\n//                   >\r\n//                     <option value=\"\">Select Category</option>\r\n//                     {categories.map((c) => (\r\n//                       <option value={c._id} key={c._id}>\r\n//                         {c.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n\r\n//                   <button type=\"button\" style={styles.btnSmall} onClick={() => setAddingCategory((v) => !v)}>\r\n//                     {addingCategory ? \"Close\" : \"Add\"}\r\n//                   </button>\r\n//                 </div>\r\n//               </div>\r\n\r\n//               {addingCategory && (\r\n//                 <div style={styles.addCategoryBox}>\r\n//                   <label style={styles.label}>Add New Category</label>\r\n//                   <div style={styles.categoryRow}>\r\n//                     <input\r\n//                       value={newCategoryName}\r\n//                       onChange={(e) => setNewCategoryName(e.target.value)}\r\n//                       placeholder=\"Category name\"\r\n//                       style={styles.input}\r\n//                     />\r\n//                     <input\r\n//                       type=\"file\"\r\n//                       accept=\"image/*\"\r\n//                       onChange={(e) => {\r\n//                         setNewCategoryImage(e.target.files[0]);\r\n//                         setNewCategoryPreview(e.target.files[0] ? URL.createObjectURL(e.target.files[0]) : null);\r\n//                       }}\r\n//                       style={styles.fileInput}\r\n//                     />\r\n//                     <button style={styles.btnPrimary} type=\"button\" onClick={handleCreateCategory}>\r\n//                       Create\r\n//                     </button>\r\n//                   </div>\r\n//                   {newCategoryPreview && <img src={newCategoryPreview} style={styles.preview} alt=\"preview\" />}\r\n//                 </div>\r\n//               )}\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Subcategory</label>\r\n//                 <div style={styles.categoryRow}>\r\n//                   <select name=\"subcategory\" value={form.subcategory} onChange={handleChange} disabled={!subcategories.length} style={styles.select}>\r\n//                     <option value=\"\">Select Subcategory</option>\r\n//                     {subcategories.map((s) => (\r\n//                       <option value={s._id} key={s._id}>\r\n//                         {s.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n\r\n//                   {form.category && (\r\n//                     <button type=\"button\" style={styles.btnSmall} onClick={() => setAddingSub((v) => !v)}>\r\n//                       {addingSub ? \"Close\" : \"Add\"}\r\n//                     </button>\r\n//                   )}\r\n//                 </div>\r\n//               </div>\r\n\r\n//               {addingSub && (\r\n//                 <div style={styles.addCategoryBox}>\r\n//                   <label style={styles.label}>Add New Subcategory</label>\r\n//                   <div style={styles.categoryRow}>\r\n//                     <input value={newSubName} onChange={(e) => setNewSubName(e.target.value)} placeholder=\"Subcategory name\" style={styles.input} />\r\n//                     <input\r\n//                       type=\"file\"\r\n//                       accept=\"image/*\"\r\n//                       onChange={(e) => {\r\n//                         setNewSubImage(e.target.files[0]);\r\n//                         setNewSubPreview(e.target.files[0] ? URL.createObjectURL(e.target.files[0]) : null);\r\n//                       }}\r\n//                       style={styles.fileInput}\r\n//                     />\r\n//                     <button style={styles.btnPrimary} type=\"button\" onClick={handleCreateSub}>\r\n//                       Create\r\n//                     </button>\r\n//                   </div>\r\n//                   {newSubPreview && <img src={newSubPreview} style={styles.preview} alt=\"preview\" />}\r\n//                 </div>\r\n//               )}\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Base Price *</label>\r\n//                 <input type=\"number\" required name=\"basePrice\" value={form.basePrice} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Difference</label>\r\n//                 <input type=\"number\" name=\"difference\" value={form.difference} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Valid Till</label>\r\n//                 <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Image</label>\r\n//                 <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n//               </div>\r\n//             </div>\r\n\r\n//             <div style={styles.formGroup}>\r\n//               <label style={styles.label}>Description</label>\r\n//               <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n//             </div>\r\n\r\n//             <div style={styles.formActions}>\r\n//               <button style={styles.btnPrimary} disabled={loading}>\r\n//                 {loading ? \"Saving...\" : \"Add Product\"}\r\n//               </button>\r\n//             </div>\r\n//           </form>\r\n//         </div>\r\n//       )}\r\n\r\n//       {/* CSV CONTROLS */}\r\n//       {/* <div style={styles.csvControls}>\r\n//         <div>\r\n//           <input type=\"file\" accept=\".csv\" ref={csvInputRef} onChange={handleCsvSelect} style={styles.fileInput} />\r\n//           <button style={styles.btnSmall} onClick={handleImportCsv}>\r\n//             Import CSV\r\n//           </button>\r\n//         </div>\r\n\r\n//         <div style={{ display: \"flex\", gap: 8 }}>\r\n//           <button style={styles.btnPrimary} onClick={handleExportCsv}>\r\n//             Export All CSV\r\n//           </button>\r\n\r\n//           <button style={styles.btnSmall} onClick={handleExportSelectedCsv}>\r\n//             Export Selected CSV\r\n//           </button>\r\n//         </div>\r\n//       </div> */}\r\n// <div className=\"csv-topbar\">\r\n//   <div className=\"csv-row\">\r\n//     <input\r\n//       type=\"file\"\r\n//       accept=\".csv\"\r\n//       ref={csvInputRef}\r\n//       onChange={handleCsvSelect}\r\n//       style={styles.fileInput}\r\n//     />\r\n\r\n//     <button style={styles.btnSmall} onClick={handleImportCsv}>\r\n//       Import\r\n//     </button>\r\n\r\n//     <button style={styles.btnPrimary} onClick={handleExportCsv}>\r\n//       Export All\r\n//     </button>\r\n\r\n//     <button style={styles.btnSmall} onClick={handleExportSelectedCsv}>\r\n//        Selected \r\n//     </button>\r\n//   </div>\r\n// </div>\r\n\r\n//       {/* TABLE */}\r\n//       <div style={styles.tableCard}>\r\n//         <div style={styles.tableHeader}>\r\n//           <h2 style={styles.tableTitle}> Items</h2>\r\n//           <span style={styles.totalCount}>Total: {filteredItems.length}</span>\r\n//         </div>\r\n\r\n//         <div style={styles.tableWrapper}>\r\n//           <table style={styles.table}>\r\n//             <thead>\r\n//               <tr>\r\n//                 <th style={styles.th}>\r\n//                   <input\r\n//                     type=\"checkbox\"\r\n//                     checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\r\n//                     onChange={() => {\r\n//                       if (selectedItems.length === filteredItems.length) setSelectedItems([]);\r\n//                       else setSelectedItems(filteredItems.map((x) => x._id));\r\n//                     }}\r\n//                   />\r\n//                 </th>\r\n//                 <th style={styles.th}>Sr</th>\r\n//                 <th style={styles.th}>Image</th>\r\n//                 <th style={styles.th}>Name</th>\r\n//                 <th style={styles.th}>Category</th>\r\n//                 <th style={styles.th}>Subcategory</th>\r\n//                 <th style={styles.th}>Base</th>\r\n//                 <th style={styles.th}>Diff</th>\r\n//                 <th style={styles.th}>Final</th>\r\n//                 <th style={styles.th}>Status</th>\r\n//                 <th style={styles.th}>Valid Till</th>\r\n//                 <th style={styles.th}>Actions</th>\r\n//               </tr>\r\n//             </thead>\r\n\r\n//             <tbody>\r\n//               {currentItems.map((item, i) => (\r\n//                 <tr key={item._id} style={styles.tr}>\r\n//                   <td style={styles.td}>\r\n//                     <input\r\n//                       type=\"checkbox\"\r\n//                       checked={selectedItems.includes(item._id)}\r\n//                       onChange={() =>\r\n//                         setSelectedItems((prev) => (prev.includes(item._id) ? prev.filter((x) => x !== item._id) : [...prev, item._id]))\r\n//                       }\r\n//                     />\r\n//                   </td>\r\n\r\n//                   <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n\r\n//                   <td style={styles.td}>{item.image ? <img src={item.image} style={styles.tableImg} alt=\"\" /> : \"No Img\"}</td>\r\n\r\n//                   <td style={styles.td}>{item.name}</td>\r\n//                   <td style={styles.td}>{item.category?.name || \"-\"}</td>\r\n//                   <td style={styles.td}>{item.subcategory?.name || \"-\"}</td>\r\n\r\n//                   <td style={styles.td}>‚Çπ{item.basePrice}</td>\r\n//                   <td style={styles.td}>{item.difference || 0}</td>\r\n//                   <td style={styles.td}>‚Çπ{Number(item.basePrice) + Number(item.difference || 0)}</td>\r\n                  \r\n\r\n                  \r\n\r\n//                   <td style={styles.td}>\r\n//                     <button\r\n//                       style={item.status === \"active\" ? styles.statusActive : styles.statusInactive}\r\n//                       onClick={() => handleStatusToggle(item)}\r\n//                     >\r\n//                       {item.status === \"active\" ? \"Active\" : \"Inactive\"}\r\n//                     </button>\r\n//                   </td>\r\n\r\n//                   <td style={styles.td}>{item.validTill ? new Date(item.validTill).toLocaleDateString() : \"-\"}</td>\r\n\r\n//                   <td style={styles.td}>\r\n//                     <div style={{ position: \"relative\" }}>\r\n//                       <button\r\n//                         style={styles.menuButton}\r\n//                         onClick={() => setActiveMenu(activeMenu === item._id ? null : item._id)}\r\n//                       >\r\n//                         ‚ãÆ\r\n//                       </button>\r\n\r\n//                       {activeMenu === item._id && (\r\n//                         <div style={styles.dropdown}>\r\n//                           <button style={styles.dropdownItem} onClick={() => handleEdit(item)}>\r\n//                             ‚úè Edit\r\n//                           </button>\r\n//                           <button style={styles.dropdownItem} onClick={() => handleCopyToEdit(item)}>\r\n//                             üìÑ Copy\r\n//                           </button>\r\n//                           <button style={styles.dropdownItemDelete} onClick={() => handleDelete(item._id)}>\r\n//                             üóë Delete\r\n//                           </button>\r\n//                         </div>\r\n//                       )}\r\n//                     </div>\r\n//                   </td>\r\n//                 </tr>\r\n//               ))}\r\n//             </tbody>\r\n//           </table>\r\n//         </div>\r\n\r\n//         {/* PAGINATION */}\r\n//         <div style={styles.pagination}>\r\n//           <button style={styles.paginationBtn} disabled={currentPage === 1} onClick={() => setCurrentPage((p) => p - 1)}>\r\n//             Previous\r\n//           </button>\r\n\r\n//           {Array.from({ length: totalPages }, (_, i) => (\r\n//             <button\r\n//               key={i}\r\n//               style={i + 1 === currentPage ? styles.paginationBtnActive : styles.paginationBtn}\r\n//               onClick={() => setCurrentPage(i + 1)}\r\n//             >\r\n//               {i + 1}\r\n//             </button>\r\n//           ))}\r\n\r\n//           <button style={styles.paginationBtn} disabled={currentPage === totalPages} onClick={() => setCurrentPage((p) => p + 1)}>\r\n//             Next\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n\r\n//       {/* MODAL FOR EDIT/COPY */}\r\n//       {showModal && (\r\n//         <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\r\n//           <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n//             <h2 style={styles.modalTitle}>{isCopyMode ? \" Copy Product\" : \" Edit Product\"}</h2>\r\n\r\n//             <form onSubmit={handleSubmit}>\r\n//               <div style={styles.formGrid}>\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Product Name *</label>\r\n//                   <input required name=\"name\" value={form.name} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Category *</label>\r\n//                   <select\r\n//                     required\r\n//                     name=\"category\"\r\n//                     value={form.category}\r\n//                     onChange={(e) => {\r\n//                       handleChange(e);\r\n//                       setForm((p) => ({ ...p, subcategory: \"\" }));\r\n//                     }}\r\n//                     style={styles.select}\r\n//                   >\r\n//                     <option value=\"\">Select Category</option>\r\n//                     {categories.map((c) => (\r\n//                       <option value={c._id} key={c._id}>\r\n//                         {c.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Subcategory</label>\r\n//                   <select name=\"subcategory\" value={form.subcategory} onChange={handleChange} disabled={!subcategories.length} style={styles.select}>\r\n//                     <option value=\"\">Select Subcategory</option>\r\n//                     {subcategories.map((s) => (\r\n//                       <option value={s._id} key={s._id}>\r\n//                         {s.name}\r\n//                       </option>\r\n//                     ))}\r\n//                   </select>\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Base Price *</label>\r\n//                   <input type=\"number\" required name=\"basePrice\" value={form.basePrice} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Difference</label>\r\n//                   <input type=\"number\" name=\"difference\" value={form.difference} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Valid Till</label>\r\n//                   <input type=\"date\" name=\"validTill\" value={form.validTill} onChange={handleChange} style={styles.input} />\r\n//                 </div>\r\n\r\n//                 <div style={styles.formGroup}>\r\n//                   <label style={styles.label}>Image</label>\r\n//                   <input type=\"file\" accept=\"image/*\" onChange={handleChange} style={styles.fileInput} />\r\n//                 </div>\r\n//               </div>\r\n\r\n//               <div style={styles.formGroup}>\r\n//                 <label style={styles.label}>Description</label>\r\n//                 <textarea name=\"description\" value={form.description} onChange={handleChange} style={styles.textarea}></textarea>\r\n//               </div>\r\n\r\n//               <div style={styles.formActions}>\r\n//                 <button style={styles.btnPrimary} disabled={loading}>\r\n//                   {loading ? \"Saving...\" : isCopyMode ? \"Save Copy\" : \"Update\"}\r\n//                 </button>\r\n\r\n//                 <button\r\n//                   type=\"button\"\r\n//                   style={styles.btnCancel}\r\n//                   onClick={() => {\r\n//                     setShowModal(false);\r\n//                     setEditId(null);\r\n//                     setIsCopyMode(false);\r\n//                     setForm({\r\n//                       name: \"\",\r\n//                       category: \"\",\r\n//                       subcategory: \"\",\r\n//                       description: \"\",\r\n//                       basePrice: \"\",\r\n//                       difference: \"\",\r\n//                       validTill: \"\",\r\n//                       file: null,\r\n//                     });\r\n//                   }}\r\n//                 >\r\n//                   Cancel\r\n//                 </button>\r\n//               </div>\r\n//             </form>\r\n//           </div>\r\n//         </div>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// const styles = {\r\n//   container: {\r\n\r\n//   },\r\n//   header: {\r\n  \r\n//   },\r\n//   title: {\r\n//     fontSize: \"21px\",\r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//     marginBottom: \"6px\",\r\n//   },\r\n//   subtitle: {\r\n//    fontSize: \"16px\",\r\n//   },\r\n//   searchBar: {\r\n//     maxWidth: \"320px\",\r\n//     margin: \"0 auto 25px auto\",\r\n//   },\r\n//   searchInput: {\r\n//     width: \"100%\",\r\n//     padding: \"12px 15px\",\r\n//     borderRadius: \"12px\",\r\n//     border: \"1px solid #ced4da\",\r\n//     background: \"#f9fbfc\",\r\n//     fontSize: \"15px\",\r\n//     outline: \"none\",\r\n//     boxShadow: \"0 2px 6px rgba(0, 0, 0, 0.06)\",\r\n//   },\r\n//   addButtonWrapper: {\r\n//     textAlign: \"left\",\r\n//     marginBottom: \"25px\",\r\n//   },\r\n//   addButton: {\r\n//     background: \"#007bff\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"12px\",\r\n//     padding: \"12px 24px\",\r\n//     fontSize: \"16px\",\r\n//     fontWeight: \"600\",\r\n//     cursor: \"pointer\",\r\n//     transition: \"0.25s ease\",\r\n//   },\r\n//   bulkBar: {\r\n//     background: \"#e9f2ff\",\r\n//     border: \"1px solid #c4d9ff\",\r\n//     borderRadius: \"14px\",\r\n//     padding: \"15px 18px\",\r\n//     marginBottom: \"25px\",\r\n//     display: \"flex\",\r\n//     justifyContent: \"space-between\",\r\n//     alignItems: \"center\",\r\n//     flexWrap: \"wrap\",\r\n//     gap: \"14px\",\r\n//     boxShadow: \"0 3px 10px rgba(0, 80, 160, 0.1)\",\r\n//   },\r\n//   bulkText: {\r\n//     fontSize: \"15px\",\r\n//     fontWeight: \"600\",\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   bulkPanel: {\r\n//     width: \"100%\",\r\n//     background: \"#f7faff\",\r\n//     border: \"1px solid #cfe2ff\",\r\n//     padding: \"20px\",\r\n//     borderRadius: \"14px\",\r\n//     marginTop: \"10px\",\r\n//     boxShadow: \"0 4px 14px rgba(0, 60, 120, 0.08)\",\r\n//   },\r\n//   bulkPanelTitle: {\r\n//     textAlign: \"center\",\r\n//     fontSize: \"18px\",\r\n//     fontWeight: \"700\",\r\n//     marginBottom: \"15px\",\r\n//   },\r\n//   bulkItemBox: {\r\n//     background: \"#ffffff\",\r\n//     border: \"1px solid #dbe5f5\",\r\n//     padding: \"18px\",\r\n//     borderRadius: \"12px\",\r\n//     marginBottom: \"16px\",\r\n//     boxShadow: \"0 2px 10px rgba(0, 0, 50, 0.05)\",\r\n//   },\r\n//   bulkItemTitle: {\r\n//     fontSize: \"16px\",\r\n//     fontWeight: \"600\",\r\n//     marginBottom: \"12px\",\r\n//     color: \"#0d3b66\",\r\n//     borderLeft: \"4px solid #007bff\",\r\n//     paddingLeft: \"10px\",\r\n//   },\r\n//   formCard: {\r\n//     borderRadius: \"16px\",\r\n//     padding: \"25px\",\r\n//     marginBottom: \"28px\",\r\n//     background: \"#ffffff\",\r\n//     boxShadow: \"0 4px 16px rgba(0, 0, 0, 0.08)\",\r\n//     border: \"1px solid #eef2f7\",\r\n//   },\r\n//   formTitle: {\r\n//     fontSize: \"21px\",\r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//     marginBottom: \"15px\",\r\n//   },\r\n//   formGrid: {\r\n//     display: \"grid\",\r\n//     gridTemplateColumns: \"repeat(auto-fit, minmax(230px, 1fr))\",\r\n//     gap: \"18px\",\r\n//   },\r\n//   formGroup: {\r\n//     display: \"flex\",\r\n//     flexDirection: \"column\",\r\n//     gap: \"6px\",\r\n//   },\r\n//   label: {\r\n//     fontWeight: \"600\",\r\n//     fontSize: \"14px\",\r\n//     color: \"#233142\",\r\n//   },\r\n//   input: {\r\n//     padding: \"10px\",\r\n//     borderRadius: \"10px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     transition: \"0.2s ease\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   select: {\r\n//     padding: \"10px\",\r\n//     borderRadius: \"10px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     transition: \"0.2s ease\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   textarea: {\r\n//     padding: \"10px\",\r\n//     borderRadius: \"10px\",\r\n//     border: \"1px solid #cfd6e0\",\r\n//     background: \"#f8fafc\",\r\n//     transition: \"0.2s ease\",\r\n//     resize: \"none\",\r\n//     minHeight: \"80px\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   fileInput: {\r\n//     padding: \"8px\",\r\n//     fontSize: \"13px\",\r\n//   },\r\n//   categoryRow: {\r\n//     display: \"flex\",\r\n//     gap: \"10px\",\r\n//     alignItems: \"center\",\r\n//   },\r\n//   addCategoryBox: {\r\n//     gridColumn: \"1 / -1\",\r\n//     background: \"#f1f7ff\",\r\n//     border: \"1px solid #cfe1ff\",\r\n//     padding: \"16px\",\r\n//     borderRadius: \"12px\",\r\n//   },\r\n//   preview: {\r\n//     width: \"110px\",\r\n//     height: \"110px\",\r\n//     borderRadius: \"12px\",\r\n//     marginTop: \"10px\",\r\n//     objectFit: \"cover\",\r\n//     border: \"1px solid #b7c9e2\",\r\n//   },\r\n//   formActions: {\r\n//     marginTop: \"15px\",\r\n//     display: \"flex\",\r\n//     gap: \"12px\",\r\n//     flexWrap: \"wrap\",\r\n//   },\r\n//   btnPrimary: {\r\n//     background: \"#007bff\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"9px 16px\",\r\n\r\n//     cursor: \"pointer\",\r\n//     transition: \"0.25s ease\",\r\n//   },\r\n//   btnSmall: {\r\n//     background: \"#43a047\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"9px 16px\",\r\n//     fontWeight: \"600\",\r\n//     cursor: \"pointer\",\r\n//     transition: \"0.25s ease\",\r\n//   },\r\n//   btnDelete: {\r\n//     background: \"#e63946\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"9px 16px\",\r\n//     fontWeight: \"600\",\r\n//     cursor: \"pointer\",\r\n//     transition: \"0.25s ease\",\r\n//   },\r\n//   btnCancel: {\r\n//     background: \"#adb5bd\",\r\n//     color: \"#fff\",\r\n//     border: \"none\",\r\n//     borderRadius: \"10px\",\r\n//     padding: \"9px 16px\",\r\n//     fontWeight: \"600\",\r\n//     cursor: \"pointer\",\r\n//     transition: \"0.25s ease\",\r\n//   },\r\n//   csvControls: {\r\n//     borderRadius: \"12px\",\r\n//     padding: \"16px\",\r\n//     background: \"#f7faff\",\r\n//     border: \"1px solid #d8e6ff\",\r\n//     display: \"flex\",\r\n//     alignItems: \"center\",\r\n//     justifyContent: \"space-between\",\r\n//     marginBottom: \"28px\",\r\n//     flexWrap: \"wrap\",\r\n//     gap: \"12px\",\r\n//   },\r\n//   tableCard: {\r\n\r\n\r\n\r\n\r\n//   },\r\n//   tableHeader: {\r\n//     display: \"flex\",\r\n//     justifyContent: \"space-between\",\r\n//     marginBottom: \"15px\",\r\n//   },\r\n//   tableTitle: {\r\n//     fontSize: \"21px\",\r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//   },\r\n//   totalCount: {\r\n//     fontSize: \"15px\",\r\n//     color: \"#6c757d\",\r\n//     fontWeight: \"600\",\r\n//   },\r\n//   tableWrapper: {\r\n//     overflowX: \"auto\",\r\n//   },\r\n//   table: {\r\n//     width: \"100%\",\r\n//     borderCollapse: \"collapse\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   th: {\r\n//     background: \"#e9f2ff\",\r\n//     padding: \"12px\",\r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//     textAlign: \"left\",\r\n//     whiteSpace: \"nowrap\",\r\n//   },\r\n//   tr: {\r\n//     borderBottom: \"1px solid #edf2f7\",\r\n//   },\r\n//   td: {\r\n//     padding: \"12px 10px\",\r\n//     whiteSpace: \"nowrap\",\r\n//   },\r\n//   tableImg: {\r\n//     width: \"55px\",\r\n//     height: \"55px\",\r\n//     borderRadius: \"8px\",\r\n//     objectFit: \"cover\",\r\n//     border: \"1px solid #cfd9e5\",\r\n//   },\r\n//   statusActive: {\r\n//     background: \"#93d8ba\",\r\n//     padding: \"7px 12px\",\r\n//     borderRadius: \"8px\",\r\n//     color: \"black\",\r\n//     fontWeight: \"600\",\r\n//     border: \"none\",\r\n//     cursor: \"pointer\",\r\n//   },\r\n//   statusInactive: {\r\n//     background: \"#d9b1b1\",\r\n//     padding: \"7px 12px\",\r\n//     borderRadius: \"8px\",\r\n//     color: \"black\",\r\n//     fontWeight: \"600\",\r\n//     border: \"none\",\r\n//     cursor: \"pointer\",\r\n//   },\r\n//   menuButton: {\r\n//     background: \"#f0f0f0\",\r\n//     border: \"none\",\r\n//     borderRadius: \"6px\",\r\n//     padding: \"6px 12px\",\r\n//     fontSize: \"20px\",\r\n//     fontWeight: \"bold\",\r\n//     cursor: \"pointer\",\r\n//     transition: \"0.2s ease\",\r\n//   },\r\n//   dropdown: {\r\n//     position: \"absolute\",\r\n//     right: \"0\",\r\n//     top: \"35px\",\r\n//     background: \"#fff\",\r\n//     border: \"1px solid #ddd\",\r\n//     borderRadius: \"8px\",\r\n//     boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\r\n//     zIndex: \"100\",\r\n//     minWidth: \"140px\",\r\n//   },\r\n//   dropdownItem: {\r\n//     display: \"block\",\r\n//     width: \"100%\",\r\n//     padding: \"10px 15px\",\r\n//     background: \"transparent\",\r\n//     border: \"none\",\r\n//     textAlign: \"left\",\r\n//     cursor: \"pointer\",\r\n//     fontSize: \"14px\",\r\n//     fontWeight: \"500\",\r\n//     transition: \"0.2s ease\",\r\n//     borderBottom: \"1px solid #f0f0f0\",\r\n//   },\r\n//   dropdownItemDelete: {\r\n//     display: \"block\",\r\n//     width: \"100%\",\r\n//     padding: \"10px 15px\",\r\n//     background: \"transparent\",\r\n//     border: \"none\",\r\n//     textAlign: \"left\",\r\n//     cursor: \"pointer\",\r\n//     fontSize: \"14px\",\r\n//     fontWeight: \"500\",\r\n//     color: \"#e63946\",\r\n//     transition: \"0.2s ease\",\r\n//   },\r\n//   pagination: {\r\n//     marginTop: \"18px\",\r\n//     display: \"flex\",\r\n//     justifyContent: \"center\",\r\n//     gap: \"10px\",\r\n//     flexWrap: \"wrap\",\r\n//   },\r\n//   paginationBtn: {\r\n//     padding: \"9px 13px\",\r\n//     borderRadius: \"8px\",\r\n//     background: \"#fff\",\r\n//     border: \"1px solid #ddd\",\r\n//     cursor: \"pointer\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   paginationBtnActive: {\r\n//     padding: \"9px 13px\",\r\n//     borderRadius: \"8px\",\r\n//     background: \"#007bff\",\r\n//     color: \"white\",\r\n//     border: \"1px solid #0062cc\",\r\n//     cursor: \"pointer\",\r\n//     fontSize: \"14px\",\r\n//   },\r\n//   modalOverlay: {\r\n//     position: \"fixed\",\r\n//     top: 0,\r\n//     left: 0,\r\n//     right: 0,\r\n//     bottom: 0,\r\n//     background: \"rgba(0, 0, 0, 0.5)\",\r\n//     display: \"flex\",\r\n//     justifyContent: \"center\",\r\n//     alignItems: \"center\",\r\n//     zIndex: \"1000\",\r\n//     padding: \"20px\",\r\n//   },\r\n//   modal: {\r\n//     background: \"#fff\",\r\n//     borderRadius: \"16px\",\r\n//     padding: \"30px\",\r\n//     maxWidth: \"700px\",\r\n//     width: \"100%\",\r\n//     maxHeight: \"90vh\",\r\n//     overflowY: \"auto\",\r\n//     boxShadow: \"0 10px 40px rgba(0, 0, 0, 0.3)\",\r\n//   },\r\n//   modalTitle: {\r\n//     fontSize: \"22px\",\r\n//     fontWeight: \"700\",\r\n//     color: \"#0d3b66\",\r\n//     marginBottom: \"20px\",\r\n//     textAlign: \"center\",\r\n//   },\r\n  \r\n  \r\n// }\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = \"https://grocerrybackend.vercel.app/api/prices\";\r\nconst CATEGORY_URL = \"https://grocerrybackend.vercel.app/api/categories\";\r\n\r\nexport default function PriceList() {\r\n  const [items, setItems] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [subcategories, setSubcategories] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    category: \"\",\r\n    subcategory: \"\",\r\n    description: \"\",\r\n    basePrice: \"\",\r\n    difference: \"\",\r\n    validTill: \"\",\r\n    file: null,\r\n  });\r\n\r\n  const [editId, setEditId] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [activeMenu, setActiveMenu] = useState(null);\r\n  const [selectedItems, setSelectedItems] = useState([]);\r\n  const [diffUpdateMode, setDiffUpdateMode] = useState(false);\r\n  const [tempDiffs, setTempDiffs] = useState({});\r\n\r\n  const [filterCategory, setFilterCategory] = useState(\"\");\r\n  const [filterSubcategory, setFilterSubcategory] = useState(\"\");\r\n  const [filterSubs, setFilterSubs] = useState([]);\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 30;\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (categories.length > 0) {\r\n      fetchItems();\r\n    }\r\n  }, [categories]);\r\n\r\n  useEffect(() => {\r\n    if (!filterCategory) {\r\n      setFilterSubs([]);\r\n      setFilterSubcategory(\"\");\r\n      return;\r\n    }\r\n    const cat = categories.find(c => c._id === filterCategory);\r\n    setFilterSubs(cat?.subcategories || []);\r\n    setFilterSubcategory(\"\");\r\n  }, [filterCategory, categories]);\r\n\r\n  const fetchItems = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(API_URL);\r\n      if (res.data?.success) {\r\n        const raw = res.data.data;\r\n        const enriched = raw.map((item) => {\r\n          const cat = categories.find(c => c._id === item.category || c._id === item.category?._id);\r\n          const sub = cat?.subcategories?.find(s => s._id === item.subcategory || s._id === item.subcategory?._id);\r\n          return {\r\n            ...item,\r\n            category: cat ? { _id: cat._id, name: cat.name } : item.category,\r\n            subcategory: sub ? { _id: sub._id, name: sub.name } : item.subcategory,\r\n          };\r\n        });\r\n        setItems(enriched);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Fetch items error\", err);\r\n      alert(\"Could not fetch items\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const res = await axios.get(CATEGORY_URL);\r\n      if (res.data?.success) setCategories(res.data.categories || []);\r\n    } catch (err) {\r\n      console.error(\"Fetch categories error\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!form.category) {\r\n      setSubcategories([]);\r\n      setForm((prev) => ({ ...prev, subcategory: \"\" }));\r\n      return;\r\n    }\r\n    const cat = categories.find((c) => c._id === form.category);\r\n    const subs = cat?.subcategories || [];\r\n    setSubcategories(subs);\r\n    const exists = subs.some((s) => s._id === form.subcategory);\r\n    if (!exists) setForm((prev) => ({ ...prev, subcategory: \"\" }));\r\n  }, [form.category, categories]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n    if (files?.length) {\r\n      setForm((p) => ({ ...p, file: files[0] }));\r\n    } else {\r\n      setForm((p) => ({ ...p, [name]: value }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (!form.name || !form.category || !form.basePrice) {\r\n        alert(\"Name, category & base price are required\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const fd = new FormData();\r\n      Object.keys(form).forEach((k) => {\r\n        const val = form[k];\r\n        if (val !== undefined && val !== null) {\r\n          fd.append(k, val);\r\n        }\r\n      });\r\n\r\n      if (editId) {\r\n        await axios.put(`${API_URL}/${editId}`, fd);\r\n        alert(\"Updated successfully\");\r\n      } else {\r\n        await axios.post(API_URL, fd);\r\n        alert(\"Added successfully\");\r\n      }\r\n\r\n      await fetchItems();\r\n      setForm({\r\n        name: \"\",\r\n        category: \"\",\r\n        subcategory: \"\",\r\n        description: \"\",\r\n        basePrice: \"\",\r\n        difference: \"\",\r\n        validTill: \"\",\r\n        file: null,\r\n      });\r\n      setEditId(null);\r\n      setShowModal(false);\r\n    } catch (err) {\r\n      console.error(\"Save error\", err);\r\n      alert(\"Save failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (item) => {\r\n    setForm({\r\n      name: item.name || \"\",\r\n      category: item.category?._id?.toString() || \"\",\r\n      subcategory: item.subcategory?._id?.toString() || \"\",\r\n      description: item.description || \"\",\r\n      basePrice: item.basePrice ?? \"\",\r\n      difference: item.todayDiff ?? \"\",\r\n      validTill: item.validTill ? item.validTill.split(\"T\")[0] : \"\",\r\n      file: null,\r\n    });\r\n\r\n    const cat = categories.find((c) => c._id === item.category?._id);\r\n    setSubcategories(cat?.subcategories || []);\r\n\r\n    setEditId(item._id);\r\n    setShowModal(true);\r\n    setActiveMenu(null);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Delete this item?\")) return;\r\n    try {\r\n      await axios.delete(`${API_URL}/${id}`);\r\n      setItems((prev) => prev.filter((x) => x._id !== id));\r\n      setSelectedItems((prev) => prev.filter((x) => x !== id));\r\n      setActiveMenu(null);\r\n    } catch (err) {\r\n      console.error(\"Delete error\", err);\r\n      alert(\"Delete failed\");\r\n    }\r\n  };\r\n\r\n  const handleStatusToggle = async (item) => {\r\n    try {\r\n      const newStatus = item.status === \"active\" ? \"inactive\" : \"active\";\r\n      await axios.put(`${API_URL}/status/${item._id}`, { status: newStatus });\r\n      setItems((prev) => prev.map((x) => (x._id === item._id ? { ...x, status: newStatus } : x)));\r\n    } catch (err) {\r\n      console.error(\"Status toggle error\", err);\r\n      alert(\"Status update failed\");\r\n    }\r\n  };\r\n\r\n  // UPDATE DIFF LOGIC (Main business logic)\r\n  const handleUpdateDiff = async (itemId, newDiff) => {\r\n    try {\r\n      await axios.put(`${API_URL}/diff/${itemId}`, { diff: Number(newDiff) });\r\n      fetchItems();\r\n    } catch (err) {\r\n      console.error(\"Diff update error\", err);\r\n      alert(\"Diff update failed\");\r\n    }\r\n  };\r\n\r\n  const handleBulkUpdateDiffs = async () => {\r\n    if (!selectedItems.length) return alert(\"No items selected\");\r\n    try {\r\n      await Promise.all(\r\n        selectedItems.map((id) => {\r\n          const diff = tempDiffs[id] ?? 0;\r\n          return axios.put(`${API_URL}/diff/${id}`, { diff: Number(diff) });\r\n        })\r\n      );\r\n      alert(\"Bulk diff update successful\");\r\n      setDiffUpdateMode(false);\r\n      setSelectedItems([]);\r\n      setTempDiffs({});\r\n      fetchItems();\r\n    } catch (err) {\r\n      console.error(\"Bulk diff update error\", err);\r\n      alert(\"Bulk diff update failed\");\r\n    }\r\n  };\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (!selectedItems.length) return alert(\"No items selected\");\r\n    if (!window.confirm(\"Delete selected items?\")) return;\r\n    try {\r\n      await Promise.all(selectedItems.map((id) => axios.delete(`${API_URL}/${id}`)));\r\n      setSelectedItems([]);\r\n      fetchItems();\r\n    } catch (err) {\r\n      console.error(\"Bulk delete error\", err);\r\n      alert(\"Bulk delete failed\");\r\n    }\r\n  };\r\n\r\n  const filteredItems = items.filter((item) => {\r\n    const t = search.toLowerCase();\r\n    const matchText =\r\n      (item.name || \"\").toLowerCase().includes(t) ||\r\n      (item.category?.name || \"\").toLowerCase().includes(t) ||\r\n      (item.subcategory?.name || \"\").toLowerCase().includes(t);\r\n    const matchCategory = !filterCategory || item.category?._id === filterCategory;\r\n    const matchSub = !filterSubcategory || item.subcategory?._id === filterSubcategory;\r\n    return matchText && matchCategory && matchSub;\r\n  });\r\n\r\n  const indexOfLast = currentPage * itemsPerPage;\r\n  const currentItems = filteredItems.slice(indexOfLast - itemsPerPage, indexOfLast);\r\n  const totalPages = Math.max(1, Math.ceil(filteredItems.length / itemsPerPage));\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <div style={styles.header}>\r\n        <h1 style={styles.title}>üìä Product Management</h1>\r\n      </div>\r\n\r\n      <div style={styles.topBar}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"üîç Search product, category or subcategory...\"\r\n          value={search}\r\n          onChange={(e) => {\r\n            setSearch(e.target.value);\r\n            setCurrentPage(1);\r\n          }}\r\n          style={styles.searchInput}\r\n        />\r\n        <button\r\n          style={styles.addButton}\r\n          onClick={() => {\r\n            setEditId(null);\r\n            setForm({\r\n              name: \"\",\r\n              category: \"\",\r\n              subcategory: \"\",\r\n              description: \"\",\r\n              basePrice: \"\",\r\n              difference: \"\",\r\n              validTill: \"\",\r\n              file: null,\r\n            });\r\n            setShowModal(true);\r\n          }}\r\n        >\r\n          ‚ûï Add Product\r\n        </button>\r\n      </div>\r\n\r\n      <div style={styles.filterBar}>\r\n        <select\r\n          value={filterCategory}\r\n          onChange={(e) => setFilterCategory(e.target.value)}\r\n          style={styles.filterSelect}\r\n        >\r\n          <option value=\"\">All Categories</option>\r\n          {categories.map((c) => (\r\n            <option key={c._id} value={c._id}>{c.name}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <select\r\n          value={filterSubcategory}\r\n          onChange={(e) => setFilterSubcategory(e.target.value)}\r\n          style={styles.filterSelect}\r\n          disabled={!filterSubs.length}\r\n        >\r\n          <option value=\"\">All Subcategories</option>\r\n          {filterSubs.map((s) => (\r\n            <option key={s._id} value={s._id}>{s.name}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {selectedItems.length > 0 && (\r\n        <div style={styles.bulkBar}>\r\n          <span style={styles.bulkText}> {selectedItems.length} selected</span>\r\n\r\n          {!diffUpdateMode ? (\r\n            <div style={styles.bulkActions}>\r\n              <button style={styles.btnDanger} onClick={handleBulkDelete}>\r\n                 Bulk Delete\r\n              </button>\r\n              <button style={styles.btnPrimary} onClick={() => setDiffUpdateMode(true)}>\r\n                 Update Diffs\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div style={styles.diffUpdatePanel}>\r\n              <h3 style={styles.panelTitle}>üìù Update Today's Difference</h3>\r\n              <p style={styles.panelDesc}>\r\n                New Final = Yesterday's Final + Today's Diff\r\n              </p>\r\n\r\n              {items\r\n                .filter((item) => selectedItems.includes(item._id))\r\n                .map((item) => (\r\n                  <div key={item._id} style={styles.diffUpdateRow}>\r\n                    <div style={styles.diffUpdateInfo}>\r\n                      <strong>{item.name}</strong>\r\n                      <span style={styles.diffUpdateMeta}>\r\n                        Yesterday: ‚Çπ{item.lastFinalPrice || item.basePrice} | \r\n                        Current Diff: {item.todayDiff || 0}\r\n                      </span>\r\n                    </div>\r\n                    <div style={styles.diffUpdateInputGroup}>\r\n                      <label style={styles.diffLabel}>New Diff:</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        value={tempDiffs[item._id] ?? item.todayDiff ?? 0}\r\n                        onChange={(e) =>\r\n                          setTempDiffs((prev) => ({\r\n                            ...prev,\r\n                            [item._id]: e.target.value,\r\n                          }))\r\n                        }\r\n                        style={styles.diffInput}\r\n                      />\r\n                      <span style={styles.diffResult}>\r\n                        = ‚Çπ{(item.lastFinalPrice || item.basePrice) + Number(tempDiffs[item._id] ?? item.todayDiff ?? 0)}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n\r\n              <div style={styles.diffUpdateActions}>\r\n                <button style={styles.btnSuccess} onClick={handleBulkUpdateDiffs}>\r\n                  ‚úÖ Save All Diffs\r\n                </button>\r\n                <button\r\n                  style={styles.btnCancel}\r\n                  onClick={() => {\r\n                    setDiffUpdateMode(false);\r\n                    setTempDiffs({});\r\n                  }}\r\n                >\r\n                  ‚ùå Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div style={styles.tableCard}>\r\n        <div style={styles.tableHeader}>\r\n          <h2 style={styles.tableTitle}>üìã Products List</h2>\r\n          <span style={styles.totalCount}>Total: {filteredItems.length}</span>\r\n        </div>\r\n\r\n        <div style={styles.tableWrapper}>\r\n          <table style={styles.table}>\r\n            <thead>\r\n              <tr>\r\n                <th style={styles.th}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedItems.length === filteredItems.length && filteredItems.length > 0}\r\n                    onChange={() => {\r\n                      if (selectedItems.length === filteredItems.length) setSelectedItems([]);\r\n                      else setSelectedItems(filteredItems.map((x) => x._id));\r\n                    }}\r\n                  />\r\n                </th>\r\n                <th style={styles.th}>Sr</th>\r\n                <th style={styles.th}>Image</th>\r\n                <th style={styles.th}>Name</th>\r\n                <th style={styles.th}>Category</th>\r\n                <th style={styles.th}>Subcategory</th>\r\n                <th style={styles.th}>Base Price</th>\r\n                <th style={styles.th}>Yesterday's Final</th>\r\n                <th style={styles.th}>Today's Diff</th>\r\n                <th style={styles.th}>Current Final</th>\r\n                <th style={styles.th}>Status</th>\r\n                <th style={styles.th}>Valid Till</th>\r\n                <th style={styles.th}>Actions</th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {currentItems.map((item, i) => {\r\n                const yesterdayFinal = item.lastFinalPrice || item.basePrice || 0;\r\n                const todayDiff = item.todayDiff || 0;\r\n                const currentFinal = item.currentFinalPrice || yesterdayFinal;\r\n\r\n                return (\r\n                  <tr key={item._id} style={styles.tr}>\r\n                    <td style={styles.td}>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedItems.includes(item._id)}\r\n                        onChange={() =>\r\n                          setSelectedItems((prev) =>\r\n                            prev.includes(item._id)\r\n                              ? prev.filter((x) => x !== item._id)\r\n                              : [...prev, item._id]\r\n                          )\r\n                        }\r\n                      />\r\n                    </td>\r\n                    <td style={styles.td}>{(currentPage - 1) * itemsPerPage + (i + 1)}</td>\r\n                    <td style={styles.td}>\r\n                      {item.image ? (\r\n                        <img src={item.image} style={styles.tableImg} alt=\"\" />\r\n                      ) : (\r\n                        \"üñºÔ∏è\"\r\n                      )}\r\n                    </td>\r\n                    <td style={styles.td}>{item.name}</td>\r\n                    <td style={styles.td}>{item.category?.name || \"-\"}</td>\r\n                    <td style={styles.td}>{item.subcategory?.name || \"-\"}</td>\r\n                    <td style={styles.td}>‚Çπ{item.basePrice}</td>\r\n                    <td style={styles.td}>‚Çπ{yesterdayFinal}</td>\r\n                    <td style={styles.td}>\r\n                      <span style={todayDiff >= 0 ? styles.diffPositive : styles.diffNegative}>\r\n                        {todayDiff >= 0 ? \"+\" : \"\"}{todayDiff}\r\n                      </span>\r\n                    </td>\r\n                    <td style={styles.tdFinal}>‚Çπ{currentFinal}</td>\r\n                    <td style={styles.td}>\r\n                      <button\r\n                        style={\r\n                          item.status === \"active\"\r\n                            ? styles.statusActive\r\n                            : styles.statusInactive\r\n                        }\r\n                        onClick={() => handleStatusToggle(item)}\r\n                      >\r\n                        {item.status === \"active\" ? \"üü¢ Active\" : \"üî¥ Inactive\"}\r\n                      </button>\r\n                    </td>\r\n                    <td style={styles.td}>\r\n                      {item.validTill\r\n                        ? new Date(item.validTill).toLocaleDateString()\r\n                        : \"-\"}\r\n                    </td>\r\n                    <td style={styles.td}>\r\n                      <div style={{ position: \"relative\" }}>\r\n                        <button\r\n                          style={styles.menuButton}\r\n                          onClick={() =>\r\n                            setActiveMenu(activeMenu === item._id ? null : item._id)\r\n                          }\r\n                        >\r\n                          ‚ãÆ\r\n                        </button>\r\n\r\n                        {activeMenu === item._id && (\r\n                          <div style={styles.dropdown}>\r\n                            <button\r\n                              style={styles.dropdownItem}\r\n                              onClick={() => handleEdit(item)}\r\n                            >\r\n                              ‚úèÔ∏è Edit\r\n                            </button>\r\n                            <button\r\n                              style={styles.dropdownItemDelete}\r\n                              onClick={() => handleDelete(item._id)}\r\n                            >\r\n                              üóëÔ∏è Delete\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div style={styles.pagination}>\r\n          <button\r\n            style={styles.paginationBtn}\r\n            disabled={currentPage === 1}\r\n            onClick={() => setCurrentPage((p) => p - 1)}\r\n          >\r\n            ‚Üê Previous\r\n          </button>\r\n\r\n          {Array.from({ length: totalPages }, (_, i) => (\r\n            <button\r\n              key={i}\r\n              style={\r\n                i + 1 === currentPage\r\n                  ? styles.paginationBtnActive\r\n                  : styles.paginationBtn\r\n              }\r\n              onClick={() => setCurrentPage(i + 1)}\r\n            >\r\n              {i + 1}\r\n            </button>\r\n          ))}\r\n\r\n          <button\r\n            style={styles.paginationBtn}\r\n            disabled={currentPage === totalPages}\r\n            onClick={() => setCurrentPage((p) => p + 1)}\r\n          >\r\n            Next ‚Üí\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div style={styles.modalOverlay} onClick={() => setShowModal(false)}>\r\n          <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n            <h2 style={styles.modalTitle}>\r\n              {editId ? \"‚úèÔ∏è Edit Product\" : \"‚ûï Add Product\"}\r\n            </h2>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n              <div style={styles.formGrid}>\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Product Name *</label>\r\n                  <input\r\n                    required\r\n                    name=\"name\"\r\n                    value={form.name}\r\n                    onChange={handleChange}\r\n                    style={styles.input}\r\n                  />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Category *</label>\r\n                  <select\r\n                    required\r\n                    name=\"category\"\r\n                    value={form.category}\r\n                    onChange={(e) => {\r\n                      handleChange(e);\r\n                      setForm((p) => ({ ...p, subcategory: \"\" }));\r\n                    }}\r\n                    style={styles.select}\r\n                  >\r\n                    <option value=\"\">Select Category</option>\r\n                    {categories.map((c) => (\r\n                      <option value={c._id} key={c._id}>\r\n                        {c.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Subcategory</label>\r\n                  <select\r\n                    name=\"subcategory\"\r\n                    value={form.subcategory}\r\n                    onChange={handleChange}\r\n                    disabled={!subcategories.length}\r\n                    style={styles.select}\r\n                  >\r\n                    <option value=\"\">Select Subcategory</option>\r\n                    {subcategories.map((s) => (\r\n                      <option value={s._id} key={s._id}>\r\n                        {s.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Base Price *</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    required\r\n                    name=\"basePrice\"\r\n                    value={form.basePrice}\r\n                    onChange={handleChange}\r\n                    style={styles.input}\r\n                  />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Initial Difference</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    name=\"difference\"\r\n                    value={form.difference}\r\n                    onChange={handleChange}\r\n                    style={styles.input}\r\n                    placeholder=\"0\"\r\n                  />\r\n                  <small style={styles.helpText}>\r\n                    Final = Base + Difference\r\n                  </small>\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Valid Till</label>\r\n                  <input\r\n                    type=\"date\"\r\n                    name=\"validTill\"\r\n                    value={form.validTill}\r\n                    onChange={handleChange}\r\n                    style={styles.input}\r\n                  />\r\n                </div>\r\n\r\n                <div style={styles.formGroup}>\r\n                  <label style={styles.label}>Image</label>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleChange}\r\n                    style={styles.fileInput}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div style={styles.formGroup}>\r\n                <label style={styles.label}>Description</label>\r\n                <textarea\r\n                  name=\"description\"\r\n                  value={form.description}\r\n                  onChange={handleChange}\r\n                  style={styles.textarea}\r\n                ></textarea>\r\n              </div>\r\n\r\n              <div style={styles.formActions}>\r\n                <button style={styles.btnPrimary} disabled={loading}>\r\n                  {loading ? \"‚è≥ Saving...\" : editId ? \"üíæ Update\" : \"‚ûï Add\"}\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  style={styles.btnCancel}\r\n                  onClick={() => setShowModal(false)}\r\n                >\r\n                  ‚ùå Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    padding: \"20px\",\r\n    maxWidth: \"1400px\",\r\n    margin: \"0 auto\",\r\n    fontFamily: \"'Inter', sans-serif\",\r\n  },\r\n  header: {\r\n    marginBottom: \"25px\",\r\n  },\r\n  title: {\r\n    fontSize: \"28px\",\r\n    fontWeight: \"700\",\r\n    color: \"#1a202c\",\r\n    marginBottom: \"5px\",\r\n  },\r\n  topBar: {\r\n    display: \"flex\",\r\n    gap: \"15px\",\r\n    marginBottom: \"20px\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  searchInput: {\r\n    flex: \"1\",\r\n    minWidth: \"250px\",\r\n    padding: \"12px 16px\",\r\n    borderRadius: \"10px\",\r\n    border: \"1px solid #e2e8f0\",\r\n    fontSize: \"14px\",\r\n    outline: \"none\",\r\n  },\r\n  addButton: {\r\n    background: \"#3182ce\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"10px\",\r\n    padding: \"12px 24px\",\r\n    fontSize: \"14px\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n  },\r\n  filterBar: {\r\n    display: \"flex\",\r\n    gap: \"12px\",\r\n    marginBottom: \"20px\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  filterSelect: {\r\n    padding: \"10px 14px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #e2e8f0\",\r\n    fontSize: \"14px\",\r\n    minWidth: \"200px\",\r\n  },\r\n  bulkBar: {\r\n    background: \"#edf2f7\",\r\n    border: \"1px solid #cbd5e0\",\r\n    borderRadius: \"12px\",\r\n    padding: \"16px\",\r\n    marginBottom: \"20px\",\r\n  },\r\n  bulkText: {\r\n    fontSize: \"15px\",\r\n    fontWeight: \"600\",\r\n    color: \"#2d3748\",\r\n    display: \"block\",\r\n    marginBottom: \"12px\",\r\n  },\r\n  bulkActions: {\r\n    display: \"flex\",\r\n    gap: \"10px\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  diffUpdatePanel: {\r\n    background: \"#fff\",\r\n    padding: \"20px\",\r\n    borderRadius: \"10px\",\r\n    marginTop: \"12px\",\r\n  },\r\n  panelTitle: {\r\n    fontSize: \"18px\",\r\n    fontWeight: \"700\",\r\n    color: \"#2d3748\",\r\n    marginBottom: \"8px\",\r\n  },\r\n  panelDesc: {\r\n    fontSize: \"13px\",\r\n    color: \"#718096\",\r\n    marginBottom: \"16px\",\r\n  },\r\n  diffUpdateRow: {\r\n    background: \"#f7fafc\",\r\n    padding: \"14px\",\r\n    borderRadius: \"8px\",\r\n    marginBottom: \"12px\",\r\n    border: \"1px solid #e2e8f0\",\r\n  },\r\n  diffUpdateInfo: {\r\n    marginBottom: \"10px\",\r\n  },\r\n  diffUpdateMeta: {\r\n    fontSize: \"12px\",\r\n    color: \"#718096\",\r\n    display: \"block\",\r\n    marginTop: \"4px\",\r\n  },\r\n  diffUpdateInputGroup: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    gap: \"10px\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  diffLabel: {\r\n    fontSize: \"13px\",\r\n    fontWeight: \"600\",\r\n    color: \"#4a5568\",\r\n  },\r\n  diffInput: {\r\n    padding: \"8px 12px\",\r\n    borderRadius: \"6px\",\r\n    border: \"1px solid #cbd5e0\",\r\n    width: \"100px\",\r\n    fontSize: \"14px\",\r\n  },\r\n  diffResult: {\r\n    fontSize: \"14px\",\r\n    fontWeight: \"600\",\r\n    color: \"#2d3748\",\r\n  },\r\n  diffUpdateActions: {\r\n    display: \"flex\",\r\n    gap: \"10px\",\r\n    marginTop: \"16px\",\r\n  },\r\n  btnPrimary: {\r\n    background: \"#3182ce\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"10px 20px\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"14px\",\r\n  },\r\n  btnSuccess: {\r\n    background: \"#48bb78\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"10px 20px\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"14px\",\r\n  },\r\n  btnDanger: {\r\n    background: \"#f56565\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"10px 20px\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"14px\",\r\n  },\r\n  btnCancel: {\r\n    background: \"#a0aec0\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: \"8px\",\r\n    padding: \"10px 20px\",\r\n    fontWeight: \"600\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"14px\",\r\n  },\r\n  tableCard: {\r\n    background: \"#fff\",\r\n    borderRadius: \"12px\",\r\n    padding: \"20px\",\r\n    boxShadow: \"0 1px 3px rgba(0,0,0,0.1)\",\r\n  },\r\n  tableHeader: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginBottom: \"16px\",\r\n  },\r\n  tableTitle: {\r\n    fontSize: \"20px\",\r\n    fontWeight: \"700\",\r\n    color: \"#2d3748\",\r\n  },\r\n  totalCount: {\r\n    fontSize: \"14px\",\r\n    color: \"#718096\",\r\n    fontWeight: \"600\",\r\n  },\r\n  tableWrapper: {\r\n    overflowX: \"auto\",\r\n  },\r\n  table: {\r\n    width: \"100%\",\r\n    borderCollapse: \"collapse\",\r\n    fontSize: \"13px\",\r\n  },\r\n  th: {\r\n    background: \"#edf2f7\",\r\n    padding: \"12px 10px\",\r\n    fontWeight: \"700\",\r\n    color: \"#2d3748\",\r\n    textAlign: \"left\",\r\n    whiteSpace: \"nowrap\",\r\n    borderBottom: \"2px solid #cbd5e0\",\r\n  },\r\n  tr: {\r\n    borderBottom: \"1px solid #e2e8f0\",\r\n  },\r\n  td: {\r\n    padding: \"12px 10px\",\r\n    whiteSpace: \"nowrap\",\r\n  },\r\n  tdFinal: {\r\n    padding: \"12px 10px\",\r\n    whiteSpace: \"nowrap\",\r\n    fontWeight: \"700\",\r\n    color: \"#2d3748\",\r\n    fontSize: \"14px\",\r\n  },\r\n  tableImg: {\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n    borderRadius: \"8px\",\r\n    objectFit: \"cover\",\r\n    border: \"1px solid #e2e8f0\",\r\n  },\r\n  diffPositive: {\r\n    color: \"#48bb78\",\r\n    fontWeight: \"600\",\r\n  },\r\n  diffNegative: {\r\n    color: \"#f56565\",\r\n    fontWeight: \"600\",\r\n  },\r\n  statusActive: {\r\n    background: \"#c6f6d5\",\r\n    color: \"#22543d\",\r\n    padding: \"6px 12px\",\r\n    borderRadius: \"6px\",\r\n    fontWeight: \"600\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"12px\",\r\n  },\r\n  statusInactive: {\r\n    background: \"#fed7d7\",\r\n    color: \"#742a2a\",\r\n    padding: \"6px 12px\",\r\n    borderRadius: \"6px\",\r\n    fontWeight: \"600\",\r\n    border: \"none\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"12px\",\r\n  },\r\n  menuButton: {\r\n    background: \"#f7fafc\",\r\n    border: \"1px solid #e2e8f0\",\r\n    borderRadius: \"6px\",\r\n    padding: \"4px 10px\",\r\n    fontSize: \"18px\",\r\n    cursor: \"pointer\",\r\n  },\r\n  dropdown: {\r\n    position: \"absolute\",\r\n    right: \"0\",\r\n    top: \"32px\",\r\n    background: \"#fff\",\r\n    border: \"1px solid #e2e8f0\",\r\n    borderRadius: \"8px\",\r\n    boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\r\n    zIndex: \"100\",\r\n    minWidth: \"140px\",\r\n  },\r\n  dropdownItem: {\r\n    display: \"block\",\r\n    width: \"100%\",\r\n    padding: \"10px 15px\",\r\n    background: \"transparent\",\r\n    border: \"none\",\r\n    textAlign: \"left\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"13px\",\r\n    fontWeight: \"500\",\r\n    borderBottom: \"1px solid #f7fafc\",\r\n  },\r\n  dropdownItemDelete: {\r\n    display: \"block\",\r\n    width: \"100%\",\r\n    padding: \"10px 15px\",\r\n    background: \"transparent\",\r\n    border: \"none\",\r\n    textAlign: \"left\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"13px\",\r\n    fontWeight: \"500\",\r\n    color: \"#f56565\",\r\n  },\r\n  pagination: {\r\n    marginTop: \"20px\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    gap: \"8px\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  paginationBtn: {\r\n    padding: \"8px 12px\",\r\n    borderRadius: \"6px\",\r\n    background: \"#fff\",\r\n    border: \"1px solid #e2e8f0\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"13px\",\r\n  },\r\n  paginationBtnActive: {\r\n    padding: \"8px 12px\",\r\n    borderRadius: \"6px\",\r\n    background: \"#3182ce\",\r\n    color: \"white\",\r\n    border: \"1px solid #2c5282\",\r\n    cursor: \"pointer\",\r\n    fontSize: \"13px\",\r\n  },\r\n  modalOverlay: {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: \"rgba(0, 0, 0, 0.5)\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    zIndex: \"1000\",\r\n    padding: \"20px\",\r\n  },\r\n  modal: {\r\n    background: \"#fff\",\r\n    borderRadius: \"16px\",\r\n    padding: \"30px\",\r\n    maxWidth: \"700px\",\r\n    width: \"100%\",\r\n    maxHeight: \"90vh\",\r\n    overflowY: \"auto\",\r\n    boxShadow: \"0 10px 40px rgba(0, 0, 0, 0.3)\",\r\n  },\r\n  modalTitle: {\r\n    fontSize: \"22px\",\r\n    fontWeight: \"700\",\r\n    color: \"#2d3748\",\r\n    marginBottom: \"20px\",\r\n    textAlign: \"center\",\r\n  },\r\n  formGrid: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\r\n    gap: \"16px\",\r\n    marginBottom: \"16px\",\r\n  },\r\n  formGroup: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    gap: \"6px\",\r\n  },\r\n  label: {\r\n    fontWeight: \"600\",\r\n    fontSize: \"13px\",\r\n    color: \"#4a5568\",\r\n  },\r\n  input: {\r\n    padding: \"10px 12px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #cbd5e0\",\r\n    fontSize: \"14px\",\r\n    outline: \"none\",\r\n  },\r\n  select: {\r\n    padding: \"10px 12px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #cbd5e0\",\r\n    fontSize: \"14px\",\r\n    outline: \"none\",\r\n  },\r\n  textarea: {\r\n    padding: \"10px 12px\",\r\n    borderRadius: \"8px\",\r\n    border: \"1px solid #cbd5e0\",\r\n    fontSize: \"14px\",\r\n    outline: \"none\",\r\n    resize: \"vertical\",\r\n    minHeight: \"80px\",\r\n  },\r\n  fileInput: {\r\n    padding: \"8px\",\r\n    fontSize: \"13px\",\r\n  },\r\n  helpText: {\r\n    fontSize: \"11px\",\r\n    color: \"#718096\",\r\n    fontStyle: \"italic\",\r\n  },\r\n  formActions: {\r\n    display: \"flex\",\r\n    gap: \"12px\",\r\n    marginTop: \"20px\",\r\n  },\r\n};"],"mappings":";;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}